<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Django</title>
      <link href="/xfrl/2021/07/15/Django/"/>
      <url>/xfrl/2021/07/15/Django/</url>
      
        <content type="html"><![CDATA[<h1 id="Django"><a href="#Django" class="headerlink" title="Django"></a>Django</h1><h2 id="命令及配置"><a href="#命令及配置" class="headerlink" title="命令及配置"></a>命令及配置</h2><p>切换到创建项目的目录  </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd C:\Users\admin\Desktop\DjangoProject</span><br></pre></td></tr></table></figure><p>创建名为project的项目命令 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">django-admin startproject project</span><br></pre></td></tr></table></figure><pre><code>注：所有路径不要有中文切换到目录cd C:\Users\admin\Desktop\DjangoProject\project</code></pre><p>目录层级说明：manage.py  一个命令行工具，可以让我们用多种方式对Django项目进行交互</p><pre><code>__init__.py 一个空文件，它告诉Python这个目录应该被看做一个包settings.py 项目的配置文件（主要处理文件）urls.py     项目的url声明 （主要处理文件）wsgi.py     项目与WSGI兼容的Web服务器入口</code></pre><p>配置数据库   Django默认使用SQLite数据库<br>            在settings.py文件中通过DATABASES选项进行数据库配置</p><p>配置MySQL    Python3.x中安装的是PyMySQL<br>            在__init__.py文件中写入两行代码import pymysql<br>                                        pymysql.install_as_MySQLdb()</p><p>以数据库sunck为例进行示范：对settings.py中的DATABASES进行设置</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;ENGINE&#x27;</span>: <span class="string">&#x27;django.db.backends.mysql&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;NAME&#x27;</span>: <span class="string">&quot;sunck&quot;</span>,</span><br><span class="line">        <span class="string">&#x27;USER&#x27;</span>: <span class="string">&quot;root&quot;</span>,</span><br><span class="line">        <span class="string">&#x27;PASSWORD&#x27;</span>: <span class="string">&quot;admin123&quot;</span>,</span><br><span class="line">        <span class="string">&#x27;HOST&#x27;</span>: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">        <span class="string">&#x27;PORT&#x27;</span>: <span class="string">&quot;3306&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>创建应用–在一个项目中可以创建多个应用，每个应用进行一种业务处理<br>        打开CMD,进入project(目录名)的目录下，输入命令创建名为myApp的app:</p><pre><code>python manage.py startapp myAPP</code></pre><h2 id="myAPP目录说明"><a href="#myAPP目录说明" class="headerlink" title="myAPP目录说明"></a>myAPP目录说明</h2><pre><code>admin.py    进行站点配置models.py   创建模型views.py    创建视图</code></pre><p>激活应用  在settings.py文件中，将myApp应用加入到INSTALLED_APPS选项中</p><pre><code>INSTALLED_APPS = [    &#39;django.contrib.admin&#39;,    &#39;django.contrib.auth&#39;,    &#39;django.contrib.contenttypes&#39;,    &#39;django.contrib.sessions&#39;,    &#39;django.contrib.messages&#39;,    &#39;django.contrib.staticfiles&#39;,    &#39;myApp&#39;,]</code></pre><p>定义模型 概述：有一个数据表就对应有一个模型</p><pre><code>    在models.py文件中定义模型        引入：from django.db import models        模型类要继承models.Model类        示例：            class Grades(models.Model):                gname = models.CharField(max_length=20)                gdate = models.DateTimeField()                ggirlnum = models.IntegerField()                gboynum = models.IntegerField()                isDelete = models.BooleanField(default=False)            class Students(models.Model):                sname = models.CharField(max_length=20)                sgender = models.BooleanField(default=True)                sage = models.IntegerField()                scontend = models.CharField(max_length=20)                isDelete = models.BooleanField(default=False)                sgrade = models.ForeignKey(&quot;Grades&quot;, on_delete=models.CASCADE,)        说明：            不需要定义主键，在生成时自动添加，并且值为自动增加</code></pre><p>在数据库中生成数据表</p><pre><code>生成迁移文件    执行 python manage.py makemigrations    在migrations目录下生成一个迁移文件，此时数据库中还没有生成数据表执行迁移    执行 python manage.py migrate           相当于执行MySQL语句创建了数据表</code></pre><h2 id="测试数据操作"><a href="#测试数据操作" class="headerlink" title="测试数据操作"></a>测试数据操作</h2><p>进入到python shell</p><pre><code>执行 python manage.py shell</code></pre><p>引入包</p><pre><code>from myApp.models import Grades, Studentsfrom django.utils import timezonefrom datetime import *</code></pre><p>查询所有数据</p><pre><code>类名.objects.all()示例： Grades.objects.all()</code></pre><p>添加数据</p><pre><code>本质：创建一个模型类的对象实例示例：CMD窗口下：    grade1 = Grades()    grade1.gname = &quot;python04&quot;    grade1.gdate = datetime(year=2017, month=7, day=17)    grade1.ggirlnum = 3    grade1.gboynum = 70    grade1.save()</code></pre><p>查看某个对象</p><pre><code>类名.objects(pk=索引号)示例：    Grades.objects.get(pk=2)    Grades.objects.all()</code></pre><p>修改某个数据</p><pre><code>模型对象属性 = 新值示例：    grade2.gboynum = 60    grade2.save()</code></pre><p>删除数据</p><pre><code>模型对象.delete()grade2.delete()注意：这是物理删除，数据库中的相应数据被永久删除</code></pre><p>关联对象</p><pre><code>示例：    stu = Students()    stu.sname = &quot;Xue Yanmei&quot;    stu.sgender = False    stu.sage = 20    stu.scontend = &quot;I am Xue Yanmei&quot;    stu.sgrade = grade1    stu.save()获得关联对象的集合    需求：猎取python04班级的所有学生         对象名.关联的类名小写_set.all()         示例：grade1.students_set.all()    需求:创建曾志伟，属于python04班级        示例：            stu3 = grade1.students_set.create(sname=u&#39;Zhen Zhiwei&#39;,sgender=True,scontend=u&quot;I am Zhen Zhiwei&quot;,sage=45)        注意：这样创建的数据直接被添加到了数据库当中。</code></pre><p>启动服务器:</p><pre><code>格式：python manage.py runserver ip:port注意：ip可以不写，不写代表本机ip端口号默认是8000python manage.py runserver说明：    这是一个纯python编写的轻量级web服务器，仅仅在开发测试中使用这个</code></pre><p>Admin站点管理：</p><pre><code>概述：    内容发布：负责添加，修改，删除内容的    公告访问配置Admin应用：    在settings.py文件中的INSTALLED_APPS中添加&#39;django.contrib.admin&#39;,    这条默认是添加好的。创建管理员用户：    在项目目录下执行 python manage.py createsuperuser    依次输入账号名，邮箱，密码即可完成用户创建登陆：    http://127.0.0.1:8000/admin/汉化：    把project\settings.py    中作如下设定：LANGUAGE_CODE = &#39;zh-Hans&#39;                 TIME_ZONE = &#39;Asia/Shanghai&#39;</code></pre><p>管理数据表：</p><pre><code>修改 myAPP\admin.py 如下：    from django.contrib import admin    # Register your models here.    from .models import Grades, Students    # 注册    admin.site.register(Grades)    admin.site.register(Students)自定义管理页面：    属性说明        # 列表页属性        list_display = [] # 显示字段设置        list_filter = [] # 过滤字段设置        search_fields = [] # 搜索字段设置        list_per_page = [] # 分页设置        # 添加，修改页属性        fields = [] # 规定属性的先后顺序        fieldsets = [] # 给属性分组 注意：fields与fieldsets不能同时使用    属性示例：        # 列表页属性        list_display = [&#39;pk&#39;, &#39;gname&#39;, &#39;gdate&#39;, &#39;ggirlnum&#39;, &#39;gboynum&#39;, &#39;isDelete&#39;]        list_filter = [&#39;gname&#39;]        search_fields = [&#39;gname&#39;]        list_per_page = 5        # 添加，修改页属性        # fields = [&#39;ggirlnum&#39;, &#39;gboynum&#39;, &#39;gname&#39;, &#39;gdate&#39;, &#39;isDelete&#39;]        fieldsets = [            (&quot;num&quot;,&#123;&quot;fields&quot;:[&#39;ggirlnum&#39;, &#39;gboynum&#39;]&#125;),            (&quot;base&quot;, &#123;&quot;fields&quot;:[&quot;gname&quot;, &quot;gdate&quot;, &quot;isDelete&quot;]&#125;),        ]    关联对象：需求：在创建一个班级时可以直接添加几个学生        class StudentsInfo(admin.TabularInline):# 可选参数admin.StackedInline            model = Students            extra = 2        class GradesAdmin(admin.ModelAdmin):            inlines = [StudentsInfo]    布尔值显示问题示例：        class StudentsAdmin(admin.ModelAdmin):            def gender(self):                if self.sgender:                    return &quot;男&quot;                else:                    return &quot;女&quot;            # 设置页面列的名称            gender.short_description = &quot;性别&quot;            list_display = [&#39;pk&#39;, &#39;sname&#39;, &#39;sage&#39;, gender,                            &#39;scontend&#39;, &#39;sgrade&#39;, &#39;isDelete&#39;]            list_per_page = 10        admin.site.register(Students, StudentsAdmin)    执行按钮位置：        class StudentsAdmin(admin.ModelAdmin):            ...snip...            actions_on_top = False            actions_on_bottom = True        admin.site.register(Students, StudentsAdmin)    使用装饰器完成注册：        @admin.register(Students)            class StudentsAdmin(admin.ModelAdmin):                def gender(self):                ...snip...                actions_on_top = False                actions_on_bottom = True</code></pre><h2 id="视图的基本使用"><a href="#视图的基本使用" class="headerlink" title="视图的基本使用"></a>视图的基本使用</h2><pre><code>概述：    在Django中，视图是对web请求进行回应    视图就是一个python函数，在views.py文件中定义。定义视图：    示例：在myApp\views.py中写入        from django.shortcuts import render        # Create your views here.        from django.http import HttpResponse        def index(request):            return HttpResponse(&quot;Sunck is a good man&quot;)配置url：方法一：path方法:    修改project目录下的urls.py文件：        from django.contrib import admin        from django.urls import path, include        urlpatterns = [            path(&#39;admin/&#39;, admin.site.urls),            path(&#39;&#39;, include(&#39;myApp.urls&#39;)),        ]    在myApp应用目录下创建urls.py文件：        from django.urls import path, include        from . import views        urlpatterns = [            path(&#39;&#39;,views.index),        ]配置url：方法二：url方法:    修改project目录下的urls.py文件：        from django.contrib import admin        from django.conf.urls import url,include        urlpatterns = [            url(r&#39;^admin/&#39;, admin.site.urls),            url(r&#39;^&#39;, include(&#39;myApp.urls&#39;)),        ]    在myApp应用目录下创建urls.py文件：        from django.conf.urls import url        from . import views        urlpatterns = [            url(r&#39;^$&#39;, views.index),        ]</code></pre><h2 id="模板的基本使用："><a href="#模板的基本使用：" class="headerlink" title="模板的基本使用："></a>模板的基本使用：</h2><pre><code>概述：模板是HTML页面，可以根据视图中传递过来的数据进行填充创建模板：    创建templates目录，在目录下创建对应项目的模板目录（project/templates/myApp）配置模板路径：    修改settings.py文件下的TEMPLATES下的&#39;DIRS&#39;为&#39;DIRS&#39;: [os.path.join(BASE_DIR, &#39;templates&#39;)],定义grades.html与students.html模板：    在templates\myApp\目录下创建grades.html与students.html模板文件    模板语法：        &#123;&#123;输出值，可以是变量，也可以是对象，属性&#125;&#125;        &#123;%执行代码段%&#125;http://127.0.0.1:8000/grades    写grades.html模板：        &lt;!doctype html&gt;        &lt;html lang=&quot;en&quot;&gt;        &lt;head&gt;            &lt;meta charset=&quot;UTF-8&quot;&gt;            &lt;meta name=&quot;viewport&quot;                  content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;            &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;            &lt;title&gt;班级信息&lt;/title&gt;        &lt;/head&gt;        &lt;body&gt;            &lt;h1&gt;班级信息列表&lt;/h1&gt;            &lt;ul&gt;                &lt;!--[python04, python05, python06]--&gt;                &#123;%for grade in grades%&#125;                    <li>                        <a href="#">&#123;&#123;grade.gname&#125;&#125;</a>                    </li>                    &#123;%endfor%&#125;            &lt;/ul&gt;        &lt;/body&gt;        &lt;/html&gt;    定义视图：myApp\views.py        from .models import Grades        def grades(request):            # 去模板里取数据            gradesList = Grades.objects.all()            # 将数据传递给模板,模板再渲染页面，将渲染好的页面返回给浏览器            return render(request, &#39;myApp/grades.html&#39;, &#123;&quot;grades&quot;: gradesList&#125;)    配置url:myApp\urls.py    urlpatterns = [        url(r&#39;^$&#39;, views.index),        url(r&#39;^(\d+)/(\d+)$&#39;, views.detail),        url(r&#39;^grades/&#39;, views.grades)    ]http://127.0.0.1:8000/students    写students.html模板        &lt;!doctype html&gt;        &lt;html lang=&quot;en&quot;&gt;        &lt;head&gt;            &lt;meta charset=&quot;UTF-8&quot;&gt;            &lt;meta name=&quot;viewport&quot;                  content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;            &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;            &lt;title&gt;学生页面&lt;/title&gt;        &lt;/head&gt;        &lt;body&gt;            &lt;h1&gt;学生信息列表&lt;/h1&gt;            &lt;ul&gt;                &#123;%for student in students%&#125;                    <li>                        &#123;&#123;student.sname&#125;&#125;--&#123;&#123;student.scontend&#125;&#125;                    </li>                    &#123;%endfor%&#125;            &lt;/ul&gt;        &lt;/body&gt;        &lt;/html&gt;    定义视图：myApp\views.py        from .models import Students        def students(request):            studentsList = Students.objects.all()            return render(request, &#39;myApp/students.html&#39;, &#123;&quot;students&quot;: studentsList&#125;)    配置url:myApp\urls.py        urlpatterns = [        url(r&#39;^$&#39;, views.index),        url(r&#39;^(\d+)/(\d+)$&#39;, views.detail),        url(r&#39;^grades/&#39;, views.grades),        url(r&#39;^students/&#39;, views.students),    ]需求:点击班级，显示对应班级的学生名字    运行不正常https://www.bilibili.com/video/av17879644/?p=12</code></pre><h2 id="Django流程梳理"><a href="#Django流程梳理" class="headerlink" title="Django流程梳理"></a>Django流程梳理</h2><pre><code>创建工程：执行 django-admin startproject 工程名创建项目：执行 python manage.py startapp 项目名称激活项目：修改 settings.py中的INSTALLED_APPS配置数据库：    修改__init__.py文件    修改settings.py文件中的DATABASES创建模型类：在项目目录下的models.py文件中创建生成迁移文件：执行python manage.py makemigrations执行迁移：执行python manage.py migrate配置站点：略创建模板目录/项目模板目录在settings.py中的TEMPLATES添加templates路径在工程目录下（project）修改urls.py在项目目录下创建urls.py</code></pre><h2 id="使用他人Django代码需要的简易修改："><a href="#使用他人Django代码需要的简易修改：" class="headerlink" title="使用他人Django代码需要的简易修改："></a>使用他人Django代码需要的简易修改：</h2><pre><code>1.在settings.py中修改数据库名2.在settings.py中修改数据库密码3.删除由内向外文件（在对应目录里鼠标右键删除）4.在数据库中创建对应第一步的数据库(自己在SQL中创建)5.执行生成迁移文件6.执行迁移7.启动服务8.浏览器测试</code></pre><h2 id="Django模型"><a href="#Django模型" class="headerlink" title="Django模型"></a>Django模型</h2><pre><code>Django对各种数据库提供了很好的支持，Django为这些数据库提供了统一的调用API我们可以根据不同的业务需求选择不同的数据库。配置数据库    修改工程目录下的__init__.py文件        import pymysql        pymysql.install_ad_MySQLdb()    修改settings.py文件中的DATABASES开发流程    配置数据库    定义模型类：一个模型都在数据库中对应一张数据库表    生成迁移文件    执行迁移生成数据表    使用模型类进行增删改查ORM    概述：对象-关系-映射    任务：        根据对象的类型生成表结构        将对象，列表的操作转换成SQL语句        将SQL语句查询到的结果转换为对象，列表    优点：        极大的减轻了开发人员的工作量，不需要面对因数据库的变更而修改代码的问题定义模型    模型，属性，表，字段之间的关系        一个模型类在数据库中对应一张表，在模型类中定义的属性，对应该模型对照表中的一个字段    定义属性：见下文    创建模型类    元选项        在模型类中定义Meta类，用于设置元信息        示例：            class Meta:                db_table = &quot;students&quot;                ordering = [&#39;id&#39;]        db_table            定义数据表名，推荐用小写字母，数据表名默认为项目名小写_类名小写        ordering            对象的默认排序字段，获取对象的列表时使用            示例：                ordering[&#39;id&#39;] id按升序排列                ordering[&#39;-id&#39;] id按降序排列            注意：排序会增加数据库开销模型成员    类属性        隐藏类属性objects：            是Manager类型的一个对象，作用是与数据库进行交互            当定义模型类时没有指定管理器，则Django为模型创建一个名为objects的管理器        自定义管理器示例：            定义stuObj管理器：                stuObj = models.Manager()            当为模型指定模型管理器，Django就不再为模型类生成objects模型管理器了。        自定义管理器Manager类            模型管理器是Django的模型进行与数据库交互的窗口，一个模型可以有多个模型管理器            作用：                向管理器类中添加额外的方法                修改管理器返回的原始查询集                    通常会重写get_queryset()方法            代码示例：                class StudentsManager(models.Manager):                    def get_queryset(self):                        return super(StudentsManger, self).get_queryset().filter(isDelete=False)                class Students(model.Moder):                    # 自定义模型管理器                    # 当自定义模型管理器，objects就不存在了                    stuObj = models.Manger()                    stuObj2 = StudentsManager()    创建对象        目的：向数据库中添加数据        当创建对象时，django不会对数据库进行读写操作，当调用save()方法时才与数据库交互，将对象保存在数据库表中。        注意：            __init__方法已经在父类models.Model中使用，在自定义的模型中无法使用。        方法：            在模型类中增加一个类方法，示例如下：                class Students(model.Moder):                    ...snip...                     @classmethod                    def createStudent(cls, name, age, gender, contend,                                      grade,lastT, createT, isD=False):                        stu = cls(sname=name, sage=age, sgender=gender,                                    scontend=contend, sgrade=grade, lastTime=lastT, createTime=createT,                                    isDelete=isD)                        return stu            在自定义管理器中添加一个方法,示例如下：                class StudentsManager(models.Manager):                    def get_queryset(self):                        return super(StudentsManager, self).get_queryset().filter(isDelete=False)                    def createStudent(self, name, age, gender, contend, grade, lastT, createT, isD=False):                        stu = self.model()                        # print(type(grade))                        stu.sname = name                        stu.sage = age                        stu.sgender = gender                        stu.scontend = contend                        stu.sgrade = grade                        stu.lastTime = lastT                        stu.createTime = createT                        return stu    模型查询        概述            查询集表示从数据库获取的对象的集合            查询集可以有多个过滤器            过滤器就是一个函数，基于所给的参数限制查询集结果            从SQL角度来说，查询集和select语句等价，过滤器就像where条件        查询集            在管理器上调用过滤器方法返回查询集            查询集经过过滤器筛选后返回新的查询集，所以可以写成链式调用            惰性执行                创建查询集不会带来任何数据库的访问，直到调用数据库时，才会访问数据            直接访问数据的情况：                迭代                序列化                与if合用            返回查询集的方法称为过滤器                all()：返回查询集中的所有数据                filter()：保留符合条件的数据                    filter(键=值)                    filter(键=值，键=值)                    filter(键=值).filter(键=值)   且的关系                exclude()：过滤掉符合条件的                order_by()：排序                values():一条数据就是一个字典，返回一个列表                get()                    返回一个满足条件的对象                    注意：                        如果没有找到符合条件的对象，会引发模型类.DoesNotExist异常                        如果找到多个对象，会引发模型类MultipleObjectsReturned异常                count()：返回查询集中对象的个数                first()：返回查询集中第一个对象                last():返回查询集中最后一个对象                exits()：判断查询集中是否有数据，如果有数据返回 True,否则返回 False.            限制查询集                查询集返回列表，可以使用下标的方法进行限制，等同于sql中的limit语句                注意：下标不能是负数                示例：studentsList = Students.stuObj2.all()[0:5]            查询集的缓存                概述：                    每个查询集都包含一个缓存，来最小化对数据库的访问                    在新建的查询集中，缓存首次为空，第一次对查询集求值，会发生数据缓存，Django会将查询出来的数据做一个缓存，并返回查询结果。                    以后的查询直接使用查询集的缓存            字段查询                概述                    实现了sql中的where语句，作为方法filter(),exclude(),get()的参数                    语法：属性名称__比较运算符=值                    外键：属性名称_id                    转义：类似sql中的like语句                         like有关情况看我哥他%是为了匹配点位，匹配数据中的%使用（where like &quot;\%&quot;）                         filter(sname__contains=&quot;%&quot;)                比较运算符                    exact:判断，大小写敏感                        filter(isDelete=False)                    contains：是否包含，大小写敏感                        studentsList = Students.stuObj2.filter(sname__contains=&quot;孙&quot;)                    startswith,endswith:以value开头或结尾，大小写敏感                    以上四个在前面加上i，就表示不区分大小写iexact,icontains,istartswith,iendswith                    isnull,isnotnull                        是否为空                        filter(sname__isnull=False)                    in:是否包含在范围内                    gt大于,gte大于等于,lt小于,lte小于等于                    year,month,day,week_day,hour,minute,second                        studentsList = Students.stuObj2.filter(lastTime__year=2017)                    跨关联查询                        处理join查询                            语法:                                模型类名__属性名__比较运算符                                # 描述中带有‘薛延美’这三个字的数据是属于哪个班级的                                grade = Grades.objects.filter(students__scontend__contains=&#39;薛延美&#39;)                                print(grade)                        查询快捷pk代表的主键                    聚合函数                        使用aggregate函数返回聚合函数的值                        Avg                        Count                        Max                            maxAge = Student.stuObj2.aggregate(Max(&#39;sage&#39;))                            maxAge为最大的sage。                        Min                        Sum                    F对象                        可以使用模型的A属性与B属性进行比较                        from django.db.models import F,Q                        def grades1(request):                            g = Grades.objects.filter(ggirlnum__gt=F(&#39;gboynum&#39;))                            print(g)                            # [&lt;Grades: python02&gt;,&lt;Grades: python03&gt;]                            return HttpResponse(&quot;OOOOOOOo&quot;)                        支持F对象的算术运算                            g = Grades.objects.filter(ggirlnum__gt=F(&#39;gboynum&#39;)+20)                    Q对象                        概述：过滤器的方法的关键字参数，条件为And模式                        需求：进行or查询                        解决：使用Q对象                            def students4(request):                                studentsList = Students.stuObj2.filter(Q(pk__lte=3) | Q(sage__gt=50))                                return render(request, &#39;myApp/students.html&#39;, &#123;&quot;students&quot;: studentsList&#125;)                            只有一个Q对象的时候，就是用于正常匹配条件                            studentsList = Students.stuObj2.filter(~Q(pk__lte=3))                            ~Q是取反</code></pre><h2 id="定义属性"><a href="#定义属性" class="headerlink" title="定义属性"></a>定义属性</h2><pre><code>概述：    django根据属性的类型确定以下信息        当前选择的数据库支持字段的类型        渲染管理表单时使用的默认html控件        在管理站点最低限度的验证    django会为表增加自动增长的主键列，每个模型只能有一个主键列，如    果使用选项设置某属性为主键列后，则django不会再生成默认的主键列    属性命名限制        遵循标识符规则，且变量不能与Python保留字相同        由于django的查询方式，不允许使用连续的下划线库    定义属性时，需要字段类型，字段类型被定义在django.db.models.fields目录下，    为了方便使用，被导入到django.db.models中    使用方式        导入: from django.db import models        通过 models.Field创建字段类型的对象，赋值给属性逻辑删除    对于重要类型都做逻辑删除，不做物理删除，实现方法是定义idDelete属性，    类型为BooleanField,默认值为False字段类型    autoField        一个根据实际ID自动增长的IntegerField,通常不指定，        如果不指定，一个主键字段将自动添加到模型中    CharField(max_length=字符长度)        字符串，默认的表彰样式是TextInput    TextField        大文本字段，一般超过4000时使用，默认的表单控件是Textarea    IntegerField        整数    DecimalField(max_digits=None, decimal_places=None)        使用Python的Decimal实例表示的十进制浮点数        参数说明            DecimalField.max_digits                位数总数            DecimalField.decimal_places                小数点后的数字位置    FloatField        使用Python的float实例来表示的浮点数    BooleanField        True/False 字段，此字段的默认表彰控制是CheckboxInput    NullBooleanField        支持 Null, True, False 三种值    DateField([auto_now=False, auto_now_add=False])        使用Python的datetime.date实例表示的日期        参数说明：            DateField.auto_now                每次保存对象时，自动设置该字段为当前时间，用于“最后一次修改”                的时间戳，它总是使用当前日期，默认为 False            DateField.auto_now_add                当前对象第一次被创建时自动设置当前时间，用于创建的时间戳，                它总是使用当前日期，默认为 False        说明            该字段默认对应的表单控件是一个TextInput.在管理员站点添加了一个            JavaScript写的日历控件，和一个“Today”的快捷按钮，包含了一个额外            的invalid_date错误消息键        注意            auto_now_add, auto_now, and default 这些设置是相互排斥的，他们之间            的任何组合将会发生错误的结果    TimeField        使用Python的datetime.time实例表示的时间，参数同DateField    DateTimeField        使用Python的datetime        datetime实例表示的日期和时间，参数同DateField    FileField        一个上传文件的字段    ImageField        继承了FileField的所有属性和方法，但对上传的对象进行校验，        确保它是一个有效的image字段选项    概述        通过字段选项，可以实现对字段的约束        在字段对象中通过关键字参数指定    null        如果为True,Django将空值以NULL存储在数据库中，默认值为 False    blanke        如果为True,则该字段允许为空白，默认值为 False    注意        null是数据库范畴的概念，blank是表彰验证范畴的概念    db_column        字段的名称，如果未指定，则使用属性的名称    db_index        若值为 True,则在表中会为此字段创建索引    default        默认值    primary_key        若为 True,则该字段会成为模型的主键字段    unique        如果为 True,这个字段在表中必须有唯一值关系    分类        ForeignKey:一对多，将字段定义在多的端中        ManyToManyField:多对多，将字段定义在两端中        OneToOneField：一对一，将字段定义在任意一端中    用一访问多        格式            对象.模型类小写_set        示例            grade.students_set    用一访问一        格式            对象.模型类小写        示例            grade.studnets    访问id        格式            对象.属性_id        示例            student.sgrade_id</code></pre><h2 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h2><pre><code>概述：    作用：视图接收web请求，并响应web请求    本质：视图就是python中的一个函数    响应：        响应过程：            用户在浏览器中输入网址www.sunck.wang/sunck/index.html            ---网址---&gt;            django获取网址信息，去掉IP与端口号，网址变成：sunck/index.html            ---虚拟路径与文件名---&gt;            url管理器逐个匹配urlconf,记录视图函数            ---视图函数名---&gt;            视图管理，找到对应的视图去执行，返回结果给浏览器            ---响应的数据---&gt;            返回第一步：用户在浏览器中输入网址        网页            重定向            错误视图                404视图：找不到网页（url匹配不成功时返回）时返回                    在templates目录下定义404.html                        &lt;!doctype html&gt;                        &lt;html lang=&quot;en&quot;&gt;                        &lt;head&gt;                            &lt;meta charset=&quot;UTF-8&quot;&gt;                            &lt;meta name=&quot;viewport&quot;                                  content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;                            &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;                            &lt;title&gt;Document&lt;/title&gt;                        &lt;/head&gt;                        &lt;body&gt;                            &lt;h1&gt;页面丢失&lt;/h1&gt;                            &lt;h2&gt;&#123;&#123;request_path&#125;&#125;&lt;/h2&gt;                        &lt;/body&gt;                        &lt;/html&gt;                        request_path:导致错误的网址                    配置settings.py                        DEBUG                            如果为 True,永远不会调用404页面，需要调整为 False 才会显示                        ALLOWED_HOSTS = [&#39;*&#39;]                500视图：在视图代码中出现错误（服务器代码错误）                400视图：错误出现在客户的操作        JSON数据url配置    配置流程：        制定根级url配置文件            settings.py文件中的ROOT_URLCONF            ROOT_URLCONF = &#39;project.urls&#39;            默认实现了        urlpatterns            一个url实例的列表            url对象                正则表达式                视图名称                名称        url匹配正则的注意事项            如果想要从url中获取一个值，需要对正则加小括号            匹配正则前方不需要加&#39;/&#39;            正则前需要加&#39;r&#39;表示字符串不转义    引入其他url配置        在应用中创建urls.py文件，定义本应用的url配置，在工程urls.py中使用include方法            project\urls.py            from django.contrib import admin            from django.conf.urls import url,include            urlpatterns = [                url(r&#39;^admin/&#39;, admin.site.urls),                url(r&#39;^&#39;, include(&#39;myApp.urls&#39;, namespace=&quot;myAPP&quot;)),            ]            myApp\urls.py            from django.urls import path, include            from django.conf.urls import url            from . import views            urlpatterns = [                url(r&#39;^$&#39;, views.index, name=&quot;index&quot;),            ]    url的反向解析        概述：如果在视图，模板中使用了硬编码链接，在url配置发生改变时，动态生成链接的地址        解决：在使用链接时，通过url配置的名称，动态生成url地址        作用：使用url模板视图函数    定义视图：        本质：一个函数        视图参数：            一个HttpRequest的实例            通过正则表达式获取的参数        位置：一般在views.py文件下定义HttpRequest对象    概述：        服务器接收http请求后，会根据报文创建HttpRequest对象        视图的第一个参数就是HttpRequest对象        django创建的，之后调用视图时传递给视图    属性        path:请求的完整路径（不包括域名和端口）        method:表示请求的方式，常用的有GET,POST        encoding:表示浏览器提交的数据的编码方式，一般为utf-8        GET：类似于字典的对象，包含了get请求的所有参数        POST:类似于字典的对象，包含了post请求的所有参数        FILES:类似字典的对象，包含了所有上传的文件        COOKIES:字典，包含所有的cookie        session:类似字典的对象，表示当前会话    方法        is_ajax():如果是通过XMLHttpRequest发起的，返回 True    QueryDict对象        request对象中的GET,POST都属于QueryDict对象        方法：            get():                根据键获取值，只能获取一个值                www.sunck.wang/abc?a=1&amp;b=2&amp;c=3            getlist()                将键的值以列表的形式返回                可以获取多个值                www.sunck.wang/abc?a=1&amp;b=2&amp;c=3    GET属性        获取浏览器传递过来数据        www.sunck.wang/abc?a=1&amp;b=2&amp;c=3        urls.py        url(r&#39;^get1&#39;, views.get1),   #结尾不能加$,否则无法匹配        views.py        def get1(request):            a = request.GET.get(&#39;a&#39;)            b = request.GET.get(&#39;b&#39;)            c = request.GET.get(&#39;c&#39;)            return HttpResponse(a + &quot; &quot; + b + &quot; &quot; + c)        www.sunck.wang/abc?a=1&amp;a=2&amp;c=3        urls.py        url(r&#39;^get2&#39;, views.get2),        views.py        def get2(request):            a = request.GET.getlist(&#39;a&#39;)            a1 = a[0]            a2 = a[1]            c = request.GET.get(&#39;c&#39;)            return HttpResponse(a1 + &quot; &quot; + a2 + &quot; &quot; + c)    POST属性        使用表单模拟POST请求        关闭CSRF:project\project\settings.py            MIDDLEWARE = [                &#39;django.middleware.security.SecurityMiddleware&#39;,                &#39;django.contrib.sessions.middleware.SessionMiddleware&#39;,                &#39;django.middleware.common.CommonMiddleware&#39;,                # &#39;django.middleware.csrf.CsrfViewMiddleware&#39;,                &#39;django.contrib.auth.middleware.AuthenticationMiddleware&#39;,                &#39;django.contrib.messages.middleware.MessageMiddleware&#39;,                &#39;django.middleware.clickjacking.XFrameOptionsMiddleware&#39;,            ]        示例：            def showregist(request):                return render(request, &#39;myApp/regist.html&#39;,)            def regist(request):                name = request.POST.get(&quot;name&quot;)                gender = request.POST.get(&quot;gender&quot;)                age = request.POST.get(&quot;age&quot;)                hobby = request.POST.getlist(&quot;hobby&quot;)                print(name)                print(gender)                print(age)                print(hobby)                return HttpResponse(&quot;regist&quot;)        路径：            url(r&#39;^showregist/$&#39;, views.showregist),                url(r&#39;^showregist/regist/$&#39;, views.regist),        页面：               &lt;!doctype html&gt;            &lt;html lang=&quot;en&quot;&gt;            &lt;head&gt;                &lt;meta charset=&quot;UTF-8&quot;&gt;                &lt;meta name=&quot;viewport&quot;                      content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;                &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;                &lt;title&gt;注册&lt;/title&gt;            &lt;/head&gt;            &lt;body&gt;                &lt;form action=&quot;regist/&quot; method=&quot;post&quot;&gt;                    姓名：&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;&quot;/&gt;                    &lt;hr&gt;                    性别：&lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;1&quot;&gt;男&lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;0&quot;&gt;女                    &lt;hr&gt;                    爱好：&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;power&quot;/&gt;权利&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;money&quot;&gt;金钱&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;beauty&quot;&gt;美女&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;Tesla&quot;&gt;Tesla                    &lt;hr&gt;                    &lt;input type=&quot;submit&quot; value=&quot;注册&quot;&gt;                &lt;/form&gt;            &lt;/body&gt;            &lt;/html&gt;HttpResponse对象    概述：        作用：给浏览器返回数据        HttpRequest对象是由Django创建的，HttpResponse对象是由程序员创建    用法：        不用模板，直接返回数据            语句示例：return HttpResponse(&quot;Sunck is a good man&quot;)        调用模板            使用render方法                原型：render(request, templateName[, context])                作用:结合数据和模板，返回一个完整的HTML页面                参数：                    request：请求体对象                    templateName：模板路径                    context：传递给需要渲染在模板上的数据    属性        content:表示返回内容        charset:编码格式        status_code:响应状态码            200            304            404            400        content-type:指定输出的MIME类型    方法        init:使用页面内容实例化HttpResponse对象        write(content):以文件的形式写入        flush():以文件的形式输出缓冲区        set_cookie(key, value, maxAge=None, exprise=None)        delete_cookie(key):            删除cookie            如果删除一个不存在的cookie，就当什么都没发生    子类HttpResponseRedirect        功能：重定向，服务器端的跳转        简写            redirect(to)        to推荐使用反向解析        示例：            from django.http import HttpResponseRedirect            from django.shortcuts import redirect            def redirect1(request):                # return HttpResponseRedirect(&#39;/redirect2&#39;)                return redirect(&#39;/redirect2&#39;)            def redirect2(request):                return HttpResponse(&quot;我是重定向后的视图&quot;)    子类JsonResponse        返回Json数据，一般用于异步请求        __init__(self.data)        data 字典        注意：Content-type类型为application/json状态保持    http协议是无状态的，每次请求都是一次新的请求，它不记得之前的请求。    客户端与服务器的一次通信就是一次会话    实现状态的保持，在客户端或服务端存储有关会话的数据    存储的方式        cookie:所有数据存储在客户端，不要存储敏感的数据        session:所有的数据存储在服务端，在客户端用cookie存储session_id    状态保持的目的:        在一段时间内跟踪请求者的状态，可以实现跨页面访问当前的请求者的数据    注意：不同的请求者之间不会共享这个数据，与请求者一一对应    启用session:project\project\settings.py        INSTALLED_APPS    &#39;django.contrib.sessions&#39;,        MIDDLEWARE    &#39;django.contrib.sessions.middleware.SessionMiddleware&#39;,    使用session        启用session后，每个httpRequest对象都有一个session属性        get[key, default=None]    根据键获取session值        clear()    清空所有会话        flush()    删除当前会话并删除会话的cookie        示例：            # session            def main(request):                # 取session                username = request.session.get(&#39;name&#39;, &#39;游客&#39;)                print(username)                return render(request, &#39;myApp/main.html&#39;, &#123;&#39;username&#39;: username&#125;)            def login(request):                return render(request, &#39;myApp/login.html&#39;)            def showmain(request):                print(&quot;*****************&quot;)                username = request.POST.get(&#39;username&#39;)                # 存储session                request.session[&#39;name&#39;] = username                return redirect(&#39;/main/&#39;)            from django.contrib.auth import logout            def quit(request):                # 清除session                logout(request) # 方法1，推荐                # request.session.clear() # 方法2                request.session.flush() # 方法3                return redirect(&#39;/main/&#39;)    设置session过期时间        set_expiry(value)        request.session.set_expiry(10)  设置为10秒后过期        如果不设置，2个星期后过期        value设置为0代表关闭浏览器时过期        value设置为None代表设置永不过期，不推荐</code></pre><h2 id="Redis使用"><a href="#Redis使用" class="headerlink" title="Redis使用"></a>Redis使用</h2><p>略</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Datamodel</title>
      <link href="/xfrl/2021/06/23/Datamodel/"/>
      <url>/xfrl/2021/06/23/Datamodel/</url>
      
        <content type="html"><![CDATA[<h1 id="datamodel"><a href="#datamodel" class="headerlink" title="datamodel"></a>datamodel</h1><p>datamodel 是一个可以从 JSON 映射到 Python 类的模块。</p><p><strong>支持：</strong></p><ul><li><input checked="" disabled="" type="checkbox"> 字典转对象 ( <code>dict</code> → <code>object</code> )；</li><li><input checked="" disabled="" type="checkbox"> 列表转对象数组 ( <code>list</code> → <code>List[object]</code> )；</li><li><input checked="" disabled="" type="checkbox"> 对象转字典 ( <code>object</code> → <code>dict</code> )；</li><li><input checked="" disabled="" type="checkbox"> 对多层级嵌套的数据结构支持友好。</li></ul><p>目前网上并没有一个比较好的 JSON to Model 库，就算有，其写法也大多繁琐。由于做项目需要经常把从服务器上请求到的 JSON  转换到对应类的实例，于是决定自己写一个。</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install datamodel</span><br></pre></td></tr></table></figure><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p><strong>JSON 转类对象</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">包括需要继承的 Datamodel 类，dataclasses 模块中的 dataclass 装饰器；</span></span><br><span class="line"><span class="string">以及 typing 模块中常用的 List 和 Dict 类型。</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> datamodel <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@dataclass</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">Datamodel</span>):</span></span><br><span class="line">    name: <span class="built_in">str</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    age: <span class="built_in">int</span> = <span class="number">0</span></span><br><span class="line">    height: <span class="built_in">int</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">p = Person.decoder(&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;HjzCy&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;age&quot;</span>: <span class="number">18</span>,</span><br><span class="line">                    <span class="string">&quot;height&quot;</span>: <span class="number">170</span></span><br><span class="line">                    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Person(name=&#x27;HjzCy&#x27;, age=18, height=170)</span></span><br><span class="line"><span class="built_in">print</span>(p)</span><br></pre></td></tr></table></figure><p><strong>类对象转 JSON</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#123;&#x27;name&#x27;: &#x27;HjzCy&#x27;, &#x27;age&#x27;: 18, &#x27;height&#x27;: 170&#125;</span></span><br><span class="line"><span class="built_in">print</span>(p.asdict())</span><br></pre></td></tr></table></figure><p><strong>JSON 转类型实例列表</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">data = <span class="string">&quot;&quot;&quot;[&#123;</span></span><br><span class="line"><span class="string">    &quot;name&quot;: &quot;HjzCy&quot;,</span></span><br><span class="line"><span class="string">    &quot;age&quot;: &quot;18&quot;,</span></span><br><span class="line"><span class="string">    &quot;height&quot;: &quot;170&quot;</span></span><br><span class="line"><span class="string">&#125;,</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    &quot;name&quot;: &quot;YDMS&quot;,</span></span><br><span class="line"><span class="string">    &quot;age&quot;: &quot;15&quot;,</span></span><br><span class="line"><span class="string">    &quot;height&quot;: &quot;176&quot;</span></span><br><span class="line"><span class="string">&#125;]&quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">p_list = Person.decoder(data)</span><br><span class="line"><span class="comment"># [Person(name=&#x27;HjzCy&#x27;, age=18, height=170), Person(name=&#x27;YDMS&#x27;, age=15, height=176)]</span></span><br><span class="line"><span class="built_in">print</span>(p_list)</span><br></pre></td></tr></table></figure><h2 id="Api"><a href="#Api" class="headerlink" title="Api"></a>Api</h2><ul><li><p><strong><code>decoder(cls, data: object)</code></strong></p><p>接收一个 <code>dict</code> 、<code>list</code> 或 <code>str</code> 类型的值作为参数，返回<strong>对应类型的实例</strong>或<strong>对应类型的实例列表</strong>。并且支持自动类型转换。例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@dataclass</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ip</span>(<span class="params">Datamodel</span>):</span></span><br><span class="line">    ip: <span class="built_in">str</span> = <span class="string">&quot;&quot;</span></span><br><span class="line">    port: <span class="built_in">int</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 注意: 被解析的 port 字段值是 str 型</span></span><br><span class="line"><span class="comment"># Ip(ip=&#x27;192.136.1.95&#x27;, port=8080)</span></span><br><span class="line"><span class="built_in">print</span>(Ip.decoder(&#123;<span class="string">&quot;ip&quot;</span>: <span class="string">&quot;192.136.1.95&quot;</span>, <span class="string">&quot;port&quot;</span>: <span class="string">&quot;8080&quot;</span>&#125;))</span><br></pre></td></tr></table></figure><p><strong>注意</strong>：如果某些值不能自动转换到对应的类型，则保留默认值。例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment"># Ip(ip=&#x27;192.136.1.95&#x27;, port=0)</span></span><br><span class="line">  <span class="built_in">print</span>(Ip.decoder(&#123;<span class="string">&quot;ip&quot;</span>: <span class="string">&quot;192.136.1.95&quot;</span>, <span class="string">&quot;port&quot;</span>: <span class="string">&quot;a1234&quot;</span>&#125;))</span><br><span class="line"></span><br><span class="line">- **`asdict()`**</span><br><span class="line"></span><br><span class="line">  将类实例对象转换为对应字段的字典。</span><br><span class="line"></span><br><span class="line"><span class="comment">## 使用说明</span></span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> **类必须经过 `@dataclass` 修饰**</span><br><span class="line"></span><br><span class="line">    python <span class="number">3.7</span> 的新特性，为简单起见，约束所有类型必须使用。参阅 [理解 Python 的 Dataclasses](https://zhuanlan.zhihu.com/p/<span class="number">59657729</span>)。</span><br><span class="line">    </span><br><span class="line"><span class="number">2.</span> **必须为所有属性提供默认值 ( 可为 `<span class="literal">None</span>` )**</span><br><span class="line"></span><br><span class="line">    暂时强制遵守。原因我要在 `decoder` 方法中实例化传进来的类，如果该类中包含只是定义而不初始化的字段时，就会报错。例如：</span><br><span class="line">    ```python</span><br><span class="line"><span class="meta">    @dataclass</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">        name: <span class="built_in">str</span></span><br><span class="line">        age: <span class="built_in">int</span></span><br></pre></td></tr></table></figure><p>  该 <code>Person</code> 传到 <code>decoder</code> 方法中会报错！</p></li></ul><ol start="3"><li><p><strong>不会检测 <code>__init__</code> 中定义的属性</strong></p><p> 如果你已经使用了 <code>@dataclass</code> 修饰类，也许就没必要在定义一个 <code>__init__</code> 方法了。如果需要，请在 <code>__post_init_</code> 方法中执行初始化后要执行的额外操作。</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Datamodel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Datamodel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>maven教学资料</title>
      <link href="/xfrl/2021/06/15/Maven/"/>
      <url>/xfrl/2021/06/15/Maven/</url>
      
        <content type="html"><![CDATA[<h1 id="maven教学资料"><a href="#maven教学资料" class="headerlink" title="maven教学资料"></a>maven教学资料</h1><h2 id="一、项目构建"><a href="#一、项目构建" class="headerlink" title="一、项目构建"></a>一、项目构建</h2><blockquote><p>给你一套源代码，你怎么能跑起来？</p></blockquote><ul><li><p>不能把！就是几个文件夹，几个文件。是不能运行的！</p></li><li><p>是不是需要和idea打交道，告诉idea怎么样才能运行起来，比如知道main方法在哪里？配置文件在哪里，编译好的文件输出到哪里，是不是？当然eclipse也一样。</p></li></ul><blockquote><p>平时我们是怎么构建项目的，项目怎么运行起来呢？</p></blockquote><ul><li>idea帮我们编译</li><li>我们依靠点击构建项目</li><li>一切设置好以后，使用工具（idea）帮我们打包</li></ul><blockquote><p>项目构建中几个关键点?</p></blockquote><ul><li>1、jdk啥版本</li><li>2、哪些文件夹是干啥的！！ 源文件？配置文件？测试文件？在哪里？</li><li>3、如果是web工程，web.xml放哪里？</li><li>4、编译文件，编译后的文件放在哪里。</li><li>5、打包，打包成什么文件</li></ul><h3 id="1、先聊一聊idea的项目结构"><a href="#1、先聊一聊idea的项目结构" class="headerlink" title="1、先聊一聊idea的项目结构"></a>1、先聊一聊idea的项目结构</h3><blockquote><p>好好说说Project Structure</p></blockquote><ul><li>英 /ˈstrʌktʃə(r)/<br>“ 项目结构”对话框允许您管理项目和IDE级别的元素，例如Modules，Facets，Libraries， Artifacts和SDK</li></ul><p><img "" class="lazyload placeholder" data-original="https://img11.360buyimg.com/ddimg/jfs/t1/193906/12/8169/41009/60c85164Efe97ea14/1492b6e2dc2ccb11.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><blockquote><p>打开方式有两种</p></blockquote><p>1、通过工具栏</p><p><img "" class="lazyload placeholder" data-original="https://img14.360buyimg.com/ddimg/jfs/t1/194272/25/8231/14726/60c85198Ee4dde897/5617f11371f36d18.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><p>2、通过快捷键</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ctrl+Shift+Alt+S</span><br></pre></td></tr></table></figure><h4 id="（1）Project选项"><a href="#（1）Project选项" class="headerlink" title="（1）Project选项"></a>（1）Project选项</h4><p>指定项目名称，SDK，语言级别和编译器输出路径。</p><p><img "" class="lazyload placeholder" data-original="https://img14.360buyimg.com/ddimg/jfs/t1/175847/32/14327/91596/60c8522aE2e6d7e1e/ce0130164bb867c6.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><ul><li>Project name：项目名，使用此字段编辑项目名称。</li><li>Project SDK：项目SDK，选择项目SDK。如果所需SDK不在列表中，请单击“ New”，然后选择所需<br>的SDK类型。然后，在打开的对话框中，选择SDK主目录，然后单击确定。要查看或编辑所选SDK<br>的名称和内容，请单击”Edit”。（SDK页面将打开。）</li><li>Project language level：选择要支持的Java语言级别。选定的级别将被用作项目默认值。</li><li>Project compiler output：项目编译器输出，指定IntelliJ IDEA将存储编译结果的路径。单击选择<br>路径对话框中browseButton 的目录。</li><li>指定目录中的两个子目录将被创建：</li><li>production为生产代码。</li><li>test为测试来源。</li><li>在这些子目录中，将为每个模块创建单独的输出目录。输出路径可以在模块级重新定义。</li></ul><h4 id="（2）Modules-选项"><a href="#（2）Modules-选项" class="headerlink" title="（2）Modules 选项"></a>（2）Modules 选项</h4><p>指定项目名称，SDK，语言级别和编译器输出路径。</p><p><img "" class="lazyload placeholder" data-original="https://img11.360buyimg.com/ddimg/jfs/t1/189287/23/8371/70360/60c852a9Ef0ee39e3/3be8097c19b8e6ad.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><ul><li><p>Name：项目名称</p></li><li><p>Souces：这里对Module的开发目录进行文件夹分类，就是说这个module里有什么内容，说明了<br>不同性质的内容放在哪里。</p><p>  注意，这些不同内容的标记代表了一个标准Java工程的各项内容，IntelliJ就是根据这些标记来识别<br>  一个Java工程的各项内容的，比如，它会用javac去编译标记为Sources的源码，打包的时候会把标<br>  记为Resources的资源拷贝到jar包中，并且忽略标记为Exluded的内容。左边显示的是在选中内容<br>  的预览。</p></li><li><p>Paths：为模块配置编译器输出路径，还可以指定与模块关联的外部JavaDocs和外部注释的位置。</p></li><li><p>Dependencies：在此选项卡上，您可以定义模块SDK并形成模块依赖关系列表。</p></li></ul><h4 id="（3）Sources选项"><a href="#（3）Sources选项" class="headerlink" title="（3）Sources选项"></a>（3）Sources选项</h4><ul><li>Sources：源代码存放的文件，蓝色。</li><li>Tests：设置测试代码存放的文件件，绿色。</li><li>Resources：一般对应着Sources文件，一般放配置文件，如：db.properties。</li><li>Test Resources：这个对应着Tests文件夹，存放着Tests代码的配置文件。</li><li>Excluded：设置配出编译检查的文件，例如我们在project模块设置的out文件夹。</li></ul><h4 id="（4）Paths"><a href="#（4）Paths" class="headerlink" title="（4）Paths"></a>（4）Paths</h4><p><img "" class="lazyload placeholder" data-original="https://img11.360buyimg.com/ddimg/jfs/t1/178495/23/9268/192020/60c8536aE1ab7cf45/26a2dc46e78b7af1.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><ul><li><p>Compiler output：编译输出路径。</p></li><li><p>Inherit project compile output path：继承项目编译输出路径 选择此选项以使用为项目指定的路<br>径。即上面在Project选项中设置的out文件路径。</p></li><li><p>Use module compile output path:使用模块编译输出路径。</p><p>  Output path：编译输出路径。</p><p>  Test output path：测试代码编译输出路径。</p><p>  Exclude output paths： 排除输出路径，选中此复选框可以排除输出目录。</p></li><li><p>JavaDoc：使用可用控件组合与模块关联的外部JavaDocs存储位置的列表。</p></li><li><p>External Annotations：外部注释。使用 和 管理与模块关联的外部注释的位置（目录）列<br>表。</p></li></ul><h4 id="（5）Dependencies"><a href="#（5）Dependencies" class="headerlink" title="（5）Dependencies"></a>（5）Dependencies</h4><p>在此选项卡上，您可以定义模块SDK并形成模块依赖关系列表。</p><p><img "" class="lazyload placeholder" data-original="https://img14.360buyimg.com/ddimg/jfs/t1/184112/34/9034/86034/60c853f3E8d7dc824/2117ba0c2f3987fb.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><ul><li>Module SDK：模块SDK，选择模块SDK。<br>  （要将项目SDK与模块相关联，请选择Project SDK。请注意，如果稍后更改了项目SDK，模块SDK<br>  将相应更改。<br>  如果所需SDK不在列表中，请单击“ 新建”，然后选择所需的SDK类型。然后，在打开的对话框中，<br>  选择SDK主目录，然后单击确定。<br>  要查看或编辑所选SDK的名称和内容，请单击编辑。（SDK页面将打开。）</li><li>依赖列表</li><li>相关性存储格式，选择用于存储依赖关系的格式（作为IntelliJ IDEA模块或Eclipse项目）。该选项<br>对使用不同开发工具的团队有帮助。</li></ul><h4 id="（6）Libraries"><a href="#（6）Libraries" class="headerlink" title="（6）Libraries"></a>（6）Libraries</h4><p>在此选项卡上，您可以定义模块SDK并形成模块依赖关系列表。<br>首先，可以创建一个新的项目库，可以设置分类。</p><p><img "" class="lazyload placeholder" data-original="https://img11.360buyimg.com/ddimg/jfs/t1/186804/30/8635/62102/60c9dbfcE4a598cdd/b0657acb513baad1.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><p>可以添加本地jar包，网络来源的jar包，删除jar包。</p><p><img "" class="lazyload placeholder" data-original="https://img14.360buyimg.com/ddimg/jfs/t1/172875/13/15046/109157/60c9dc60E37b37473/b737611cf3faf2b6.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><h4 id="（7）Facets"><a href="#（7）Facets" class="headerlink" title="（7）Facets"></a>（7）Facets</h4><p>表示这个 module 有什么特征，比如 Web，Spring 和 Hibernate 等；</p><p><img "" class="lazyload placeholder" data-original="https://img13.360buyimg.com/ddimg/jfs/t1/183571/10/9259/183782/60c9de87E32b97c1c/c51115f1d4fae881.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><h4 id="（8）Artifacts"><a href="#（8）Artifacts" class="headerlink" title="（8）Artifacts"></a>（8）Artifacts</h4><p><img "" class="lazyload placeholder" data-original="https://img14.360buyimg.com/ddimg/jfs/t1/185546/29/9398/159522/60c9df17E547687cc/0f7b9a163fa469b1.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><ul><li>Artifact 是 maven 中的一个概念，表示某个 module 要如何打包，例如 war exploded、war、<br>jar 等等这种打包形式；</li><li>一个 module 有了 Artifacts 就可以部署到应用服务器中了！</li><li>在给项目配置 Artifacts 的时候有好多个 type 的选项，exploed 是什么意思？explode 在这里你可<br>以理解为展开，不压缩的意思。也就是 war、jar 等产出物没压缩前的目录结构。</li><li>建议在开发的时候使用这种模式，便于修改了文件的效果立刻显现出来。</li><li>默认情况下，IDEA 的 Modules 和 Artifacts 的 output 目录 已经设置好了，不需要更改.</li><li>打成 war 包 的时候会自动在 WEB-INF 目录 下生产 classes 目录 ，然后把编译后的文件放进去。</li></ul><h4 id="（9）SDKS"><a href="#（9）SDKS" class="headerlink" title="（9）SDKS"></a>（9）SDKS</h4><p>系统开发工具 ，全局 SDK 配置 。</p><h4 id="（10）Global-libraries"><a href="#（10）Global-libraries" class="headerlink" title="（10）Global libraries"></a>（10）Global libraries</h4><p>全局类库，可以配置一些常用的类库。</p><h4 id="（11）Problems"><a href="#（11）Problems" class="headerlink" title="（11）Problems"></a>（11）Problems</h4><p>问题，在项目异常的时候很有用，可以根据提示进行项目修复<br>（FIXED）。</p><h4 id="（12）-idea和-iml"><a href="#（12）-idea和-iml" class="headerlink" title="（12）.idea和.iml"></a>（12）.idea和.iml</h4><blockquote><p>我们设置了半天看看我们设置的信息被保存在了哪里？</p></blockquote><p>xinzhi-shop.iml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">module</span> <span class="attr">type</span>=<span class="string">&quot;JAVA_MODULE&quot;</span> <span class="attr">version</span>=<span class="string">&quot;4&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">component</span> <span class="attr">name</span>=<span class="string">&quot;FacetManager&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">facet</span> <span class="attr">type</span>=<span class="string">&quot;web&quot;</span> <span class="attr">name</span>=<span class="string">&quot;Web&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">descriptors</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">deploymentDescriptor</span> <span class="attr">name</span>=<span class="string">&quot;web.xml&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">url</span>=<span class="string">&quot;file://$MODULE_DIR$/WebContent/WEB-INF/web.xml&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">descriptors</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">webroots</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">root</span> <span class="attr">url</span>=<span class="string">&quot;file://$MODULE_DIR$/WebContent&quot;</span> <span class="attr">relative</span>=<span class="string">&quot;/&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">webroots</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">facet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">component</span> <span class="attr">name</span>=<span class="string">&quot;NewModuleRootManager&quot;</span> <span class="attr">inherit-compiler-output</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">exclude-output</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">content</span> <span class="attr">url</span>=<span class="string">&quot;file://$MODULE_DIR$&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">sourceFolder</span> <span class="attr">url</span>=<span class="string">&quot;file://$MODULE_DIR$/src&quot;</span> <span class="attr">isTestSource</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">content</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">orderEntry</span> <span class="attr">type</span>=<span class="string">&quot;inheritedJdk&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">orderEntry</span> <span class="attr">type</span>=<span class="string">&quot;sourceFolder&quot;</span> <span class="attr">forTests</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">orderEntry</span> <span class="attr">type</span>=<span class="string">&quot;library&quot;</span> <span class="attr">name</span>=<span class="string">&quot;lib&quot;</span> <span class="attr">level</span>=<span class="string">&quot;project&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img "" class="lazyload placeholder" data-original="https://img11.360buyimg.com/ddimg/jfs/t1/176647/7/15097/288630/60c9df36E3fd364ac/81586918e1039e91.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><blockquote><p>这样别的idea打开项目时就能读取出来，并能明确项目的构建信息</p></blockquote><blockquote><p>问，eclipse直接打开能用吗？</p></blockquote><p>提问现在给你一个java工程的代码你们构建出来了吗？</p><p>或者给你一个eclipse的代码你能转化过来吗？</p><h2 id="二、Maven概述"><a href="#二、Maven概述" class="headerlink" title="二、Maven概述"></a>二、Maven概述</h2><p>以上的工作，需要我们自行构建，而且idea和eclipse，甚至一些其他的开发工具构建的时候是不一样<br>的。</p><p>那么有没有一种统一的方式，甚至无需手动点击，通过配置就可以了，通过使用命令就能就行构建呢？</p><p>当然我们看到了我们的idea其实也是通过之文件来记录构建信息的，那么既然构建如此重要，形成一套<br>规范化的，统一的便捷的构建工具就势在必行，于是出现了 maven ，当然还有 gradle ，他们的功能异<br>常强大。</p><blockquote><p>这样有什么好处</p></blockquote><ul><li>统一管理jar包，自动导入jar及其依赖，这样是很初学者唯一能感受出来的好处，确实牛逼啊。</li><li>项目移植之后甚至不需要安装开发工具，只需要maven加命令就能跑起来，降低学习成本。</li><li>使我们的项目流水线成为可能，因为使用简单的命令我们就能完成项目的编译，打包，发布等工<br>作，就让程序操作程序成为了可能，大名鼎鼎的jekins技能做到这一点。</li></ul><h3 id="1、Maven下载安装"><a href="#1、Maven下载安装" class="headerlink" title="1、Maven下载安装"></a>1、Maven下载安装</h3><p>下载地址：<a href="http://maven.apache.org/">http://maven.apache.org/</a></p><blockquote><p>小知识点： 作为一个java程序员 apache 网站的规律得知道都是 项目名.apache.org</p></blockquote><ul><li><a href="http://maven.apache.org/">http://maven.apache.org/</a></li><li><a href="http://tomcat.apache.org/">http://tomcat.apache.org/</a></li><li><a href="http://dubbo.apache.org/">http://dubbo.apache.org/</a></li><li><a href="http://hadoop.apache.org/">http://hadoop.apache.org/</a></li></ul><p>Apache软件基金会（也就是Apache Software Foundation，简称为ASF），是专门为支持开源软件项<br>目而办的一个非盈利性组织。在它所支持的Apache项目与子项目中，所发行的软件产品都遵循Apache<br>许可证（Apache License）。</p><blockquote><p>安装以及配置环境变量，学过点java的都会</p></blockquote><ol><li>解压</li><li>配置MAVEN_HOME</li><li>配置path，%MAVEN_HOME%\bin</li><li>cmd执行 mvn -v ，出现以下界面，成功</li></ol><p><img "" class="lazyload placeholder" data-original="https://img13.360buyimg.com/ddimg/jfs/t1/175929/34/15083/107449/60c9dfa7Ef512a20b/2e83154ad707b3b4.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><h3 id="2、maven核心配置文件"><a href="#2、maven核心配置文件" class="headerlink" title="2、maven核心配置文件"></a>2、maven核心配置文件</h3><p><img "" class="lazyload placeholder" data-original="https://img13.360buyimg.com/ddimg/jfs/t1/172048/19/15120/47817/60c9dfc4Ef70ff350/89b8441837ff7c09.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><blockquote><p>先照着配置</p></blockquote><p>（1）配置路径</p><blockquote><p>先建立好这个文件夹</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>D:/repository<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br></pre></td></tr></table></figure><p>（2）配置阿里云镜像</p><blockquote><p>要不啥也下不动</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br></pre></td></tr></table></figure><p>（3）配置全局编译jdk版本</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span>&gt;</span>jdk-1.8<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">jdk</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">maven.compiler.compilerVersion</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.compilerVersion</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3、常常鲜，体验"><a href="#3、常常鲜，体验" class="headerlink" title="3、常常鲜，体验"></a>3、常常鲜，体验</h3><blockquote><p>maven标准目录</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">src</span><br><span class="line">|--main</span><br><span class="line">|--java 源代码目录</span><br><span class="line">|--resources 资源目录</span><br><span class="line">|--test</span><br><span class="line">|--java 测试代码目录</span><br><span class="line">|--resources 测试资源目录</span><br><span class="line">|--target</span><br><span class="line">|--classes 编译后的class文件目录</span><br><span class="line">|--test-classes 编译后的测试class文件目录</span><br><span class="line">pom.xml Maven工程配置文件</span><br></pre></td></tr></table></figure><p>这是大部分Maven工程的目录结构，在这个基础上可以合理地增删目录。<br>pom.xml的基本要求：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0</span></span></span><br><span class="line"><span class="string"><span class="tag">http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.xinzhi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>写个Hello.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Hello maven!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可以再 resources 文件夹下新建 db.properties 配置文件，或随便帮一个文件;</p><p>执行，以下命令，可能会从网上下载内容，是在下载插件，不要担心。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn compile</span><br></pre></td></tr></table></figure><p>结果，并生成target目录</p><p><img "" class="lazyload placeholder" data-original="https://img10.360buyimg.com/ddimg/jfs/t1/189169/18/8381/291846/60c9e083E4dc710ce/238b1346fe7bc5a9.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><blockquote><p>结果发现我们编译的class文件和resources中的配置文件都放在了一起</p></blockquote><p>执行 mvn package</p><p><img "" class="lazyload placeholder" data-original="https://img11.360buyimg.com/ddimg/jfs/t1/187217/3/8630/179442/60c9e0a8E3500a666/789be9a132b88864.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><p>观察target中已经有了我们打包好的jar包</p><p><img "" class="lazyload placeholder" data-original="https://img14.360buyimg.com/ddimg/jfs/t1/172260/25/14578/36916/60c9e0e5Ee5a036c7/a15f66136f948f97.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><p>观察名字是不是我们项目的名字加版本号，当然此jar包无法运行，应为maven也不知道你的main方法<br>在哪里，咱们后边讲。</p><h3 id="4、Maven生命周期"><a href="#4、Maven生命周期" class="headerlink" title="4、Maven生命周期"></a>4、Maven生命周期</h3><blockquote><p>maven生命周期其实就是描述了一个项目从源代码到部署的整个周期</p></blockquote><p>Maven有三个内置的生命周期：默认（default），清洁（clean）和站点（site）。</p><ul><li>清洁（clean） 为执行以下工作做必要的清理。就是我们经常做的，删除target文件夹。</li><li>默认（default） 真正进行项目编译打包等工作的阶段</li><li>站点（site） 生成项目报告，站点，发布站点</li></ul><blockquote><p>默认（default）的生命周期包括以下阶段（该阶段经过简化，实际上更加复杂）：</p></blockquote><ol><li>验证（validate） - 验证项目是否正确，所有必要的信息可用。</li><li>编译（compile） - 编译项目的源代码。</li><li>测试（test） - 使用合适的单元测试框架测试编译的源代码。这些测试不应该要求代码被打包<br>或部署。</li><li>打包（package）- 采用编译的代码，并以其可分配格式（如JAR）进行打包。</li><li>验证（verify） - 对集成测试的结果执行任何检查，以确保满足质量标准。</li><li>安装（install） - 将软件包安装到本地存储库中，用作本地其他项目的依赖项。</li><li>部署（deploy） - 在构建环境中完成，将最终的包复制到远程存储库以与其他开发人员和项目共享<br>（私服）。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn install</span><br></pre></td></tr></table></figure><p>此命令在执行安装之前按顺序（验证（validate），编译（compile），打包（package）等）执行每个<br>默认生命周期阶段。在这种情况下，您只需要调用最后一个构建阶段来执行，安装（install）。<br>在构建环境中，使用以下调用将工件清理地构建并部署到共享存储库中。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean deploy</span><br></pre></td></tr></table></figure><p>相同的命令可以在多模块场景（即具有一个或多个子项目的项目）中使用。Maven遍历每个子项目并执<br>行清洁（clean），然后执行部署（deploy）（包括所有之前的构建阶段步骤）。<br>注意：在我们开发阶段，有一些生命周期的阶段，比如验证（validate）这些，基本很少用到。只要使<br>用关键的几个基本能满足需求。</p><h3 id="5、Maven-常用命令"><a href="#5、Maven-常用命令" class="headerlink" title="5、Maven 常用命令"></a>5、Maven 常用命令</h3><p>下面maven比较常见的一些命令。</p><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>mvn –version</td><td>显示版本信息</td></tr><tr><td>mvn clean</td><td>清理项目生产的临时文件,一般是模块下的target目录</td></tr><tr><td>mvn compile</td><td>编译源代码，一般编译模块下的src/main/java目录</td></tr><tr><td>mvn package</td><td>项目打包工具,会在模块下的target目录生成jar或war等文件</td></tr><tr><td>mvn test</td><td>测试命令,或执行src/test/java/下junit的测试用例</td></tr><tr><td>mvn install</td><td>将打包的jar/war文件复制到你的本地仓库中,供其他模块使用</td></tr><tr><td>mvn deploy</td><td>将打包的文件发布到远程参考,提供其他人员进行下载依赖</td></tr><tr><td>mvn site</td><td>生成项目相关信息的网站</td></tr><tr><td>mvn dependency:tree</td><td>打印出项目的整个依赖树</td></tr><tr><td>mvn archetype:generate</td><td>创建Maven的普通java项目</td></tr><tr><td>mvn tomcat:run</td><td>在tomcat容器中运行web应用</td></tr></tbody></table><h3 id="6、Maven的版本规范（我们的项目）"><a href="#6、Maven的版本规范（我们的项目）" class="headerlink" title="6、Maven的版本规范（我们的项目）"></a>6、Maven的版本规范（我们的项目）</h3><p>所有的软件都用版本</p><p>Maven使用如下几个要素来定位一个项目，因此它们又称为项目的坐标。</p><ul><li>groudId 团体、组织的标识符。团体标识的约定是，它以创建这个项目的组织名称的逆向域名开<br>头。一般对应着JAVA的包的结构，例如org.apache。</li><li>artifactId 单独项目的唯一标识符。比如我们的tomcat, commons等。不要在artifactId中包含<br>点号(.)。</li><li>version 项目的版本。</li><li>packaging 项目的类型，默认是jar，描述了项目打包后的输出。类型为jar的项目产生一个JAR文<br>件，类型为war的项目产生一个web应用。</li></ul><p>Maven在版本管理时候可以使用几个特殊的字符串 SNAPSHOT，LATEST，RELEASE。比如”1.0-<br>SNAPSHOT”。各个部分的含义和处理逻辑如下说明：</p><ul><li>SNAPSHOT 这个版本一般用于开发过程中，表示不稳定的版本。</li><li>LATEST 指某个特定构件的最新发布，这个发布可能是一个发布版，也可能是一个snapshot版，具<br>体看哪个时间最后。</li><li>RELEASE 指最后一个发布版。</li></ul><h3 id="7、在idea中配置maven"><a href="#7、在idea中配置maven" class="headerlink" title="7、在idea中配置maven"></a>7、在idea中配置maven</h3><p>把画红线的东西全部配置成自己的。最后一个是仓库，在你的其他盘找一个地方新建repository文<br>件夹，自己要知道，选中，如果勾选不了就选择都选override。<br>如果不选择仓库会把jar包下载至C盘的下边目录，不好维护，还占用c盘空间。当然idea和maven可能会<br>有bug。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\zn\.m2\repository</span><br></pre></td></tr></table></figure><p><img "" class="lazyload placeholder" data-original="https://img12.360buyimg.com/ddimg/jfs/t1/178249/5/9621/275402/60c9e111E21a15fbe/2719439b0d733840.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><blockquote><p>两处都要配置，一个是当前项目的maven配置，一个是新建项目的maven配置。</p></blockquote><p><img "" class="lazyload placeholder" data-original="https://img10.360buyimg.com/ddimg/jfs/t1/189502/21/8541/74318/60c9e13fE087bd534/cde43eee3af3183a.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt=" "></p><h2 id="三、Maven依赖（重点）"><a href="#三、Maven依赖（重点）" class="headerlink" title="三、Maven依赖（重点）"></a>三、Maven依赖（重点）</h2><hr><blockquote><p>过几天更</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>maven教学资料</title>
      <link href="/xfrl/2021/06/15/1/"/>
      <url>/xfrl/2021/06/15/1/</url>
      
        <content type="html"><![CDATA[<p> <strong>maven</strong>教学资料                                           </p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image001.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image002.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><strong>B</strong>站：<strong>IT</strong>楠老师 公众号：itnanls QQ群： 1083478826 网站：<a href="http://www.itnanls.cn/">www.itnanls.cn</a></p><p> 一、项目构建                                           </p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image003.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">给你一套源代码，你怎么能跑起来？</p><p>不能把！就是几个文件夹，几个文件。是不能运行的！</p><p>是不是需要和idea打交道，告诉idea怎么样才能运行起来，比如知道main方法在哪里？配置文件在哪里，编译好的文件输出到哪里，是不是？当然eclipse也一样。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image004.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">平时我们是怎么构建项目的，项目怎么运行起来呢？</p><p>idea帮我们编译</p><p>我们依靠点击构建项目</p><p>一切设置好以后，使用工具（idea）帮我们打包</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image005.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">项目构建中几个关键点?</p><p>1、jdk啥版本</p><p>2、哪些文件夹是干啥的！！ 源文件？配置文件？测试文件？在哪里？</p><p>3、如果是web工程，web.xml放哪里？ 4、编译文件，编译后的文件放在哪里。</p><p>5、打包，打包成什么文件</p><p><strong>1</strong>、先聊一聊<strong>idea</strong>的项目结构</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image001.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">好好说说Project Structure</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image006.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">英 /ˈstrʌktʃə(r)/</p><p>“ 项目结构”对话框允许您管理项目和IDE级别的元素，例如Modules，Facets，Libraries， Artifacts和SDK。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image008.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image001.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">打开方式有两种</p><p>1、通过工具栏</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image010.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>2、通过快捷键</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image011.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>（1）  <strong>Project</strong>选项</p><p>指定项目名称，SDK，语言级别和编译器输出路径。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image013.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image014.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">Project name：项目名，使用此字段编辑项目名称。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image015.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">Project SDK：项目SDK，选择项目SDK。如果所需SDK不在列表中，请单击“ New”，然后选择所需的SDK类型。然后，在打开的对话框中，选择SDK主目录，然后单击确定。要查看或编辑所选SDK 的名称和内容，请单击”Edit”。（SDK页面将打开。）</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image016.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">Project language level：选择要支持的Java语言级别。选定的级别将被用作项目默认值。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image006.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">Project compiler output：项目编译器输出，指定IntelliJ IDEA将存储编译结果的路径。单击选择路径对话框中browseButton 的目录。</p><p>指定目录中的两个子目录将被创建：</p><p>production为生产代码。test为测试来源。</p><p>在这些子目录中，将为每个模块创建单独的输出目录。输出路径可以在模块级重新定义。</p><h2 id="（2）-Modules-选项"><a href="#（2）-Modules-选项" class="headerlink" title="（2）  Modules 选项"></a>（2）  Modules 选项</h2><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image018.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>指定项目名称，SDK，语言级别和编译器输出路径。</p><p>Name：项目名称</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image006.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image006.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">Souces：这里对Module的开发目录进行文件夹分类，就是说这个module里有什么内容，说明了   不同性质的内容放在哪里。</p><p>注意，这些不同内容的标记代表了一个标准Java工程的各项内容，IntelliJ就是根据这些标记来识别  一个Java工程的各项内容的，比如，它会用javac去编译标记为Sources的源码，打包的时候会把标  记为Resources的资源拷贝到jar包中，并且忽略标记为Exluded的内容。左边显示的是在选中内容  的预览。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image019.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image019.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">Paths：为模块配置编译器输出路径，还可以指定与模块关联的外部JavaDocs和外部注释的位置。Dependencies：在此选项卡上，您可以定义模块SDK并形成模块依赖关系列表。</p><p>（3）  <strong>Sources</strong>选项</p><p>Sources：源代码存放的文件，蓝色。</p><p>Tests：设置测试代码存放的文件件，绿色。</p><p>Resources：一般对应着Sources文件，一般放配置文件，如：db.properties。Test Resources：这个对应着Tests文件夹，存放着Tests代码的配置文件。</p><p>Excluded：设置配出编译检查的文件，例如我们在project模块设置的out文件夹。</p><h2 id="（4）-Paths"><a href="#（4）-Paths" class="headerlink" title="（4） Paths"></a>（4） Paths</h2><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image021.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image022.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">Compiler output：编译输出路径。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image022.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">Inherit project compile output path：继承项目编译输出路径 选择此选项以使用为项目指定的路径。即上面在Project选项中设置的out文件路径。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image023.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">Use module compile output path:使用模块编译输出路径。</p><p>Output path：编译输出路径。</p><p>Test output path：测试代码编译输出路径。</p><p>Exclude output paths： 排除输出路径，选中此复选框可以排除输出目录。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image024.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">JavaDoc：使用可用控件组合与模块关联的外部JavaDocs存储位置的列表。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image024.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image026.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image028.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">External Annotations：外部注释。使用   和   管理与模块关联的外部注释的位置（目录）列表。</p><h2 id="（5）-Dependencies"><a href="#（5）-Dependencies" class="headerlink" title="（5） Dependencies"></a>（5） Dependencies</h2><p>在此选项卡上，您可以定义模块SDK并形成模块依赖关系列表。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image030.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image019.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">Module SDK：模块SDK，选择模块SDK。</p><p>（要将项目SDK与模块相关联，请选择Project SDK。请注意，如果稍后更改了项目SDK，模块SDK</p><p>将相应更改。</p><p>如果所需SDK不在列表中，请单击“ 新建”，然后选择所需的SDK类型。然后，在打开的对话框中， 选择SDK主目录，然后单击确定。</p><p>要查看或编辑所选SDK的名称和内容，请单击编辑。（SDK页面将打开。）</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image015.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">依赖列表</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image031.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">相关性存储格式，选择用于存储依赖关系的格式（作为IntelliJ IDEA模块或Eclipse项目）。该选项对使用不同开发工具的团队有帮助。</p><h2 id="（6）-Libraries"><a href="#（6）-Libraries" class="headerlink" title="（6） Libraries"></a>（6） Libraries</h2><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image033.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>在此选项卡上，您可以定义模块SDK并形成模块依赖关系列表。首先，可以创建一个新的项目库，可以设置分类。</p><p>可以添加本地jar包，网络来源的jar包，删除jar包。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image035.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><h2 id="（7）-Facets"><a href="#（7）-Facets" class="headerlink" title="（7） Facets"></a>（7） Facets</h2><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image037.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>表示这个 module 有什么特征，比如 Web，Spring 和 Hibernate 等；</p><h2 id="（8）-Artifacts"><a href="#（8）-Artifacts" class="headerlink" title="（8） Artifacts"></a>（8） Artifacts</h2><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image039.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image019.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image040.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">是 maven 中的一个概念，表示某个 module 要如何打包，例如 war exploded、war、jar 等等这种打包形式；</p><p>一个 module 有了 Artifacts 就可以部署到应用服务器中了！</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image031.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">在给项目配置 Artifacts 的时候有好多个 type 的选项，exploed 是什么意思？explode 在这里你可以理解为展开，不压缩的意思。也就是 war、jar 等产出物没压缩前的目录结构。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image041.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">建议在开发的时候使用这种模式，便于修改了文件的效果立刻显现出来。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image041.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">默认情况下，IDEA 的 Modules 和 Artifacts 的 output 目录 已经设置好了，不需要更改.</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image041.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">打成 war 包 的时候会自动在 WEB-INF 目录 下生产 classes 目录 ，然后把编译后的文件放进去。</p><h2 id="（9）-SDKS"><a href="#（9）-SDKS" class="headerlink" title="（9） SDKS"></a>（9） SDKS</h2><p>系统开发工具 ，全局 SDK 配置 。</p><h2 id="（10）-Global-libraries"><a href="#（10）-Global-libraries" class="headerlink" title="（10）  Global libraries"></a>（10）  Global libraries</h2><p>全局类库，可以配置一些常用的类库。</p><h2 id="（11）-Problems"><a href="#（11）-Problems" class="headerlink" title="（11）  Problems"></a>（11）  Problems</h2><p>问题，在项目异常的时候很有用，可以根据提示进行项目修复（FIXED）。</p><p>（<strong>12</strong>）**.idea<strong>和</strong>.iml**</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image042.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">我们设置了半天看看我们设置的信息被保存在了哪里？</p><p>xinzhi-shop.iml</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image043.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image045.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image042.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image005.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">这样别的idea打开项目时就能读取出来，并能明确项目的构建信息问，eclipse直接打开能用吗？</p><p>提问现在给你一个java工程的代码你们构建出来了吗？</p><p>或者给你一个eclipse的代码你能转化过来吗？</p><p> 二、<strong>Maven</strong>概述                                           </p><p>以上的工作，需要我们自行构建，而且idea和eclipse，甚至一些其他的开发工具构建的时候是不一样的。</p><p>那么有没有一种统一的方式，甚至无需手动点击，通过配置就可以了，通过使用命令就能就行构建呢？</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image046.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image047.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">当然我们看到了我们的idea其实也是通过之文件来记录构建信息的，那么既然构建如此重要，形成一套规范化的，统一的便捷的构建工具就势在必行，于是出现了maven ，当然还有gradle ，他们的功能异常强大。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image042.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">这样有什么好处</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image048.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image048.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">统一管理jar包，自动导入jar及其依赖，这样是很初学者唯一能感受出来的好处，确实牛逼啊。项目移植之后甚至不需要安装开发工具，只需要maven加命令就能跑起来，降低学习成本。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image041.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">使我们的项目流水线成为可能，因为使用简单的命令我们就能完成项目的编译，打包，发布等工 作，就让程序操作程序成为了可能，大名鼎鼎的jekins技能做到这一点。</p><p><strong>1</strong>、<strong>Maven</strong>下载安装</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image049.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">下载地址：<a href="http://maven.apache.org/">http://maven.apache.org/</a></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image042.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">小知识点： 作为一个java程序员 apache 网站的规律得知道都是 项目名.apache.org</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image050.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"> <a href="http://maven.apache.org/">http://maven.apache.org/</a></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image051.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"> <a href="http://tomcat.apache.org/">http://tomcat.apache.org/</a></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image052.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"> <a href="http://dubbo.apache.org/">http://dubbo.apache.org/</a></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image053.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"> <a href="http://hadoop.apache.org/">http://hadoop.apache.org/</a></p><p><strong>Apache</strong>软件基金会（也就是Apache Software Foundation，简称为ASF），是专门为支持开源软件项目而办的一个非盈利性组织。在它所支持的Apache项目与子项目中，所发行的软件产品都遵循Apache   许可证（Apache License）。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image004.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">安装以及配置环境变量，学过点java的都会</p><p>\1.  解压</p><p>\2.  配置MAVEN_HOME</p><p>\3.  配置path，%MAVEN_HOME%\bin</p><p>\4.   </p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image055.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>cmd执行 mvn -v ，出现以下界面，成功</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image057.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><strong>2</strong>、<strong>maven</strong>核心配置文件</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image004.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">先照着配置</p><h4 id="（1）-配置路径"><a href="#（1）-配置路径" class="headerlink" title="（1）  配置路径"></a>（1）  配置路径</h4><p>先建立好这个文件夹</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image058.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><h4 id="（2）-配置阿里云镜像"><a href="#（2）-配置阿里云镜像" class="headerlink" title="（2）  配置阿里云镜像"></a>（2）  配置阿里云镜像</h4><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image005.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">要不啥也下不动</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image059.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>（3）  配置全局编译<strong>jdk</strong>版本</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image060.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p><strong>3</strong>、常常鲜，体验</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image005.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><strong>maven</strong>标准目录</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image061.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>这是大部分Maven工程的目录结构，在这个基础上可以合理地增删目录。</p><p>pom.xml的基本要求：</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image062.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>写个Hello.java</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image063.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image064.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image065.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">可以再resources 文件夹下新建db.properties 配置文件，或随便帮一个文件;</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image067.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>执行，以下命令，可能会从网上下载内容，是在下载插件，不要担心。</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image068.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image070.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>结果，并生成target目录</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image004.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">结果发现我们编译的class文件和resources中的配置文件都放在了一起</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image072.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>执行 mvn package</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image074.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p>观察target中已经有了我们打包好的jar包</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image076.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>观察名字是不是我们项目的名字加版本号，当然此jar包无法运行，应为maven也不知道你的main方法在哪里，咱们后边讲。</p><p><strong>4</strong>、<strong>Maven</strong>生命周期</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image042.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">maven生命周期其实就是描述了一个项目从源代码到部署的整个周期</p><p>Maven有三个内置的生命周期：默认（<strong>default</strong>），清洁（<strong>clean</strong>）和站点（<strong>site</strong>）。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image077.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image077.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">清洁（clean） 为执行以下工作做必要的清理。就是我们经常做的，删除target文件夹。默认（default） 真正进行项目编译打包等工作的阶段</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image078.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">站点（site）   生成项目报告，站点，发布站点</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image001.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">默认（<strong>default</strong>）的生命周期包括以下阶段（该阶段经过简化，实际上更加复杂）：</p><p>\1.  验证（validate） - 验证项目是否正确，所有必要的信息可用。</p><p>\2.  编译（compile） - 编译项目的源代码。</p><p>\3.  测试（test）    - 使用合适的单元测试框架测试编译的源代码。这些测试不应该要求代码被打包或部署。</p><p>\4.  打包（package）- 采用编译的代码，并以其可分配格式（如JAR）进行打包。</p><p>\5.  验证（verify）  - 对集成测试的结果执行任何检查，以确保满足质量标准。</p><p>\6.  安装（install） - 将软件包安装到本地存储库中，用作本地其他项目的依赖项。</p><p>\7.  部署（deploy） - 在构建环境中完成，将最终的包复制到远程存储库以与其他开发人员和项目共享</p><p>（私服）。</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image079.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>此命令在执行安装之前按顺序（验证（validate），编译（compile），打包（package）等）执行每个  默认生命周期阶段。在这种情况下，您只需要调用最后一个构建阶段来执行，安装（install）。</p><p>在构建环境中，使用以下调用将工件清理地构建并部署到共享存储库中。</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image080.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>相同的命令可以在多模块场景（即具有一个或多个子项目的项目）中使用。Maven遍历每个子项目并执行清洁（clean），然后执行部署（deploy）（包括所有之前的构建阶段步骤）。</p><p>注意：在我们开发阶段，有一些生命周期的阶段，比如验证（validate）这些，基本很少用到。只要使用关键的几个基本能满足需求。</p><p><strong>5</strong>、<strong>Maven</strong> 常用命令</p><p>下面maven比较常见的一些命令。</p><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>mvn –version</td><td>显示版本信息</td></tr><tr><td>mvn clean</td><td>清理项目生产的临时文件,一般是模块下的target目录</td></tr><tr><td>mvn compile</td><td>编译源代码，一般编译模块下的src/main/java目录</td></tr><tr><td>mvn package</td><td>项目打包工具,会在模块下的target目录生成jar或war等文件</td></tr><tr><td>mvn test</td><td>测试命令,或执行src/test/java/下junit的测试用例</td></tr><tr><td>mvn install</td><td>将打包的jar/war文件复制到你的本地仓库中,供其他模块使用</td></tr><tr><td>mvn deploy</td><td>将打包的文件发布到远程参考,提供其他人员进行下载依赖</td></tr><tr><td>mvn site</td><td>生成项目相关信息的网站</td></tr><tr><td>mvn  dependency:tree</td><td>打印出项目的整个依赖树</td></tr><tr><td>mvn archetype:generate</td><td>创建Maven的普通java项目</td></tr><tr><td>mvn  tomcat:run</td><td>在tomcat容器中运行web应用</td></tr></tbody></table><p><strong>6</strong>、<strong>Maven</strong>的版本规范（我们的项目）</p><p>所有的软件都用版本</p><p>Maven使用如下几个要素来定位一个项目，因此它们又称为项目的坐标。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image081.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image082.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">团体、组织的标识符。团体标识的约定是，它以创建这个项目的组织名称的逆向域名开 头。一般对应着JAVA的包的结构，例如org.apache。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image081.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image083.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">单独项目的唯一标识符。比如我们的tomcat, commons等。不要在artifactId中包含</p><p>点号(.)。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image077.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image084.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">项目的版本。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image085.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image086.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">项目的类型，默认是jar，描述了项目打包后的输出。类型为jar的项目产生一个JAR文</p><p>件，类型为war的项目产生一个web应用。</p><p>Maven在版本管理时候可以使用几个特殊的字符串 SNAPSHOT，LATEST，RELEASE。比如”1.0-</p><p>SNAPSHOT”。各个部分的含义和处理逻辑如下说明：</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image078.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image087.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">这个版本一般用于开发过程中，表示不稳定的版本。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image088.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image089.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">指某个特定构件的最新发布，这个发布可能是一个发布版，也可能是一个snapshot版，具体看哪个时间最后。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image088.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image090.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">指最后一个发布版。</p><p><strong>7</strong>、在<strong>idea</strong>中配置<strong>maven</strong></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image091.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">把画红线的东西全部配置成自己的。最后一个是仓库，在你的其他盘找一个地方新建repository文件夹，自己要知道，选中，如果勾选不了就选择都选override。</p><p>如果不选择仓库会把jar包下载至C盘的下边目录，不好维护，还占用c盘空间。当然idea和maven可能会     有bug。</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image093.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image095.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image003.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">两处都要配置，一个是当前项目的maven配置，一个是新建项目的maven配置。</p><p> 三、<strong>Maven</strong>依赖（重点）                                           </p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image001.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">maven管理依赖也就是jar包牛逼之处是不用我们自己下载，会从一些地方自动下载</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image096.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">maven远程仓库: <a href="https://mvnrepository.com/">https://mvnrepository.com/</a></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image097.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">maven远程仓库: <a href="https://maven.aliyun.com/mvn/search">https://maven.aliyun.com/mvn/search</a></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image004.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">maven工程中我们依靠在pom.xml文件进行配置完成jar包管理工作（依赖）</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image098.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">在工程中引入某个jar包，只需要在pom.xml 中引入jar包的坐标，比如引入log4j的依赖：</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image099.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image100.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image101.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image102.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image103.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">通 过 groupId 、               与把对应的jar包引入到工程中来。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image001.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">jar包会自动下载，流程如下</p><p>三个向量来定位Maven仓库其jar包所在的位置，并</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image105.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><h1 id="1、依赖范围"><a href="#1、依赖范围" class="headerlink" title="1、依赖范围"></a><strong>1</strong>、依赖范围</h1><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image003.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">了解、classpath是个什么东西</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image106.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">顾明思议，就是编译好的class 文件所在的路径。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image001.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image107.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image108.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image110.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">事实上，我们的类加载器（ classloader ）就是去对应的classpath 中加在class二进制文件。普通java项目</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image111.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>META-INF中有个文件，有以下内容，告诉jvm执行的时候去哪个类里找main方法。  普通的java工程类路径就是最外层的目录。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image001.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">web项目</p><p>咱们的src打包后会放在</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image113.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p>src目录下的配置文件会和class文件一样，自动copy到应用的 WEB-INF/classes目录下 ，所以普通jar包的类路径就是根路径，没有资源，如果有配置文件也放在src目录下，他会同步打包在类路径下。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image114.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">所以web项目的classpath是</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image001.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">maven项目</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image115.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">maven工程会将src/main/java 和</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image116.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">文件夹下的文件全部打包在classpath</p><p>中。运行时他们两个的文件夹下的文件会被放在一个文件夹下。</p><p>maven 项目不同的阶段引入到classpath中的依赖是不同的，例如，</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image081.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image117.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image077.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image118.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image085.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image119.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">编译时 ，maven 会将与编译相关的依赖引入classpath中测试时 ，maven会将测试相关的的依赖引入到classpath中运行时 ，maven会将与运行相关的依赖引入classpath中</p><p>而依赖范围就是用来控制依赖于这三种classpath的关系。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image042.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">scope标签就是依赖范围的配置</p><p>该项默认配置compile,可选配置还有test、provided、runtime、system、import。    其中compile、test和provided使用较多，下面依次介绍。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image120.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">有些jar包（如selvlet-api）运行时其实是不需要的，因为tomcat里有，但编译时是需要的，因为   编译的时候没有tomcat环境</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image001.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">有些jar只在测试的时候才能用到。比如junit，真是运行不需要的</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image091.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">有些jar运行，测试时必须要有，编译时不需要，如jdbc驱动，编译时用的都是jdk中的接口，运行时我们才使用反射注册了驱动。</p><p>向以上的这些jar包不是说使用默认的compile一定不行，但是设置成合适的范围更好，当然有事会有问题，比如你引入的servlet-api和tomcat自带的不一样，就会出问题。</p><p><strong>1.1</strong> 编译依赖范围（<strong>compile</strong>）</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image121.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image122.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image123.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image124.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">该范围就是默认依赖范围，此依赖范围对于编译、测试、运行三种classpath 都有效，举个简单的例子，假如项目中有fastjson 的依赖，那么fastjson 不管是在编译，测试，还是运行都会被用到，因此fastjson 必须是编译范围（构件默认的是编译范围，所以依赖范围是编译范围的无须显示指定）</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image125.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p><strong>1.2</strong> 测试依赖范围**(test)**</p><p>使用此依赖范围的依赖，只对测试classpath有效，在编译主代码和项目运行时，都将无法使用该依赖， 最典型的例子就是 Junit, 构件在测试时才需要，所以它的依赖范围是测试，因此它的依赖范围需要显示指定为、、<scope>test</scope>,当然不显示指定依赖范围也不会报错，但是该依赖会被加入到编译和  运行的classpath中,造成不必要的浪费 。</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image126.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><strong>1.3</strong> 已提供依赖范围**(provided)**</p><p>使用该依赖范围的maven依赖，只对编译和测试的classpath有效，对运行的classpath无效，典型的例 子就是servlet-api， 编译和测试该项目的时候需要该依赖，但是在运行时，web容器已经提供的该依赖，所以运行时就不再需要此依赖，如果不显示指定该依赖范围，并且容器依赖的版本和maven依赖的版本不一致的话，可能会引起版本冲突，造成不良影响。</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image127.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><strong>1.4</strong> 运行时依赖范围**(runtime)**</p><p>使用该依赖范围的maven依赖，只对测试和运行的classpath有效，对编译的classpath无效，典型例子  就是JDBC的驱动实现，项目主代码编译的时候只需要JDK提供的JDBC接口，只有在测试和运行的时候才  需要实现上述接口的具体JDBC驱动。</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image128.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image042.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">其他的范围不常用，有兴趣自己研究</p><h1 id="2、依赖的传递"><a href="#2、依赖的传递" class="headerlink" title="2、依赖的传递"></a><strong>2</strong>、依赖的传递</h1><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image130.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">jar其实也是别人写的工程，他也会依赖其他的jar包，传递性让我们可以不用关系我们所依赖的jar他依赖了哪些jar，只要我们添加了依赖，他会自动将他所依赖的jar统统依赖进来。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image003.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">我们只需依赖A.jar，其他的会自动传递进来。依赖传递的原则：</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image097.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">最短路径优先原则：如果A依赖于B，B依赖于C，在B和C 中同时有log4j的依赖，并且这两个版本不一致，那么A会根据最短路径原则，在A中会传递过来B的log4j版本。</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image132.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image088.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">路径相同先声明原则：如果我们的工程同时依赖于B和A，B和C没有依赖关系，并且都有D的依赖， 且版本不一致，那么会引入在pom.xml中先声明依赖的log4j版本。</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image134.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image135.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image001.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">因为1.2.3先声明，所以获胜。特别注意：</p><p>不同版本的jar选一个会导致一个问题，1.3.2版本高，A.jar可能用到了高版本的一些新的方法，此时因为某些原因系统选择了低版本，就会导致A.jar报错，无法运行。那么就要想办法把低版本排除掉，一般高 版本会兼容低版本。</p><h1 id="3、依赖的排除"><a href="#3、依赖的排除" class="headerlink" title="3、依赖的排除"></a><strong>3</strong>、依赖的排除</h1><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image001.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">结合上个例子，我们想把低版本的D.jar排除了，就可以这样做，这样系统就只能依赖高版本</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image136.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><h1 id="4、聚合和继承"><a href="#4、聚合和继承" class="headerlink" title="4、聚合和继承"></a><strong>4</strong>、聚合和继承</h1><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image003.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">分布式开发必须要用</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image042.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">聚合模块（父模块）的打包方式必须为<strong>pom</strong>，否则无法完成构建。</p><p>在聚合多个项目时，如果这些被聚合的项目中需要引入相同的Jar，那么可以将这些Jar写入父pom中，各个子项目继承该pom即可。，父模块的打包方式必须为pom，否则无法构建项目。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image042.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">通过在各个子模块中配置来表明其继承与哪一个父模块：</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image137.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>可以被继承的POM元素如下：</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image138.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image138.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><strong>groupId</strong>：项目组ID，项目坐标的核心元素<strong>version</strong>：项目版本，项目坐标的核心因素</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image097.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">properties：自定义的Maven属性       一般用于同一制定各个依赖的版本号</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image097.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image097.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image139.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">dependencies：项目的依赖配置                                     公共的依赖dependencyManagement：项目的依赖管理配置repositories：项目的仓库配置</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image140.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">build：包括项目的源码目录配置、输出目录配置、插件配置、插件管理配置等</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image042.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">一些对项目的描述</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image088.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image088.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">description：项目的描述信息organization：项目的组织信息</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image141.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image141.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">inceptionYear：项目的创始年份url：项目的URL地址</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image141.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image141.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">developers：项目的开发者信息contributors：项目的贡献者信息</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image081.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">distributionManagement：项目的部署配置</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image078.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image078.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">issueManagement：项目的缺陷跟踪系统信息ciManagement：项目的持续集成系统信息</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image138.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">scm：项目的版本控制系统</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image138.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image138.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">malilingLists： 项 目 的 邮 件 列 表 信 息     reporting：包括项目的报告输出目录配置、报告插件配置等</p><p> 四、<strong>POM</strong>文件                                           </p><h1 id="1、基础配置"><a href="#1、基础配置" class="headerlink" title="1、基础配置"></a><strong>1</strong>、基础配置</h1><p>一个典型的pom.xml文件配置如下：</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image142.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>8          <img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image143.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><!-- 本项目的唯一ID，一个groupId下面可能多个项目，就是靠artifactId来区分的 --></p><p>9          <artifactId>test</artifactId></p><p>10          <!-- 本项目目前所处的版本号 --></p><p>11          <version>1.0.0-SNAPSHOT</version> 12</p><p>13          <!-- 打包的机制，如pom,jar,          war，默认为jar --></p><p>14          <packaging>jar</packaging> 15</p><p>16          &lt;!– 为pom定义一些常量，在pom中的其它地方可以直接引用 使用方式 如下 ：</p><p>${file.encoding} –&gt;</p><p>17          <!-- 常常用来整体控制一些依赖的版本号 --></p><p>18          <properties></p><p>19                &lt;file.encoding&gt;UTF-8&lt;/file.encoding&gt;</p><p>20                &lt;java.source.version&gt;1.8&lt;/java.source.version&gt;</p><p>21                &lt;java.target.version&gt;1.8&lt;/java.target.version&gt;</p><p>22          </properties> 23</p><p>24</p><p>25          <!-- 定义本项目的依赖关系，就是依赖的jar包 --></p><p>26          <dependencies></p><p>27                <!-- 每个dependency都对应这一个jar包 --></p><p>28                <dependency></p><p>29                      &lt;!–一般情况下，maven是通过groupId、artifactId、version这三个元素值</p><p>（俗称坐标）来检索该构件，   然后引入你的工程。如果别人想引用你现在开发的这个项目（前提是已开发完毕并发布到了远程仓库），–&gt;</p><p>30                  <!--就需要在他的pom文件中新建一个dependency节点，将本项目的groupId、artifactId、version写入， maven就会把你上传的jar包下载到他的本地 --></p><p>31                      <groupId>junit</groupId></p><p>32                      <artifactId>junit</artifactId></p><p>33                      <version>4.12</version> 34</p><p>35                      <!-- 依赖范围 --></p><p>36                      <scope>complie</scope></p><p>37                      &lt;!– 设置     依赖是否可选，默认为false,即子项目默认都继承。如果为true,</p><p>38                             则子项目必需显示的引入   –&gt;</p><p>39                      <optional>false</optional> 40</p><p>41                      <!-- 依赖排除--></p><p>42                      <exclusions></p><p>43                            <exclusion></p><p>44                                  <groupId>org.slf4j</groupId></p><p>45                                  <artifactId>slf4j-api</artifactId></p><p>46                            </exclusion></p><p>47                      </exclusions></p><p>48                </dependency></p><p>49          </dependencies> 50</p><p>51          …</p><p>52    </project></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image005.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image144.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">一般来说，上面的几个配置项对任何项目都是必不可少的，定义了项目的基本属性。 除了dependencies我们还用到了dependencyManagement，区别如下</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image141.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image141.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">即使在子项目中不写该依赖项，那么子项目仍然会从父项目中继承该依赖项（全部继承）。 继承下来就会被编译，如果子项目根本不用这个依赖会增加子工程的负担。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image145.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">dependencyManagement ：通常会在父工程中定义，目的是统一各个子模块的依赖版本，有不用实际依赖</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image146.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">只是声明依赖，并不实现引入</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image146.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">子项目需要显示的声明需要用的依赖。如果不在子项目中声明依赖，是不会从父项目中继承下来 的；</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image141.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">只有在子项目中写了该依赖项，并且没有指定具体版本，才会从父项目中继承该项，并且version 和scope都读取自父pom;另外如果子项目中指定了版本号，那么会使用子项目中指定的jar版本。</p><h1 id="2、构建配置"><a href="#2、构建配置" class="headerlink" title=" 2、构建配置"></a><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image147.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"> <strong>2</strong>、构建配置</h1><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image148.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image149.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p>我们常用的几个配置</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image042.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">关于资源处理的配置</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image004.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">有些小伙伴就喜欢在src中填写配置文件</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image150.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image001.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">添加本地jar包</p><p>本地jar，如：支付宝jar包放到 src/main/webapp/WEB-INF/lib 文件夹下，如果没有配置，本地没问题，但是线上会找不到sdk类，为什么要引入，因为支付宝jar包再中央仓库没有</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image151.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image152.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><h1 id="3、仓库配置"><a href="#3、仓库配置" class="headerlink" title="      3、仓库配置"></a><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image153.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">      <strong>3</strong>、仓库配置</h1><p>pom.xml里面的仓库与setting.xml里的仓库功能是一样的。主要的区别在于，pom里的仓库是个性化的。比如一家大公司里的setting文件是公用的，所有项目都用一个setting文件，但各个子项目却会引用     不同的第三方库，所以就需要在pom.xml里设置自己需要的仓库地址。</p><h1 id="5、多环境配置"><a href="#5、多环境配置" class="headerlink" title="      5、多环境配置"></a><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image154.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">      <strong>5</strong>、多环境配置</h1><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image155.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image156.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><strong>5</strong></p><p>、项目信息配置（知道）                                                         </p><table><thead><tr><th>13</th><th><!--项目创建年份，4位数字。当产生版权信息时需要使用这个值。 --></th></tr></thead><tbody><tr><td>14</td><td><inceptionYear /></td></tr><tr><td>15</td><td></td></tr><tr><td>16</td><td><!--项目开发者列表 --></td></tr><tr><td>17</td><td><developers></td></tr><tr><td>18</td><td></td></tr><tr><td>19</td><td><!--某个项目开发者的信息 --></td></tr><tr><td>20</td><td><developer></td></tr><tr><td>21</td><td><!--SCM里项目开发者的唯一标识符 --></td></tr><tr><td>22</td><td><id> HELLO WORLD </id></td></tr><tr><td>23</td><td><!--项目开发者的全名 --></td></tr><tr><td>24</td><td><name> banseon </name></td></tr><tr><td>25</td><td><!--项目开发者的email --></td></tr><tr><td>26</td><td><email> <a href="mailto:banseon@126.com">banseon@126.com</a></email></td></tr><tr><td>27</td><td><!--项目开发者的主页的URL --></td></tr><tr><td>28</td><td><url /></td></tr><tr><td>29</td><td><!--项目开发者在项目中扮演的角色，角色元素描述了各种角色 --></td></tr><tr><td>30</td><td><roles></td></tr><tr><td>31</td><td><role> Project Manager</role></td></tr><tr><td>32</td><td><role>Architect </role></td></tr><tr><td>33</td><td></roles></td></tr><tr><td>34</td><td><!--项目开发者所属组织 --></td></tr><tr><td>35</td><td><organization> demo</organization></td></tr><tr><td>36</td><td><!--项目开发者所属组织的URL --></td></tr><tr><td>37</td><td><organizationUrl><a href="http://hi.clf.com/">http://hi.clf.com/ </a></organizationUrl></td></tr><tr><td>38</td><td><!--项目开发者属性，如即时消息如何处理等 --></td></tr><tr><td>39</td><td><properties></td></tr><tr><td>40</td><td><dept> No </dept></td></tr><tr><td>41</td><td></properties></td></tr><tr><td>42</td><td><!--项目开发者所在时区， -11到12范围内的整数。 --></td></tr><tr><td>43</td><td><timezone> -5</timezone></td></tr><tr><td>44</td><td></developer></td></tr><tr><td>45</td><td></td></tr><tr><td>46</td><td></developers></td></tr><tr><td>47</td><td></td></tr><tr><td>48</td><td><!--项目的其他贡献者列表 --></td></tr><tr><td>49</td><td><contributors></td></tr><tr><td>50</td><td></td></tr><tr><td>51</td><td><!--项目的其他贡献者。参见developers/developer元素 --></td></tr><tr><td>52</td><td><contributor></td></tr><tr><td>53</td><td><name /></td></tr><tr><td>54</td><td><email /></td></tr><tr><td>55</td><td><url /></td></tr><tr><td>56</td><td><organization /></td></tr><tr><td>57</td><td><organizationUrl /></td></tr><tr><td>58</td><td><roles /></td></tr><tr><td>59</td><td><timezone /></td></tr><tr><td>60</td><td><properties /></td></tr><tr><td>61</td><td></contributor></td></tr><tr><td>62</td><td></td></tr><tr><td>63</td><td></contributors></td></tr><tr><td>64</td><td></td></tr><tr><td>65</td><td>&lt;!–该元素描述了项目所有License列表。应该只列出该项目的license列表，不要列出依赖项目的</td></tr><tr><td></td><td>license列表。 –&gt;</td></tr><tr><td>66</td><td><!--如果列出多个license，用户可以选择它们中的一个而不是接受所有license。 --></td></tr><tr><td>67</td><td><licenses></td></tr><tr><td>68</td><td></td></tr></tbody></table><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image157.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image158.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">还有一些可以了解的不常用的配置如报表配置、问题管理配置、项目集成配置、profile配置有兴趣的自行学习一下</p><p> 五、<strong>Maven</strong>仓库                                           </p><p>任何的构件都有唯一的坐标，Maven根据这个坐标定义了构件在仓库中的唯一存储路径，</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image081.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">Maven仓库分为2类： 本地仓库</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image159.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">远程仓库，远程仓库又分成3种：</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image160.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image160.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">中央仓库私服</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image161.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">其它公共库</p><p>maven项目使用的仓库一共有如下几种方式：</p><p>\1.  中央仓库，这是默认的仓库</p><p>\2.  镜像仓库，通过 sttings.xml 中的 settings.mirrors.mirror 配置</p><p>\3.  全局profile仓库，通过 settings.xml 中的 settings.repositories.repository 配置</p><p>\4.  项目仓库，通过 pom.xml 中的 project.repositories.repository 配置</p><p>\5.  项目profile仓库，通过 pom.xml 中的 project.profiles.profile.repositories.repository 配置</p><p>\6.  本地仓库</p><p>搜索顺序如下：</p><p>local_repo &gt; settings_profile_repo &gt; pom_profile_repo &gt; pom_repositories &gt; settings_mirror &gt; central</p><h1 id="1、本地仓库"><a href="#1、本地仓库" class="headerlink" title="1、本地仓库"></a><strong>1</strong>、本地仓库</h1><p>本地仓库是Maven在本地存储构建的地方。Maven的本地仓库，在安装maven后并不会创建，它是在第一次执行Maven命令的时候才被创建。</p><p>Maven本地仓库的默认位置：无论是Windows还是Linux，在用户的目录下都有一个.m2/repository/的  仓库目录，这就是Maven仓库的默认位置。</p><p>在Maven的目录下的conf目录下，有一个settings.xml文件，是Maven的配置文件，在里面可以修改本  地仓库的位置。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image042.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">修改本地仓库位置：</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image162.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><h1 id="2、远程仓库"><a href="#2、远程仓库" class="headerlink" title="2、远程仓库"></a><strong>2</strong>、远程仓库</h1><p>远程仓库主要用于获取其它人的Maven构件，其中最主要的就是中央仓库。关于如何在Maven中配置远程仓库，可以查看POM文件章节。</p><h3 id="2-1-中央仓库"><a href="#2-1-中央仓库" class="headerlink" title="2.1 中央仓库"></a><strong>2.1</strong> 中央仓库</h3><p>中央仓库是默认的的远程仓库，Maven在安装的时候，自带的就是中央仓库的配置。所有的Maven都会继承超级POM，超级POM种包含如下配置：</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image163.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>中央仓库包含了绝大多数流行的开源Java构件，以及源码、作者信息、SCM、信息、许可证信息等。</p><p>还可以在里面配置优先使用的镜像，比如在国内直接连中央仓库速度较慢，一般使用阿里的镜像仓 库。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image164.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><h3 id="2-2-私服"><a href="#2-2-私服" class="headerlink" title="2.2 私服"></a><strong>2.2</strong> 私服</h3><p>私服是一种特殊的远程仓库，它是架设在局域网内的仓库服务，私服代理广域网上的远程仓库，供局域 网内的Maven用户使用。当Maven需要下载构件的时候，它从私服请求，如果私服上不存在该构件，则从外部的远程仓库下载，缓存在私服上之后，在为Maven的下载请求提供服务。</p><p>Maven私服的优点：</p><p>\1.  加速构建；</p><p>\2.  节省带宽；</p><p>\3.  节省中央maven仓库的带宽；</p><p>\4.  稳定（应付一旦中央服务器出问题的情况）；</p><p>\5.  可以建立本地内部仓库；</p><p>\6.  可以建立公共仓库。</p><p>maven 在默认情况下是从中央仓库下载构建，也就是 id 为 central 的仓库。如果没有特殊需求，一般只需要将私服地址配置为镜像，同时配置其代理所有的仓库就可以实现通过私服下载依赖的功能。镜像配  置如下：</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image165.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>实战：使用<strong>Docker</strong>创建<strong>Nexus</strong>私服</p><p>启动Docker，输入命令：</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image166.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image167.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p>运行完毕，在浏览器访问<a href="http://192.168.120.201:8081/">http://192.168.120.201:8081/</a> 进入Nexus页面。</p><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image168.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img">如果访问不成功，可以在命令行输入</p><p>输入默认的用户名和密码admin/xxxxxxxx即可登录。</p><p>查看日志分析原因。</p><p>进入界面后顶部由2个按钮，分别是仓库和设置。可以看到由4个默认的仓库。</p><p> <a href="https://mirrors.huaweicloud.com/repository/maven/">https://mirrors.huaweicloud.com/repository/maven/</a></p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image170.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>一般来说，Nexus 的仓库分为这么几类：</p><p>hosted 宿主仓库：主要用于部署无法从公共仓库获取的构件（如 oracle 的 JDBC 驱动）以及自己或第三方的项目构件；</p><p>proxy 代理仓库：代理公共的远程仓库；</p><p>group 仓库组：Nexus 通过仓库组的概念统一管理多个仓库，这样我们在项目中直接请求仓库组即可请求到仓库组管理的多个仓库。</p><p>以下为了解，对私服进行权限认证（了解）</p><p>大部分公共的远程仓库无须认证就可以直接访问，但我们在平时的开发中往往会架设自己的Maven远程仓库，出于安全方面的考虑，我们需要提供认证信息才能访问这样的远程仓库。</p><p>配置认证信息和配置远程仓库不同，远程仓库可以直接在pom.xml中配置，但是认证信息必须配置在</p><p>settings.xml文件中。</p><p>这是因为pom往往是被提交到代码仓库中供所有成员访问的，而settings.xml一般只存在于本机。因    此，在settings.xml中配置认证信息更为安全。</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image171.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>pom文件</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image172.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image173.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p>激活一个环境的方式</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image174.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p> 六、<strong>Maven</strong>插件                                           </p><p> <strong>1</strong>、<strong>Maven</strong> 插件介绍                                                         </p><p>Maven 实际上是一个依赖插件执行的框架，每个任务实际上是由插件完成。Maven 插件通常被用来：</p><p>打包jar 文件创建 war 文件编译代码文件代码单元测试创建工程文档创建工程报告</p><p>插件通常提供了一个目标的集合，并且可以使用下面的语法执行：</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image174.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>例如，一个 Java 工程可以使用 maven-compiler-plugin 的 compile-goal 编译，使用以下命令：</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image175.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p> <strong>2</strong>、<strong>maven-compiler-plugin</strong>                                           </p><p>设置maven编译的jdk版本，maven3默认用jdk1.5，maven2默认用jdk1.3</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image176.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p> <strong>3</strong>、<strong>tomcat</strong>插件                                                         </p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image178.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>web目录结构</p><p>添加插件在build中</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image179.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>点击idea右侧的maven我们可以方便的看到我们使用了什么插件，并可以点击执行相应的命令</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image181.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>通过插件和命令我们都可以启动项目了，都不用部署到tomcat里了。</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image182.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><strong>4</strong></p><p>、</p><p><strong>war</strong></p><p>包打插件                                                         </p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image184.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>执行命令 mvn clean package</p><p> <strong>5</strong>、<strong>jar</strong>包的插件                                                         </p><p>maven-jar-plugin，默认的打包插件，用来打普通的project JAR包； maven-shade-plugin，用来打可执行JAR包，也就是所谓的fat JAR包；</p><p>maven-assembly-plugin，支持自定义的打包结构，也可以定制依赖项等。</p><p>我们日常使用的以maven-assembly-plugin为最多，因为大数据项目中往往有很多shell脚本、SQL脚 本、.properties及.xml配置项等，采用assembly插件可以让输出的结构清晰而标准化。</p><p>自己网上查资料深入学习</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image185.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image186.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><p>查件太多了，基本上所有的功能都是通过查件附加的！</p><p> 七、<strong>Maven</strong>项目模板（没啥用，了解）                                           </p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image187.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>Archetype 是一个 Maven 插件，其任务是按照其模板来创建一个项目结构。执行如下命令即可创建Maven项目模板。</p><p>常用的archetype有以下2种：</p><p>maven-archetype-quickstart默认的Archetype</p><p>基本内容包括：</p><p>一个包含junit依赖声明的pom.xml</p><p>src/main/java主代码目录及一个名为App的类</p><p>src/test/java测试代码目录及一个名为AppTest的测试用例</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image188.gif" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>maven-archetype-webapp</p><p>一个最简单的Maven war项目模板，当需要快速创建一个Web应用的时候可以使用它。生成的项目内容包括：</p><p>一个packaging为war且带有junit依赖声明的pom.xml src/main/webapp/目录</p><p>src/main/webapp/index.jsp文件</p><p>src/main/webapp/WEB-INF/web.xml文件</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image190.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><p>其实这个模板并不全。</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img "" class="lazyload placeholder" data-original="file:///C:/WINDOWS/TEMP/msohtmlclip1/01/clip_image192.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></td></tr></tbody></table><h1 id="完结！"><a href="#完结！" class="headerlink" title="完结！"></a>完结！</h1>]]></content>
      
      
      <categories>
          
          <category> 项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python可视化爬虫</title>
      <link href="/xfrl/2020/12/01/python%20%E7%88%AC%E8%99%AB%E4%B9%8Bselenium/"/>
      <url>/xfrl/2020/12/01/python%20%E7%88%AC%E8%99%AB%E4%B9%8Bselenium/</url>
      
        <content type="html"><![CDATA[<h1 id="python可视化爬虫之selenium可视化爬虫"><a href="#python可视化爬虫之selenium可视化爬虫" class="headerlink" title="python可视化爬虫之selenium可视化爬虫"></a>python可视化爬虫之selenium可视化爬虫</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>之所以把selenium爬虫称之为可视化爬虫</p><p>主要是相较于前面所提到的几种网页解析的爬虫方式</p><p>selenium爬虫主要是模拟人的点击操作</p><p>selenium驱动浏览器并进行操作的过程是可以观察到的</p><p>就类似于你在看着别人在帮你操纵你的电脑，类似于别人远程使用你的电脑</p><p>当然了，selenium也有无界面模式</p><h2 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h2><p>selenium基本介绍:</p><p>selenium 是一套完整的web应用程序测试系统，</p><p>包含了测试的录制（selenium IDE）,编写及运行（Selenium Remote Control）<br>和测试的并行处理（Selenium Grid）。</p><p>Selenium的核心Selenium Core基于JsUnit，<br>完全由JavaScript编写，因此可以用于任何支持JavaScript的浏览器上。<br>selenium可以模拟真实浏览器，自动化测试工具，支持多种浏览器，</p><p>爬虫中主要用来解决JavaScript渲染问题。</p><p>用python写爬虫的时候，主要用的是selenium的Webdriver</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#安装selenium库</span></span><br><span class="line">pip install selenium</span><br><span class="line"><span class="comment">#安装对应浏览器驱动</span></span><br><span class="line"><span class="comment"># 我们可以通过下面的方式先看看Selenium.Webdriver支持哪些浏览器</span></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">help</span>(webdriver))</span><br></pre></td></tr></table></figure><p>适用浏览器：<br>PACKAGE||CONTENTS<br>—|:–:|—:<br>android (package)|blackberry (package)|chrome(package)<br>common (package)|edge (package)|firefox (package)<br>ie (package)  |       opera (package)     |    phantomjs (package)<br>remote (package)  |   safari (package)    |    support (package)<br>webkitgtk (package)</p><p>#这里要说一下比较重要的PhantomJS,</p><p>#PhantomJS是一个而基于WebKit的服务端JavaScript API</p><p>#支持Web而不需要浏览器支持，</p><p>#其快速、原生支持各种Web标准：Dom处理，CSS选择器，JSON等等。</p><p>#PhantomJS可以用用于页面自动化、网络监测、网页截屏，以及无界面测试</p><blockquote><p>谷歌浏览器驱动下载地址<br>注意对应版本号，chrome地址栏输入chrome://version/ 查看自己的Chrome版本<br>我使用的是anaconda 下载好后丢入anaconda3\Scripts文件夹下就可以了<br>如果是其他ide如：pycharm、VScode但加载的还是anaconda的集成python，依然可以这么操作</p></blockquote><p>简单测试</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="comment"># #声明浏览器对象</span></span><br><span class="line">browser1 = webdriver.Chrome()</span><br><span class="line">browser2 = webdriver.Firefox()</span><br><span class="line"><span class="comment"># #访问页面</span></span><br><span class="line">browser1.get(<span class="string">&quot;http://www.baidu.com&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(browser1.page_source)</span><br><span class="line"><span class="comment">#关闭当前窗口</span></span><br><span class="line">browser1.close()</span><br></pre></td></tr></table></figure><h2 id="元素定位"><a href="#元素定位" class="headerlink" title="元素定位"></a>元素定位</h2><p>要想对页面进行操作，首先要做的是选中页面元素，<br>比较常见的八种元素定位方式，如下表所示：</p><table><thead><tr><th>定位一个元素</th><th align="center">定位多个元素</th><th>定位方式描述</th></tr></thead><tbody><tr><td>find_element_by_id</td><td align="center">find_elements_by_id</td><td>通过元素 id进行定位</td></tr><tr><td>find_element_by_name</td><td align="center">find_elements_by_name</td><td>通过元素 名称进行定位</td></tr><tr><td>find_element_by_xpath</td><td align="center">find_elements_by_xpath</td><td>通过xpath路径进行定位</td></tr><tr><td>find_element_by_link_text</td><td align="center">find_elements_by_link_text</td><td>通过完整超链接文本进行定位</td></tr><tr><td>find_element_by_partial_link_text</td><td align="center">find_elements_by_partial_link_text</td><td>通过部分超链接文本进行定位</td></tr><tr><td>find_element_by_tag_name</td><td align="center">find_elements_by_tag_name</td><td>通过标记名称进行定位</td></tr><tr><td>find_element_by_class_name</td><td align="center">find_elements_by_class_name</td><td>通过类名称进行定位</td></tr><tr><td>find_element_by_css_selector</td><td align="center">find_elements_by_css_selector</td><td>通过css选择器进行定位</td></tr></tbody></table><h2 id="页面操作"><a href="#页面操作" class="headerlink" title="页面操作"></a>页面操作</h2><p>1.表单填充</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 找到用户名输入用户名</span></span><br><span class="line">user = drive.find_element_by_name(<span class="string">&quot;LoginForm[username]&quot;</span>)</span><br><span class="line">user.send_keys(username)</span><br><span class="line"><span class="comment"># 找到密码输入密码</span></span><br><span class="line">pwd=drive.find_element_by_id(<span class="string">&quot;LoginForm_password&quot;</span>)</span><br><span class="line">pwd.send_keys(password)</span><br><span class="line"><span class="comment"># 点击登录按钮实现登录</span></span><br><span class="line">drive.find_element_by_class_name(<span class="string">&quot;login_btn&quot;</span>).click()</span><br></pre></td></tr></table></figure><p>2.窗口句柄</p><p>简单讲，句柄就是浏览器上方每一个窗口栏的唯一标识</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取当前窗口所有句柄</span></span><br><span class="line">handles = drive.window_handles</span><br><span class="line"><span class="comment">#通过句柄 切换到第2个标签页</span></span><br><span class="line">drive.switch_to.window(handles[<span class="number">2</span>])</span><br><span class="line"><span class="string">&quot;&quot;&quot;操作完成&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment">#关闭当前窗口</span></span><br><span class="line">driver.close() </span><br><span class="line"><span class="comment">#通过句柄 切换到第1个标签页</span></span><br><span class="line">drive.switch_to.window(handles[<span class="number">0</span>])</span><br><span class="line">time.sleep(random.uniform(<span class="number">2</span>,<span class="number">3</span>))</span><br></pre></td></tr></table></figure><p>3.url加载和获取</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#url加载</span></span><br><span class="line">drive.get(url)</span><br><span class="line"><span class="comment"># 获取当前页面url并断言</span></span><br><span class="line">currentPageUrl = driver.current_url</span><br></pre></td></tr></table></figure><p>4.cookie处理</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">get_cookies:获取cookie信息</span><br><span class="line">add_cookie:添加cookie信息</span><br><span class="line">drive.get(<span class="string">&quot;http://www.baidu.com&quot;</span>)</span><br><span class="line">cookie = &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;foo&#x27;</span>,<span class="string">&#x27;value&#x27;</span>:<span class="string">&#x27;bar&#x27;</span>&#125;</span><br><span class="line">drive.add_cookie(cookie)</span><br><span class="line">drive.get_cookies()</span><br></pre></td></tr></table></figure><h2 id="等待方式"><a href="#等待方式" class="headerlink" title="等待方式"></a>等待方式</h2><p>现在很多网站采用 Ajax技术</p><p>无法确定网页元素什么时候能被完全加载</p><p>所以网页元素的选取比较困难</p><p>此时就需要设置等待（等待网页加载完成）</p><p>selenium有两种等待方式:</p><ul><li>显式等待</li><li>隐式等待</li></ul><p>1.显式等待</p><p>显式等待是一种条件触发式等待</p><p>直到设置的某一条件达成时才会继续执行</p><p>可以设置超时时间，如果超过超时时间元素依然没被加载，就会抛出异常</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.wait <span class="keyword">import</span> WebDriverWait</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions <span class="keyword">as</span> EC</span><br><span class="line">drive = webdriver.Chrome()</span><br><span class="line">url = <span class="string">&#x27;http://www.baidu.com/&#x27;</span></span><br><span class="line">drive.get(url)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">WebDriverWait(self.driver,<span class="number">10</span>).until(EC.presence_of_element_located(By.ID,<span class="string">&quot;LoginForm[username]&quot;</span>))  <span class="comment">#显示等待</span></span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;%s页面未找到元素&#x27;</span>% loc)</span><br></pre></td></tr></table></figure><p>以上代码加载 ‘<a href="http://www.baidu.com/&#39;%E9%A1%B5%E9%9D%A2">http://www.baidu.com/&#39;页面</a></p><p>并定位id为”LoginForm[username]”的元素</p><p>设置超时时间10秒，webDriverWait默认会500ms检测一下元素是否存在</p><p>selenium提供了一些内置的用于显示等待的方法，</p><p>位于expected_conditions类中，详细见下表:</p><table><thead><tr><th>内置方法</th><th>功能</th></tr></thead><tbody><tr><td>title_is</td><td>判断当前页面的title是否等于预期内容</td></tr><tr><td>title_contains</td><td>判断当前页面的title是否包含预期字符串</td></tr><tr><td>presence_of_element_located</td><td>判断某个元素是否被加到了dom树里,</td></tr><tr><td>并不代表该元素一定可见</td><td></td></tr><tr><td>presence_of_all_element_located</td><td>判断是否至少有1个元素存在于dom树里</td></tr><tr><td>visibility_of_element_located</td><td>判断某个元素是否可见</td></tr><tr><td>visibility_of</td><td>判断某个元素是否可见</td></tr><tr><td>invisibility_of_element_located</td><td>判断某个元素是否不存在于dom树里或不可见</td></tr><tr><td>text_to_be_present_in_element</td><td>判断元素中的text是否包含了预期的字符串</td></tr><tr><td>text_to_be_present_in_element_value</td><td>判断元素中的value属性是否包含了预期字符</td></tr><tr><td>frame_to_be_available_and_switch_to_it</td><td>判断该frame是否可以切换进去，如果可以，返回True并切换进去，否则返回False</td></tr><tr><td>element_to_be_clickable</td><td>判断某个元素是否可见并且是enable的</td></tr><tr><td>staleness_of</td><td>等待某个元素从dom树中移除</td></tr><tr><td>element_to_be_selected</td><td>判断某个元素是否被选中了，一般用于下拉列表</td></tr><tr><td>element_located_to_be_selected</td><td>判断某个元素是否被选中了，一般用于下拉列表</td></tr><tr><td>element_selection_state_to_be</td><td>判断某个元素的选中状态是否符合预期</td></tr><tr><td>element_located_selection_state_to_be</td><td>判断某个元素的选中状态是否符合预期</td></tr><tr><td>alert_is_present</td><td>判断页面上是否存在alert框</td></tr></tbody></table><p>2.隐式等待</p><p>隐式等待是在尝试定位某个元素时，如果没能立刻发现，就等待固定时长<br>类似于socket超时，默认设置是0秒，即相当于最长等待时长</p><p>在浏览器界面直观感受是：</p><p>等待直到网页加载完成（地址栏这个地方不是× 变成如下）时继续执行，<br>网页加载超过设置等待时长才报错</p><p>使用方法:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">drive = webdriver.Chrome()</span><br><span class="line">url = <span class="string">&#x27;http://www.baidu.com/&#x27;</span></span><br><span class="line"><span class="comment">#设置最大等待时长 10秒</span></span><br><span class="line">drive.implicitly_wait(<span class="number">10</span>)</span><br><span class="line">drive.get(url)</span><br><span class="line">user = drive.find_element_by_name(<span class="string">&quot;LoginForm[username]&quot;</span>)</span><br></pre></td></tr></table></figure><p>3.线程休眠</p><p>time.sleep(time)是比较常用的线程休眠方式</p><p>为了避免风险，我个人比较喜欢随机休眠</p><p>time.sleep(random.uniform(4,5))</p><h2 id="扩展程序加载"><a href="#扩展程序加载" class="headerlink" title="扩展程序加载"></a>扩展程序加载</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置好应用扩展</span></span><br><span class="line">chrome_options.add_extension(extension_path)</span><br><span class="line"><span class="comment">#添加下载路径</span></span><br><span class="line"><span class="comment">#download.default_directory：设置下载路径    profile.default_content_settings.popups：设置为 0 禁止弹出窗口</span></span><br><span class="line">prefs = &#123;<span class="string">&#x27;profile.default_content_settings.popups&#x27;</span>: <span class="number">0</span>, <span class="string">&#x27;download.default_directory&#x27;</span>:tmp_path&#125;</span><br><span class="line">chrome_options.add_experimental_option(<span class="string">&#x27;prefs&#x27;</span>, prefs)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python爬虫方法介绍</title>
      <link href="/xfrl/2020/11/13/python%E7%88%AC%E8%99%AB%E6%96%B9%E6%B3%95/"/>
      <url>/xfrl/2020/11/13/python%E7%88%AC%E8%99%AB%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="Python爬虫——四种常见基础爬虫方法介绍"><a href="#Python爬虫——四种常见基础爬虫方法介绍" class="headerlink" title="Python爬虫——四种常见基础爬虫方法介绍"></a>Python爬虫——四种常见基础爬虫方法介绍</h1><h2 id="一、Urllib方法"><a href="#一、Urllib方法" class="headerlink" title="一、Urllib方法"></a>一、Urllib方法</h2><p>Urllib是python内置的HTTP请求库</p><pre><code>import urllib.request</code></pre><ul><li>#1.定位抓取的url</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url=&#x27;http://www.baidu.com/&#x27;</span><br></pre></td></tr></table></figure><ul><li>#2.向目标url发送请求</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response=urllib.request.urlopen(url)</span><br></pre></td></tr></table></figure><ul><li>#3.读取数据</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data=response.read()</span><br><span class="line"><span class="comment">#print(data)  #打印出来的数据有ASCII码</span></span><br><span class="line"><span class="built_in">print</span>(data.decode(<span class="string">&#x27;utf-8&#x27;</span>))  <span class="comment">#decode将相应编码格式的数据转换成字符串</span></span><br></pre></td></tr></table></figure><p>#post请求</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import urllib.parse</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url=&#x27;http://www.iqianyue.com/mypost/&#x27;</span><br></pre></td></tr></table></figure><ul><li>#构建上传的data</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">postdata=urllib.parse.urlencode(&#123;</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;Jack&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;pass&#x27;</span>:<span class="string">&#x27;123456&#x27;</span></span><br><span class="line"></span><br><span class="line">&#125;).encode(<span class="string">&#x27;utf-8&#x27;</span>) <span class="comment">#字符串转化成字节流数据</span></span><br><span class="line"></span><br><span class="line">html=urllib.request.urlopen(url,data=postdata).read()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(html)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#headers针对检验头信息的反爬机制</span></span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line">headers=&#123;</span><br><span class="line"><span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">request1=urllib.request.Request(<span class="string">&#x27;https://www.dianping.com/&#x27;</span>,headers=headers)<span class="comment">#Request类构建了一个完整的请求</span></span><br><span class="line">response1=urllib.request.urlopen(request1).read()</span><br><span class="line"><span class="built_in">print</span>(response1.decode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#超时设置+异常处理</span></span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> urllib.error</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        response1=urllib.request.urlopen(<span class="string">&#x27;http://www.ibeifeng.com/&#x27;</span>,timeout=<span class="number">0.01</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span> urllib.error.URLError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(e)</span><br><span class="line">    <span class="keyword">except</span> BaseException <span class="keyword">as</span> a: <span class="comment">#所有异常的基类</span></span><br><span class="line">        <span class="built_in">print</span>(a)</span><br></pre></td></tr></table></figure><h2 id="二、requests方法"><a href="#二、requests方法" class="headerlink" title="二、requests方法"></a>二、requests方法</h2><ul><li><p>Requests是用python语言基于urllib编写的，采用的是Apache2 Licensed开源协议的HTTP库</p></li><li><p>urllib还是非常不方便的，而Requests它会比urllib更加方便，可以节约我们大量的工作。</p></li><li><p>requests是python实现的最简单易用的HTTP库，建议爬虫使用requests库。</p></li><li><p>默认安装好python之后，是没有安装requests模块的，需要单独通过pip安装</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="comment">#get请求</span></span><br><span class="line">r=requests.get(<span class="string">&#x27;https://www.taobao.com/&#x27;</span>)</span><br><span class="line"><span class="comment">#打印字节流数据</span></span><br><span class="line"><span class="comment"># print(r.content)</span></span><br><span class="line"><span class="comment"># print(r.content.decode(&#x27;utf-8&#x27;))  #转码</span></span><br><span class="line"><span class="built_in">print</span>(r.text)  <span class="comment">#打印文本数据</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> chardet</span><br><span class="line"><span class="comment">#自动获取到网页编码，返回字典类型</span></span><br><span class="line"><span class="built_in">print</span>(chardet.detect(r.content))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">POST请求实现模拟表单登录</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="comment">#构建上传到网页的数据</span></span><br><span class="line">data=&#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;Jack&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;pass&#x27;</span>:<span class="string">&#x27;123456&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#带登陆数据发送请求</span></span><br><span class="line">r=requests.post(<span class="string">&#x27;http://www.iqianyue.com/mypost/&#x27;</span>,data=data)</span><br><span class="line"><span class="built_in">print</span>(r.text)   <span class="comment">#打印请求数据</span></span><br><span class="line"><span class="comment">#将登录后的html储存在本地</span></span><br><span class="line">f=<span class="built_in">open</span>(<span class="string">&#x27;login.html&#x27;</span>,<span class="string">&#x27;wb&#x27;</span>)</span><br><span class="line">f.write(r.content)  <span class="comment">#写入字节流数据</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#针对检验头信息的反爬机制headers</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="comment">#构建headers</span></span><br><span class="line">headers=&#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">r=requests.get(<span class="string">&#x27;https://www.dianping.com/&#x27;</span>,headers=headers)</span><br><span class="line"><span class="built_in">print</span>(r.text)</span><br><span class="line"><span class="built_in">print</span>(r.status_code)   <span class="comment">#状态403 被拦截了(查看状态)</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#针对检验头信息的反爬机制headers</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="comment">#构建headers</span></span><br><span class="line">headers=&#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">r=requests.get(<span class="string">&#x27;https://www.dianping.com/&#x27;</span>,headers=headers)</span><br><span class="line"><span class="built_in">print</span>(r.text)</span><br><span class="line"><span class="built_in">print</span>(r.status_code)   <span class="comment">#状态403 被拦截了(查看状态)</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#cookies</span></span><br><span class="line"><span class="comment">#跳过登陆，获取资源</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">f=<span class="built_in">open</span>(<span class="string">&#x27;cookie.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>)   <span class="comment">#打开cookie文件</span></span><br><span class="line"><span class="comment">#初始化cookies，声明一个空字典</span></span><br><span class="line">cookies=&#123;&#125;</span><br><span class="line"><span class="comment">#按照字符 ； 进行切割读取，返回列表数据，然后遍历</span></span><br><span class="line"><span class="comment">#split()：切割函数   strip()去除字符串前后空白</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f.read().split(<span class="string">&#x27;;&#x27;</span>):</span><br><span class="line">    <span class="comment">#split将参数设置为1，把字符串切割成两个部分</span></span><br><span class="line">    name,value=line.strip().split(<span class="string">&#x27;=&#x27;</span>,<span class="number">1</span>)</span><br><span class="line">    <span class="comment">#为空字典cookies添加内容</span></span><br><span class="line">    cookies[name]=value</span><br><span class="line">r=requests.get(<span class="string">&#x27;http://www.baidu.com&#x27;</span>,cookies=cookies)</span><br><span class="line">data=r.text</span><br><span class="line">f1=<span class="built_in">open</span>(<span class="string">&#x27;baidu.html&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">f1.write(data)</span><br><span class="line">f1.close()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#设置代理（网站搜索免费代理ip）</span></span><br><span class="line"><span class="comment">#解决网页封IP的问题</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">proxies=&#123;</span><br><span class="line">    <span class="comment">#&#x27;协议&#x27;:&#x27;ip:端口号&#x27;</span></span><br><span class="line">    <span class="string">&#x27;HTTP&#x27;</span>:<span class="string">&#x27;222.83.160.37：61205&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">req=requests.get(<span class="string">&#x27;http://www.taobao.com/&#x27;</span>,proxies=proxies)</span><br><span class="line"><span class="built_in">print</span>(req.text)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置超时</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> requests.exceptions <span class="keyword">import</span> Timeout</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    response = requests.get(<span class="string">&quot;http://www.ibeifeng.com &quot;</span>, timeout=<span class="number">0.01</span>)</span><br><span class="line">    <span class="built_in">print</span>(response.status_code)</span><br><span class="line"><span class="keyword">except</span> Timeout:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;访问超时！&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="三、BS4-BeautifulSoup4解析"><a href="#三、BS4-BeautifulSoup4解析" class="headerlink" title="三、BS4- BeautifulSoup4解析"></a>三、BS4- BeautifulSoup4解析</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">html = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">&lt;p class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;p class=&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were</span></span><br><span class="line"><span class="string">&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></span><br><span class="line"><span class="string">&lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and</span></span><br><span class="line"><span class="string">&lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;</span></span><br><span class="line"><span class="string">and they lived at the bottom of a well.&lt;/p&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># #创建一个BS对象</span></span><br><span class="line">soup=BeautifulSoup(html,<span class="string">&#x27;html.parser&#x27;</span>) <span class="comment">#html.parser默认解析器</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(soup))</span><br><span class="line"><span class="comment"># 结构化输出</span></span><br><span class="line"><span class="built_in">print</span>(soup.prettify())</span><br><span class="line"><span class="comment">#1获取标签(只能获取第一条对应的标签)</span></span><br><span class="line"><span class="built_in">print</span>(soup.p) <span class="comment">#获取p标签</span></span><br><span class="line"><span class="built_in">print</span>(soup.a) <span class="comment">#获取a标签</span></span><br><span class="line"><span class="built_in">print</span>(soup.title) <span class="comment">#获取title</span></span><br><span class="line"><span class="comment">#2获取标签内容</span></span><br><span class="line"><span class="built_in">print</span>(soup.title.string)</span><br><span class="line"><span class="built_in">print</span>(soup.a.string)</span><br><span class="line"><span class="built_in">print</span>(soup.body.string) <span class="comment">#如果标签中有多个子标签返回None</span></span><br><span class="line"><span class="built_in">print</span>(soup.head.string) <span class="comment">#如果标签中有一个子标签返回子标签里的文本</span></span><br><span class="line"><span class="comment">#3获取属性</span></span><br><span class="line"><span class="built_in">print</span>(soup.a.attrs) <span class="comment">#返回字典</span></span><br><span class="line"><span class="built_in">print</span>(soup.a[<span class="string">&#x27;id&#x27;</span>]) <span class="comment">#得到指定属性值</span></span><br><span class="line"><span class="comment">#4操作字节点</span></span><br><span class="line"><span class="built_in">print</span>(soup.p.contents) <span class="comment">#得到标签下所有子节点</span></span><br><span class="line"><span class="built_in">print</span>(soup.p.children) <span class="comment">#得到标签下所有子节点的迭代对象</span></span><br><span class="line"><span class="comment">#5操作父节点</span></span><br><span class="line"><span class="built_in">print</span>(soup.p.parent) <span class="comment">#得到标签p的父节点其内部的所有内容</span></span><br><span class="line"><span class="built_in">print</span>(soup.p.parents) <span class="comment"># 得到标签p的父节点的迭代对象</span></span><br><span class="line"><span class="comment">#6操作兄弟节点(同级的节点)</span></span><br><span class="line"><span class="comment">#next_sibling和previous_sibling分别获取节点的下一个和上一个兄弟元素</span></span><br><span class="line"><span class="built_in">print</span>(soup.a.next_sibling)</span><br><span class="line"><span class="built_in">print</span>(soup.a.previous_sibling)</span><br><span class="line"></span><br><span class="line"><span class="comment">#二.搜索文档数</span></span><br><span class="line"><span class="comment">#1标签名</span></span><br><span class="line"><span class="comment">#查询所有a标签</span></span><br><span class="line">res1=soup.find_all(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(res1)</span><br><span class="line"><span class="comment">#获取所有a标签下属性为class=&quot;sister&quot;的标签（</span></span><br><span class="line"><span class="comment">#使用 class 做参数会导致语法错误，这里也要用class_）</span></span><br><span class="line"><span class="built_in">print</span>(soup.find_all(<span class="string">&#x27;a&#x27;</span>,class_=<span class="string">&quot;sister&quot;</span>))</span><br><span class="line"><span class="comment">#2正则表达式</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="comment">#查询所有包含d字符的标签</span></span><br><span class="line">res2=soup.find_all(re.<span class="built_in">compile</span>(<span class="string">&#x27;d+&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(res2)</span><br><span class="line"><span class="comment">#3列表</span></span><br><span class="line"><span class="comment">#查找所有的title标签和a标签</span></span><br><span class="line">res3=soup.find_all([<span class="string">&#x27;title&#x27;</span>,<span class="string">&#x27;a&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(res3)</span><br><span class="line"><span class="comment">#4关键词</span></span><br><span class="line"><span class="comment">#查询属性id=&#x27;link1&#x27;的标签</span></span><br><span class="line">res4=soup.find_all(<span class="built_in">id</span>=<span class="string">&#x27;link1&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(res4)</span><br><span class="line"><span class="comment">#5内容匹配</span></span><br><span class="line">res5=soup.find_all(text=<span class="string">&#x27;Tillie&#x27;</span>)  <span class="comment">#文本匹配</span></span><br><span class="line">res55=soup.find_all(text=re.<span class="built_in">compile</span>(<span class="string">&#x27;Dormouse&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(res55)</span><br><span class="line"><span class="comment">#6嵌套选择</span></span><br><span class="line"><span class="built_in">print</span>(soup.find_all(<span class="string">&#x27;p&#x27;</span>))</span><br><span class="line"><span class="comment">#查看所有p标签下所有的a标签</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> soup.find_all(<span class="string">&#x27;p&#x27;</span>):</span><br><span class="line">    <span class="built_in">print</span>(i.find_all(<span class="string">&#x27;a&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#三.CSS选择器</span></span><br><span class="line"><span class="comment">#1根据标签查询对象</span></span><br><span class="line">res6=soup.select(<span class="string">&#x27;a&#x27;</span>) <span class="comment">#返回列表</span></span><br><span class="line"><span class="built_in">print</span>(res6) <span class="comment">#得到所有的a标签</span></span><br><span class="line"><span class="comment">#2根据ID属性查询标签对象(id用#)</span></span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">&#x27;#link2&#x27;</span>))</span><br><span class="line"><span class="comment">#3根据class属性查询标签对象(class用.)</span></span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">&#x27;.sister&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">&#x27;.sister&#x27;</span>)[<span class="number">2</span>].get_text()) <span class="comment">#获取文本内容</span></span><br><span class="line"><span class="comment">#4属性选择(获取a标签里=href属性值的标签)</span></span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">&#x27;a[href=&quot;http://example.com/elsie&quot;]&#x27;</span>))</span><br><span class="line"><span class="comment">#5包含选择(获取)</span></span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">&#x27;p a#link1&#x27;</span>))</span><br><span class="line"><span class="comment">#6并列选择</span></span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">&#x27;a#link1,a#link2&#x27;</span>))</span><br><span class="line"><span class="comment">#7得到标签内容</span></span><br><span class="line">res7=soup.select(<span class="string">&#x27;p a.sister&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> res7:</span><br><span class="line">    <span class="built_in">print</span>(i.get_text())</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#爬取51job主页12个职位</span></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">url=<span class="string">&#x27;https://www.51job.com/&#x27;</span></span><br><span class="line">headers=&#123;<span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&#x27;</span>&#125;</span><br><span class="line">html=requests.get(url,headers=headers)</span><br><span class="line">data=html.content.decode(<span class="string">&#x27;gbk&#x27;</span>)</span><br><span class="line">soup=BeautifulSoup(data,<span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line"><span class="comment">#获取span标签，class_=&quot;at&quot;属性</span></span><br><span class="line">span=soup.find_all(<span class="string">&#x27;span&#x27;</span>,class_=<span class="string">&quot;at&quot;</span>)</span><br><span class="line"><span class="comment"># for i in span:</span></span><br><span class="line"><span class="comment">#     print(i.get_text())</span></span><br><span class="line"><span class="comment">#select方法（CSS选择器）</span></span><br><span class="line">span1=soup.select(<span class="string">&#x27;span[class=&quot;at&quot;]&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> span1:</span><br><span class="line">    <span class="built_in">print</span>(m.get_text())</span><br></pre></td></tr></table></figure><h2 id="四、XPath语法"><a href="#四、XPath语法" class="headerlink" title="四、XPath语法"></a>四、XPath语法</h2><p>XPath 是一门在 XML 文档中查找信息的语言。</p><p>XPath 可用来在 XML 文档中对元素和属性进行遍历</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">text=<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"> &lt;html&gt;</span></span><br><span class="line"><span class="string">        &lt;head&gt;</span></span><br><span class="line"><span class="string">            &lt;title&gt;春晚&lt;/title&gt;</span></span><br><span class="line"><span class="string">        &lt;/head&gt;</span></span><br><span class="line"><span class="string">        &lt;body&gt;</span></span><br><span class="line"><span class="string">            &lt;h1 name=&quot;title&quot;&gt;个人简介&lt;/h1&gt;</span></span><br><span class="line"><span class="string">            &lt;div name=&quot;desc&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;p name=&quot;name&quot;&gt;姓名：&lt;span&gt;岳云鹏&lt;/span&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string">                &lt;p name=&quot;addr&quot;&gt;住址：中国 河南&lt;/p&gt;</span></span><br><span class="line"><span class="string">                &lt;p name=&quot;info&quot;&gt;代表作：五环之歌&lt;/p&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#初始化</span></span><br><span class="line">html=etree.HTML(text)</span><br><span class="line"><span class="comment"># result=etree.tostring(html)   #字节流</span></span><br><span class="line"><span class="comment"># print(result.decode(&#x27;utf-8&#x27;))</span></span><br><span class="line"><span class="comment">#查询所有的p标签</span></span><br><span class="line">p_x=html.xpath(<span class="string">&#x27;//p&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(p_x)</span><br><span class="line"><span class="comment">#查询所有p标签的文本,用text只能拿到该标签下的文本，不包括子标签</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> p_x:</span><br><span class="line">    <span class="built_in">print</span>(i.text)   <span class="comment">#发现&lt;span&gt;没有拿到</span></span><br><span class="line"><span class="comment">#优化，用string（）拿标签内部的所有文本</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> p_x:</span><br><span class="line">    <span class="built_in">print</span>(i.xpath(<span class="string">&#x27;string(.)&#x27;</span>))</span><br><span class="line"><span class="comment"># 查询所有name属性的值</span></span><br><span class="line">attr_name=html.xpath(<span class="string">&#x27;//@name&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(attr_name)</span><br><span class="line"><span class="comment">#查询出所有包含name属性的标签</span></span><br><span class="line">attr_name1=html.xpath(<span class="string">&#x27;//*[@name]&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(attr_name1)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>初遇Python</title>
      <link href="/xfrl/2020/06/09/python%E5%9F%BA%E7%A1%80/"/>
      <url>/xfrl/2020/06/09/python%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<h1 id="Python基础语法介绍"><a href="#Python基础语法介绍" class="headerlink" title="Python基础语法介绍"></a>Python基础语法介绍</h1><h2 id="一、Python简介"><a href="#一、Python简介" class="headerlink" title="一、Python简介"></a>一、Python简介</h2><h3 id="1-了解Python"><a href="#1-了解Python" class="headerlink" title="1. 了解Python"></a>1. 了解Python</h3><p>Python是一种解释型（这意味着开发过程中没有了编译这个环节）、面向对象（支持面向对象的风格或代码封装在对象的编程技术）、动态数据类型的交互式（可在命令行中通过Python提示符及直接代码执行程序）高级程序设计语言。</p><h3 id="2-Python介绍"><a href="#2-Python介绍" class="headerlink" title="2. Python介绍"></a>2. Python介绍</h3><p>Python是时下最流行、最火爆的编程语言</p><ul><li>免费、开源</li><li>应用领域广泛</li></ul><p>以下知名框架均是Python语言开发:</p><ol><li>Google开源机器学习框架：TensorFlow</li><li>开源社区主推学习框架：Scikit-learn</li><li>百度开源深度学习框架：Paddle</li></ol><h3 id="3-Python特点"><a href="#3-Python特点" class="headerlink" title="3. Python特点"></a>3. Python特点</h3><ol><li>易于学习：Python有相对较少的关键字，结构简单，和一个明确定义的语法，学习起来更加简单。</li><li>易于阅读：Python代码定义的更清晰。</li><li>易于维护：Python的成功在于它的源代码是相当容易维护的。</li><li>一个广泛的标准库：Python的最大的优势之一是丰富的库，跨平台的，在UNIX，Windows和Macintosh兼容很好。</li><li>互动模式：互动模式的支持，您可以从终端输入执行代码并获得结果的语言，互动的测试和调试代码片断。</li><li>可移植：基于其开放源代码的特性，Python已经被移植（也就是使其工作）到许多平台。</li><li>可扩展：如果你需要一段运行很快的关键代码，或者是想要编写一些不愿开放的算法，你可以使用C或C++完成那部分程序，然后从你的Python程序中调用。</li><li>数据库：Python提供所有主要的商业数据库的接口。</li><li>GUI编程：Python支持GUI可以创建和移植到许多系统调用。</li><li>可嵌入: 你可以将Python嵌入到C/C++程序，让你的程序的用户获得”脚本化”的能力。</li></ol><h3 id="4-Python发展历史"><a href="#4-Python发展历史" class="headerlink" title="4. Python发展历史"></a>4. Python发展历史</h3><p>Python发展历史：<a href="https://baike.baidu.com/item/Python/407313?fr=aladdin">https://baike.baidu.com/item/Python/407313?fr=aladdin</a></p><h3 id="5-Python版本"><a href="#5-Python版本" class="headerlink" title="5. Python版本"></a>5. Python版本</h3><ul><li>Python 2.X</li><li>Python 3.X</li></ul><h2 id="二、Python解释器"><a href="#二、Python解释器" class="headerlink" title="二、Python解释器"></a>二、Python解释器</h2><h3 id="1-python解释器是什么"><a href="#1-python解释器是什么" class="headerlink" title="1. python解释器是什么"></a>1. python解释器是什么</h3><p>我们怎么让计算机去读取并执行Python代码文件呢？python解释器是什么？</p><p>Python语言是编程语言，是计算机能听懂的语言。</p><p>计算机的大脑是CPU， 中文名叫中央处理器，它仍然不能直接处理 Python 语言。</p><p>CPU 只能直接处理机器指令语言，那是一种由0和1 数字组成的语言。</p><p>这是一种我们人很难直接写出来的语言。</p><p>所以，我们需要一个翻译， 把Python语言翻译成 计算机CPU 能听懂的 机器指令语言，这样计算机才能按照我们的Python程序的要求去做事。</p><p>就像如果你要让一个美国人干一件事，你又只会说中国话，那么你就需要一名会说英语的中国翻译， 你和翻译说中国话，翻译听了，再对美国人说英语，告诉他怎么做。</p><p>让计算机执行Python程序时，这个翻译就是 Python解释器。</p><p>Python解释器本身也是个程序， 它是解释执行 Python代码的，所以叫解释器。</p><p>没有它，我们的Python代码是没有办法运行的。</p><p>我们运行Python程序时，先运行Python解释器，通过这个解释器，去读取我们的Python程序文件，这个解释器再以机器指令语言告诉CPU如何去做。</p><h3 id="2-解释器的作用"><a href="#2-解释器的作用" class="headerlink" title="2. 解释器的作用"></a>2. 解释器的作用</h3><ul><li>Python解释器作用：运行文件</li><li>Python解释器种类<ol><li>CPython，C语言开发的解释器[官方]，应用广泛的解释器。</li><li>IPython，基于CPython的一种交互式解释器。</li><li>其他解释器<ul><li>PyPy，基于Python语言开发的解释器。</li><li>Jython，运行在Java平台的解释器，直接把Python代码编译成Java字节码执行。</li><li>IronPython，运行在微软.Net平台上的Python解释器，可以直接把Python代码编译成.Net的字节码。</li></ul></li></ol></li></ul><h2 id="三、PyCharm安装与使用"><a href="#三、PyCharm安装与使用" class="headerlink" title="三、PyCharm安装与使用"></a>三、PyCharm安装与使用</h2><h3 id="1-PyCharm的作用"><a href="#1-PyCharm的作用" class="headerlink" title="1. PyCharm的作用"></a>1. PyCharm的作用</h3><p>PyCharm是一种Python IDE（集成开发环境），带有一整套可以帮助用户在使用Python语言开发时提高其效率的工具，内部集成的功能如下：</p><ul><li>Project管理</li><li>智能提示</li><li>语法高亮</li><li>代码跳转</li><li>调试代码</li><li>解释代码(解释器)</li><li>框架和库</li><li>…</li></ul><h2 id="四、注释"><a href="#四、注释" class="headerlink" title="四、注释"></a>四、注释</h2><h3 id="1-注释的作用"><a href="#1-注释的作用" class="headerlink" title="1. 注释的作用"></a>1. 注释的作用</h3><p>通过用自己熟悉的语言，在程序中对某些代码进行标注说明，这就是注释的作用，能够大大增强程序的可读性。</p><h3 id="2-注释的分类及语法"><a href="#2-注释的分类及语法" class="headerlink" title="2. 注释的分类及语法"></a>2. 注释的分类及语法</h3><p>注释分为两类：单行注释 和 多行注释。</p><ul><li>单行注释</li></ul><p>只能注释一行内容，语法如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 注释内容</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><ul><li>多行注释</li></ul><p>可以注释多行内容，一般用在注释一段代码的情况， 语法如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">第一行注释</span></span><br><span class="line"><span class="string">第二行注释</span></span><br><span class="line"><span class="string">第三行注释</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">注释1</span></span><br><span class="line"><span class="string">注释2</span></span><br><span class="line"><span class="string">注释3</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure><blockquote><p>快捷键： ctrl + /</p></blockquote><p><strong>注意：解释器不执行任何的注释内容。</strong></p><h2 id="五、变量"><a href="#五、变量" class="headerlink" title="五、变量"></a>五、变量</h2><h3 id="1-变量的作用"><a href="#1-变量的作用" class="headerlink" title="1. 变量的作用"></a>1. 变量的作用</h3><p>​    变量，简单来说，其实就是计算机内存中的一块储存空间，用来存储CPU需要使用的数据。 而这个储存空间需要一个名字，这个名字的统称就叫变量。</p><p>作用：</p><ol><li>用来临时保存数据</li><li>便于项目的后期升级维护</li><li>节约内存</li></ol><h3 id="2-定义变量"><a href="#2-定义变量" class="headerlink" title="2. 定义变量"></a>2. 定义变量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">变量名 = 值</span><br></pre></td></tr></table></figure><p><strong>变量名自定义，要满足标识符命名规则。</strong></p><h4 id="2-1-标识符"><a href="#2-1-标识符" class="headerlink" title="2.1 标识符"></a>2.1 标识符</h4><p>标识符命名规则是Python中定义各种名字的时候的统一规范，具体如下：</p><ul><li>由数字、字母、下划线组成</li><li>不能数字开头</li><li>不能使用内置关键字</li><li>严格区分大小写</li></ul><h4 id="2-2-命名习惯"><a href="#2-2-命名习惯" class="headerlink" title="2.2 命名习惯"></a>2.2 命名习惯</h4><ul><li>见名知义。</li><li>大驼峰：即每个单词首字母都大写，例如：<code>MyName</code>。</li><li>小驼峰：第二个（含）以后的单词首字母大写，例如：<code>myName</code>。</li><li>下划线：例如：<code>my_name</code>。</li></ul><h4 id="2-3-使用变量"><a href="#2-3-使用变量" class="headerlink" title="2.3 使用变量"></a>2.3 使用变量</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">my_name = <span class="string">&quot;张三&quot;</span></span><br><span class="line"><span class="built_in">print</span>(my_name)</span><br><span class="line"></span><br><span class="line">myAge = <span class="number">23</span></span><br><span class="line"><span class="built_in">print</span>(myAge)</span><br></pre></td></tr></table></figure><h4 id="2-4-认识bug"><a href="#2-4-认识bug" class="headerlink" title="2.4 认识bug"></a>2.4 认识bug</h4><p>所谓bug，就是程序中的错误。如果程序有错误，需要程序员排查问题，纠正错误。</p><h4 id="2-5-Debug工具"><a href="#2-5-Debug工具" class="headerlink" title="2.5 Debug工具"></a>2.5 Debug工具</h4><p>Debug工具是PyCharm IDE中集成的用来调试程序的工具，在这里程序员可以查看程序的执行细节和流程或者调解bug。</p><p>Debug工具使用步骤：</p><ol><li>打断点</li><li>Debug调试</li></ol><h2 id="六、数据类型"><a href="#六、数据类型" class="headerlink" title="六、数据类型"></a>六、数据类型</h2><p><strong>在 Python 里为了应对不同的业务需求，也把数据分为不同的类型。</strong></p><blockquote><p>检测数据类型的方法：<code>type(变量名或者数值)</code></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))  <span class="comment"># &lt;class &#x27;int&#x27;&gt; -- 整型</span></span><br><span class="line"></span><br><span class="line">b = <span class="number">1.1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(b))  <span class="comment"># &lt;class &#x27;float&#x27;&gt; -- 浮点型</span></span><br><span class="line"></span><br><span class="line">c = <span class="literal">True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(c))  <span class="comment"># &lt;class &#x27;bool&#x27;&gt; -- 布尔型</span></span><br><span class="line"></span><br><span class="line">d = <span class="string">&quot;12345&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(d))  <span class="comment"># &lt;class &#x27;str&#x27;&gt; -- 字符串</span></span><br><span class="line"></span><br><span class="line">e = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(e))  <span class="comment"># &lt;class &#x27;list&#x27;&gt; -- 列表</span></span><br><span class="line"></span><br><span class="line">f = (<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(f))  <span class="comment"># &lt;class &#x27;tuple&#x27;&gt; -- 元组</span></span><br><span class="line"></span><br><span class="line">h = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(h))  <span class="comment"># &lt;class &#x27;set&#x27;&gt; -- 集合</span></span><br><span class="line"></span><br><span class="line">g = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;张三&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">20</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(g))  <span class="comment"># &lt;class &#x27;dict&#x27;&gt; -- 字典</span></span><br><span class="line"><span class="number">1234567891011121314151617181920212223</span></span><br></pre></td></tr></table></figure><p>思考：</p><ol><li>为什么Python会提出这么多种的数据类型?</li></ol><blockquote><p>有限的内存, 无限的变量, 合理的使用内存</p></blockquote><ol><li>Python中，程序员定义变量需要关心变量的类型吗?</li></ol><blockquote><ul><li>Python弱类型语言</li><li>程序员不需要关心变量的类型, 只需要把数据书写正确即可，python会通过自动推到出您变量的类型。</li></ul></blockquote><h2 id="七、输出"><a href="#七、输出" class="headerlink" title="七、输出"></a>七、输出</h2><p><strong>作用：程序输出内容给用户。</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello Python&#x27;</span>)</span><br><span class="line"></span><br><span class="line">age = <span class="number">18</span></span><br><span class="line"><span class="built_in">print</span>(age)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 需求：输出“今年我的年龄是18岁”</span></span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure><h3 id="1-格式化输出"><a href="#1-格式化输出" class="headerlink" title="1. 格式化输出"></a>1. 格式化输出</h3><table><thead><tr><th>格式符号</th><th>转换</th></tr></thead><tbody><tr><td>%s</td><td>字符串</td></tr><tr><td>%d</td><td>有符号的十进制整数</td></tr><tr><td>%f</td><td>浮点数</td></tr><tr><td>%c</td><td>字符</td></tr><tr><td>%u</td><td>无符号十进制整数</td></tr><tr><td>%o</td><td>八进制整数</td></tr><tr><td>%x</td><td>十六进制整数（小写ox）</td></tr><tr><td>%X</td><td>十六进制整数（大写OX）</td></tr><tr><td>%e</td><td>科学计数法（小写’e’）</td></tr><tr><td>%E</td><td>科学计数法（大写’E’）</td></tr><tr><td>%g</td><td>%f和%e的简写</td></tr><tr><td>%G</td><td>%f和%E的简写</td></tr></tbody></table><blockquote><ul><li>%06d，表示输出的整数显示位数，不足以0补全，超出当前位数则原样输出。</li><li>%.2f，表示小数点后显示的小数位数。</li></ul></blockquote><h3 id="2-内置函数format"><a href="#2-内置函数format" class="headerlink" title="2. 内置函数format"></a>2. 内置函数format</h3><p>format()用于字符串格式化，功能非常强大，格式是str.format()，format函数可以接受不限个参数，位置可以不按顺序。</p><h3 id="3-f-格式化字符串"><a href="#3-f-格式化字符串" class="headerlink" title="3. f-格式化字符串"></a>3. f-格式化字符串</h3><p>f-string是格式化字符串的一种很好的新方法。与其他格式化方式相比，它不仅更易读，更简洁，不易出错，而且速度更快！格式为：<code>f&#39;&#123;表达式&#125;&#39;</code>。</p><h3 id="4-体验格式化字符串"><a href="#4-体验格式化字符串" class="headerlink" title="4. 体验格式化字符串"></a>4. 体验格式化字符串</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;张三&quot;</span></span><br><span class="line">age = <span class="number">23</span></span><br><span class="line">weight = <span class="number">75.5</span></span><br><span class="line">student_id = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 我的名字是张三</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的名字是%s&#x27;</span> % name)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 我的学号是0001</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的学号是%04d&#x27;</span> % student_id)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 我的体重是75.50公斤</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的体重是%.2f公斤&#x27;</span> % weight)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 我的名字是张三，今年23岁了</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的名字是%s，今年%d岁了&#x27;</span> % (name, age))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 我的名字是张三，明年24岁了</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的名字是%s，明年%d岁了&#x27;</span> % (name, age + <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 我的名字是张三，明年24岁了</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的名字是&#123;0&#125;, 明年&#123;1&#125;岁了&#x27;</span>.<span class="built_in">format</span>(name, age+<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 我的名字是李思，今年18岁了</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的名字是&#123;0&#125;, 今年&#123;1&#125;岁了&#x27;</span>.<span class="built_in">format</span>(<span class="string">&quot;李思&quot;</span>, <span class="number">18</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 我的名字是张三，明年24岁了</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;我的名字是<span class="subst">&#123;name&#125;</span>, 明年<span class="subst">&#123;age + <span class="number">1</span>&#125;</span>岁了&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="5-补充知识"><a href="#5-补充知识" class="headerlink" title="5. 补充知识"></a>5. 补充知识</h3><p>字符串输出的本质其实就是拼接字符串，那么我们都用<code>%s</code>完全也是可以的。很多时候，我们不用区分整型、浮点型等，直接用<code>%s</code>输出就可以了。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的名字是%s，今年%s岁了，我的体重是%s公斤&#x27;</span> % (name, age ,weight))</span><br></pre></td></tr></table></figure><h3 id="6-转义字符"><a href="#6-转义字符" class="headerlink" title="6. 转义字符"></a>6. 转义字符</h3><ul><li><code>\n</code>：换行。</li><li><code>\t</code>：制表符，一个tab键（4个空格）的距离。</li></ul><h3 id="7-结束符"><a href="#7-结束符" class="headerlink" title="7. 结束符"></a>7. 结束符</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># print会默认换行输出</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;输出的内容&#x27;</span>, end=<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><blockquote><p>在Python中，print()， 默认自带<code>end=&quot;\n&quot;</code>这个换行结束符，所以导致每两个<code>print</code>直接会换行展示，用户可以按需求更改结束符。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 改变Python换行输出</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;内容&#x27;</span>, end=<span class="string">&quot; &quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;内容&#x27;</span>, end=<span class="string">&quot;···&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="八、输入"><a href="#八、输入" class="headerlink" title="八、输入"></a>八、输入</h2><p><strong>在Python中，程序接收用户输入的数据的功能即是输入。</strong></p><h3 id="1-输入的语法"><a href="#1-输入的语法" class="headerlink" title="1. 输入的语法"></a>1. 输入的语法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">input</span>(<span class="string">&quot;提示信息&quot;</span>)</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><h3 id="2-输入的特点"><a href="#2-输入的特点" class="headerlink" title="2. 输入的特点"></a>2. 输入的特点</h3><ul><li>当程序执行到<code>input</code>，等待用户输入，输入完成之后才继续向下执行。</li><li>在Python中，<code>input</code>接收用户输入后，一般存储到变量，方便使用。</li><li>在Python中，<code>input</code>会把接收到的任意用户输入的数据都当做字符串处理。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">password = <span class="built_in">input</span>(<span class="string">&#x27;请输入您的密码：&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;您输入的密码是<span class="subst">&#123;password&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="comment"># &lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(password))</span><br></pre></td></tr></table></figure><h2 id="九、转换数据类型"><a href="#九、转换数据类型" class="headerlink" title="九、转换数据类型"></a>九、转换数据类型</h2><h3 id="1-转换数据类型的作用"><a href="#1-转换数据类型的作用" class="headerlink" title="1. 转换数据类型的作用"></a>1. 转换数据类型的作用</h3><p>问：input()接收用户输入的数据都是字符串类型，如果用户输入1，想得到整型该如何操作？</p><p>答：转换数据类型即可，即将字符串类型转换成整型。</p><h3 id="2-转换数据类型的函数"><a href="#2-转换数据类型的函数" class="headerlink" title="2. 转换数据类型的函数"></a>2. 转换数据类型的函数</h3><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>int(x [,base ])</td><td>将x转换为一个整数</td></tr><tr><td>float(x )</td><td>将x转换为一个浮点数</td></tr><tr><td>complex(real [,imag ])</td><td>创建一个复数，real为实部，imag为虚部</td></tr><tr><td>str(x )</td><td>将对象 x 转换为字符串</td></tr><tr><td>repr(x )</td><td>将对象 x 转换为表达式字符串</td></tr><tr><td>eval(str )</td><td>用来计算在字符串中的有效Python表达式,并返回一个对象</td></tr><tr><td>tuple(s )</td><td>将序列 s 转换为一个元组</td></tr><tr><td>list(s )</td><td>将序列 s 转换为一个列表</td></tr><tr><td>chr(x )</td><td>将一个整数转换为一个Unicode字符</td></tr><tr><td>ord(x )</td><td>将一个字符转换为它的ASCII整数值</td></tr><tr><td>hex(x )</td><td>将一个整数转换为一个十六进制字符串</td></tr><tr><td>oct(x )</td><td>将一个整数转换为一个八进制字符串</td></tr><tr><td>bin(x )</td><td>将一个整数转换为一个二进制字符串</td></tr></tbody></table><h3 id="3-体验转换数据类型"><a href="#3-体验转换数据类型" class="headerlink" title="3. 体验转换数据类型"></a>3. 体验转换数据类型</h3><p>需求：input接收用户输入，用户输入“1”，将这个数据1转换成整型。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 接收用户输入</span></span><br><span class="line">num = <span class="built_in">input</span>(<span class="string">&#x27;请输入您的幸运数字：&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 打印结果</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;您的幸运数字是<span class="subst">&#123;num&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 检测接收到的用户输入的数据类型 -- str类型</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(num))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 转换数据类型为整型 -- int类型</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">int</span>(num)))</span><br><span class="line"><span class="number">123456789101112</span></span><br><span class="line"><span class="comment"># 1. float() -- 转换成浮点型</span></span><br><span class="line">num1 = <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(num1))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">float</span>(num1)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. str() -- 转换成字符串类型</span></span><br><span class="line">num2 = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">str</span>(num2)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. tuple() -- 将一个序列转换成元组</span></span><br><span class="line">list1 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">tuple</span>(list1))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">tuple</span>(list1)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. list() -- 将一个序列转换成列表</span></span><br><span class="line">t1 = (<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(t1))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">list</span>(t1)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. eval() -- 将字符串中的数据转换成Python表达式原本类型</span></span><br><span class="line">str1 = <span class="string">&#x27;10&#x27;</span></span><br><span class="line">str2 = <span class="string">&#x27;[1, 2, 3]&#x27;</span></span><br><span class="line">str3 = <span class="string">&#x27;(1000, 2000, 3000)&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">eval</span>(str1)))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">eval</span>(str2)))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">eval</span>(str3)))</span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627</span></span><br></pre></td></tr></table></figure><h2 id="十、运算符"><a href="#十、运算符" class="headerlink" title="十、运算符"></a>十、运算符</h2><h3 id="1-运算符的分类"><a href="#1-运算符的分类" class="headerlink" title="1. 运算符的分类"></a>1. 运算符的分类</h3><ul><li>算数运算符</li><li>赋值运算符</li><li>复合赋值运算符</li><li>比较运算符</li><li>逻辑运算符</li></ul><h3 id="2-算数运算符"><a href="#2-算数运算符" class="headerlink" title="2. 算数运算符"></a>2. 算数运算符</h3><table><thead><tr><th>运算符</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>+</td><td>加</td><td>1 + 1 输出结果为 2</td></tr><tr><td>-</td><td>减</td><td>1-1 输出结果为 0</td></tr><tr><td>*</td><td>乘</td><td>2 * 2 输出结果为 4</td></tr><tr><td>/</td><td>除</td><td>10 / 2 输出结果为 5</td></tr><tr><td>//</td><td>整除</td><td>9 // 4 输出结果为2</td></tr><tr><td>%</td><td>取余</td><td>9 % 4 输出结果为 1</td></tr><tr><td>**</td><td>指数</td><td>2 ** 4 输出结果为 16，即 2 * 2 * 2 * 2</td></tr><tr><td>()</td><td>小括号</td><td>小括号用来提高运算优先级，即 (1 + 2) * 3 输出结果为 9</td></tr></tbody></table><blockquote><p>混合运算优先级顺序：<code>()</code>高于 <code>**</code> 高于 <code>*</code> <code>/</code> <code>//</code> <code>%</code> 高于 <code>+</code> <code>-</code></p></blockquote><h3 id="3-赋值运算符"><a href="#3-赋值运算符" class="headerlink" title="3. 赋值运算符"></a>3. 赋值运算符</h3><table><thead><tr><th>运算符</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>=</td><td>赋值</td><td>将<code>=</code>右侧的结果赋值给等号左侧的变量</td></tr></tbody></table><ol><li>单个变量赋值</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">num = 1<span class="built_in">print</span>(num)<span class="number">12</span></span><br></pre></td></tr></table></figure><ol><li>多个变量赋值</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">num1, float1, str1 = <span class="number">10</span>, <span class="number">0.5</span>, <span class="string">&#x27;hello world&#x27;</span><span class="built_in">print</span>(num1)<span class="built_in">print</span>(float1)<span class="built_in">print</span>(str1)<span class="number">1234</span></span><br></pre></td></tr></table></figure><ol><li>多变量赋相同值</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = b = 10<span class="built_in">print</span>(a)<span class="built_in">print</span>(b)<span class="number">123</span></span><br></pre></td></tr></table></figure><h3 id="4-复合赋值运算符"><a href="#4-复合赋值运算符" class="headerlink" title="4. 复合赋值运算符"></a>4. 复合赋值运算符</h3><table><thead><tr><th>运算符</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>+=</td><td>加法赋值运算符</td><td>c += a 等价于 c = c + a</td></tr><tr><td>-=</td><td>减法赋值运算符</td><td>c -= a 等价于 c = c- a</td></tr><tr><td>*=</td><td>乘法赋值运算符</td><td>c *= a 等价于 c = c * a</td></tr><tr><td>/=</td><td>除法赋值运算符</td><td>c /= a 等价于 c = c / a</td></tr><tr><td>//=</td><td>整除赋值运算符</td><td>c //= a 等价于 c = c // a</td></tr><tr><td>%=</td><td>取余赋值运算符</td><td>c %= a 等价于 c = c % a</td></tr><tr><td>**=</td><td>幂赋值运算符</td><td>c ** = a 等价于 c = c ** a</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = 100a += <span class="number">1</span><span class="comment"># 输出101  a = a + 1,最终a = 100 + 1print(a)b = 2b *= 3# 输出6  b = b * 3,最终b = 2 * 3print(b)c = 10c += 1 + 2# 输出13, 先算运算符右侧1 + 2 = 3， c += 3 , 推导出c = 10 + 3print(c)1234567891011121314</span></span><br></pre></td></tr></table></figure><h3 id="5-比较运算符"><a href="#5-比较运算符" class="headerlink" title="5. 比较运算符"></a>5. 比较运算符</h3><p><strong>比较运算符也叫关系运算符， 通常用来判断。</strong></p><table><thead><tr><th>运算符</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>==</td><td>判断相等。如果两个操作数的结果相等，则条件结果为真(True)，否则条件结果为假(False)</td><td>如a=3,b=3，则（a == b) 为 True</td></tr><tr><td>!=</td><td>不等于 。如果两个操作数的结果不相等，则条件为真(True)，否则条件结果为假(False)</td><td>如a=3,b=3，则（a == b) 为 True如a=1,b=3，则(a != b) 为 True</td></tr><tr><td>&gt;</td><td>运算符左侧操作数结果是否大于右侧操作数结果，如果大于，则条件为真，否则为假</td><td>如a=7,b=3，则(a &gt; b) 为 True</td></tr><tr><td>&lt;</td><td>运算符左侧操作数结果是否小于右侧操作数结果，如果小于，则条件为真，否则为假</td><td>如a=7,b=3，则(a &lt; b) 为 False</td></tr><tr><td>&gt;=</td><td>运算符左侧操作数结果是否大于等于右侧操作数结果，如果大于，则条件为真，否则为假</td><td>如a=7,b=3，则(a &lt; b) 为 False如a=3,b=3，则(a &gt;= b) 为 True</td></tr><tr><td>&lt;=</td><td>运算符左侧操作数结果是否小于等于右侧操作数结果，如果小于，则条件为真，否则为假</td><td>如a=3,b=3，则(a &lt;= b) 为 True</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = 7b = 5<span class="built_in">print</span>(a == b)  <span class="comment"># Falseprint(a != b)  # Trueprint(a &lt; b)   # Falseprint(a &gt; b)   # Trueprint(a &lt;= b)  # Falseprint(a &gt;= b)  # True12345678</span></span><br></pre></td></tr></table></figure><h3 id="6-逻辑运算符"><a href="#6-逻辑运算符" class="headerlink" title="6. 逻辑运算符"></a>6. 逻辑运算符</h3><table><thead><tr><th>运算符</th><th>逻辑表达式</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>and</td><td>x and y</td><td>布尔”与”：如果 x 为 False，x and y 返回 False，否则它返回 y 的值。</td><td>True and False， 返回 False。</td></tr><tr><td>or</td><td>x or y</td><td>布尔”或”：如果 x 是 True，它返回 True，否则它返回 y 的值。</td><td>False or True， 返回 True。</td></tr><tr><td>not</td><td>not x</td><td>布尔”非”：如果 x 为 True，返回 False 。如果 x 为 False，它返回 True。</td><td>not True 返回 False, not False 返回 True</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = 1b = 2c = 3<span class="built_in">print</span>((a &lt; b) <span class="keyword">and</span> (b &lt; c))  <span class="comment"># Trueprint((a &gt; b) and (b &lt; c))  # Falseprint((a &gt; b) or (b &lt; c))   # Trueprint(not (a &gt; b))          # True1234567</span></span><br></pre></td></tr></table></figure><h3 id="7-补充知识"><a href="#7-补充知识" class="headerlink" title="7. 补充知识"></a>7. 补充知识</h3><p>数字之间的逻辑运算</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">0</span></span><br><span class="line">b = <span class="number">1</span></span><br><span class="line">c = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># and运算符，只要有一个值为0，则结果为0，否则结果为最后一个非0数字</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">and</span> b)  <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(b <span class="keyword">and</span> a)  <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">and</span> c)  <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(c <span class="keyword">and</span> a)  <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(b <span class="keyword">and</span> c)  <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(c <span class="keyword">and</span> b)  <span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># or运算符，只有所有值为0结果才为0，否则结果为第一个非0数字</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">or</span> b)  <span class="comment"># 1</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">or</span> c)  <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(b <span class="keyword">or</span> c)  <span class="comment"># 1</span></span><br><span class="line"><span class="number">12345678910111213141516</span></span><br></pre></td></tr></table></figure><h2 id="十一、条件语句"><a href="#十一、条件语句" class="headerlink" title="十一、条件语句"></a>十一、条件语句</h2><h3 id="1-了解条件语句"><a href="#1-了解条件语句" class="headerlink" title="1. 了解条件语句"></a>1. 了解条件语句</h3><p>Python条件语句是通过一条或多条语句的执行结果（True或者False）来决定执行的代码块。</p><h3 id="2-if语法"><a href="#2-if语法" class="headerlink" title="2. if语法"></a>2. if语法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件:</span><br><span class="line">    条件成立执行的代码<span class="number">1</span></span><br><span class="line">    条件成立执行的代码<span class="number">2</span></span><br><span class="line">    ......</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure><h4 id="2-1-体验if语句"><a href="#2-1-体验if语句" class="headerlink" title="2.1 体验if语句"></a>2.1 体验if语句</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;条件成立执行的代码1&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;条件成立执行的代码2&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 下方的代码没有缩进到if语句块，所以和if条件无关</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我是无论条件是否成立都要执行的代码&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="2-2-简单版：网吧上网"><a href="#2-2-简单版：网吧上网" class="headerlink" title="2.2 简单版：网吧上网"></a>2.2 简单版：网吧上网</h4><p>需求分析：如果用户年龄大于等于18岁，即成年，输出”已经成年，可以上网”。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">20</span></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;已经成年，可以上网&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;系统关闭&#x27;</span>)</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><h4 id="2-3-进阶版：网吧上网"><a href="#2-3-进阶版：网吧上网" class="headerlink" title="2.3 进阶版：网吧上网"></a>2.3 进阶版：网吧上网</h4><p>新增需求：用户可以输出自己的年龄，然后系统进行判断是否成年，成年则输出”您的年龄是’用户输入的年龄’，已经成年，可以上网”。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># input接受用户输入的数据是字符串类型，条件是age和整型18做判断，所以这里要int转换数据类型</span></span><br><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入您的年龄：&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;您的年龄是<span class="subst">&#123;age&#125;</span>,已经成年，可以上网&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;系统关闭&#x27;</span>)</span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure><h3 id="3-if…else…"><a href="#3-if…else…" class="headerlink" title="3. if…else…"></a>3. if…else…</h3><p>作用：条件成立执行if下方的代码; 条件不成立执行else下方的代码。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件:</span><br><span class="line">    条件成立执行的代码<span class="number">1</span></span><br><span class="line">    条件成立执行的代码<span class="number">2</span></span><br><span class="line">    ......</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    条件不成立执行的代码<span class="number">1</span></span><br><span class="line">    条件不成立执行的代码<span class="number">2</span></span><br><span class="line">    ......</span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure><blockquote><p>思考：网吧上网的实例，如果成年，允许上网，如果不成年呢？是不是应该回复用户不能上网？</p></blockquote><h4 id="3-1-实用版：网吧上网"><a href="#3-1-实用版：网吧上网" class="headerlink" title="3.1 实用版：网吧上网"></a>3.1 实用版：网吧上网</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入您的年龄：&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;您的年龄是<span class="subst">&#123;age&#125;</span>,已经成年，可以上网&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;您的年龄是<span class="subst">&#123;age&#125;</span>,未成年，请自行回家写作业&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;系统关闭&#x27;</span>)</span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：如果条件成立执行了某些代码，那么其他的情况的代码将不会执行。</p></blockquote><h3 id="4-多重判断"><a href="#4-多重判断" class="headerlink" title="4. 多重判断"></a>4. 多重判断</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件<span class="number">1</span>:    条件<span class="number">1</span>成立执行的代码<span class="number">1</span>    条件<span class="number">1</span>成立执行的代码<span class="number">2</span>    ......<span class="keyword">elif</span> 条件<span class="number">2</span>：条件<span class="number">2</span>成立执行的代码<span class="number">1</span>    条件<span class="number">2</span>成立执行的代码<span class="number">2</span>    ............<span class="keyword">else</span>:    以上条件都不成立执行执行的代码<span class="number">1234567891011</span></span><br></pre></td></tr></table></figure><p>多重判断也可以和else配合使用。一般else放在整个if语句的最后，表示以上条件都不成立的时候执行的代码。</p><blockquote><p>思考：中国合法工作年龄为18-60岁，即如果年龄小于18的情况为童工，不合法；如果年龄在18-60岁之间为合法工龄；大于60岁为法定退休年龄。</p></blockquote><h4 id="4-1-实例：工龄判断"><a href="#4-1-实例：工龄判断" class="headerlink" title="4.1 实例：工龄判断"></a>4.1 实例：工龄判断</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入您的年龄：&#x27;</span>))<span class="keyword">if</span> age &lt; <span class="number">18</span>:    <span class="built_in">print</span>(<span class="string">f&#x27;您的年龄是<span class="subst">&#123;age&#125;</span>,童工一枚&#x27;</span>)<span class="keyword">elif</span> (age &gt;= <span class="number">18</span>) <span class="keyword">and</span> (age &lt;= <span class="number">60</span>):    <span class="built_in">print</span>(<span class="string">f&#x27;您的年龄是<span class="subst">&#123;age&#125;</span>,合法工龄&#x27;</span>)<span class="keyword">elif</span> age &gt; <span class="number">60</span>:    <span class="built_in">print</span>(<span class="string">f&#x27;您的年龄是<span class="subst">&#123;age&#125;</span>,可以退休&#x27;</span>)<span class="number">1234567</span></span><br></pre></td></tr></table></figure><blockquote><p>拓展：<code>age &gt;= 18 and age &lt;= 60</code>可以化简为<code>18 &lt;= age &lt;= 60</code>。</p></blockquote><h3 id="5-if嵌套"><a href="#5-if嵌套" class="headerlink" title="5. if嵌套"></a>5. if嵌套</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件<span class="number">1</span>：</span><br><span class="line">条件<span class="number">1</span>成立执行的代码</span><br><span class="line">    条件<span class="number">1</span>成立执行的代码</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> 条件<span class="number">2</span>：</span><br><span class="line">    条件<span class="number">2</span>成立执行的代码</span><br><span class="line">        条件<span class="number">2</span>成立执行的代码</span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure><p>注意：条件2的if也是出于条件1的缩进关系内部。</p><blockquote><p>思考：坐公交：如果有钱可以上车，没钱不能上车；上车后如果有空座，则可以坐下；如果没空座，就要站着。怎么书写程序？</p></blockquote><h4 id="5-1-实例：坐公交"><a href="#5-1-实例：坐公交" class="headerlink" title="5.1 实例：坐公交"></a>5.1 实例：坐公交</h4><ol><li>判断是否能上车</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">1. 如果有钱，则可以上车</span></span><br><span class="line"><span class="string">    2. 上车后，如果有空座，可以坐下</span></span><br><span class="line"><span class="string">    上车后，如果没有空座，则站着等空座位</span></span><br><span class="line"><span class="string">如果没钱，不能上车</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># 假设用 money = 1 表示有钱, money = 0表示没有钱</span></span><br><span class="line">money = <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> money == <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;土豪，不差钱，顺利上车&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;没钱，不能上车，追着公交车跑&#x27;</span>)</span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure><ol><li>判断是否能坐下</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">1. 如果有钱，则可以上车</span></span><br><span class="line"><span class="string">    2. 上车后，如果有空座，可以坐下</span></span><br><span class="line"><span class="string">    上车后，如果没有空座，则站着等空座位</span></span><br><span class="line"><span class="string">如果没钱，不能上车</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># 假设用 money = 1 表示有钱, money = 0表示没有钱; seat = 1 表示有空座，seat = 0 表示没有空座</span></span><br><span class="line">money = <span class="number">1</span></span><br><span class="line">seat = <span class="number">0</span></span><br><span class="line"><span class="keyword">if</span> money == <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;土豪，不差钱，顺利上车&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> seat == <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;有空座，可以坐下&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;没有空座，站等&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;没钱，不能上车，追着公交车跑&#x27;</span>)</span><br><span class="line"><span class="number">1234567891011121314151617</span></span><br></pre></td></tr></table></figure><h4 id="5-2-if嵌套执行流程"><a href="#5-2-if嵌套执行流程" class="headerlink" title="5.2 if嵌套执行流程"></a>5.2 if嵌套执行流程</h4><p>![image-20210725091850030](C:\Users\Jerome Silvia\AppData\Roaming\Typora\typora-user-images\image-20210725091850030.png)</p><h3 id="6-应用：猜拳游戏"><a href="#6-应用：猜拳游戏" class="headerlink" title="6. 应用：猜拳游戏"></a>6. 应用：猜拳游戏</h3><p>需求分析：</p><ul><li><p>参与游戏的角色</p><ul><li>玩家<ul><li>手动出拳</li></ul></li><li>电脑<ul><li>随机出拳</li></ul></li></ul></li><li><p>判断输赢</p><ul><li>玩家获胜</li></ul><table><thead><tr><th>玩家</th><th>电脑</th></tr></thead><tbody><tr><td>石头</td><td>剪刀</td></tr><tr><td>剪刀</td><td>布</td></tr><tr><td>布</td><td>石头</td></tr></tbody></table><ul><li>平局<ul><li>玩家出拳 和 电脑出拳相同</li></ul></li><li>电脑获胜</li></ul></li></ul><p>随机做法：</p><ol><li>导出random模块</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> 模块名</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><ol><li>使用random模块中的随机整数功能</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">random.randint(开始,结束)</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><h4 id="6-1-初始版：猜拳游戏"><a href="#6-1-初始版：猜拳游戏" class="headerlink" title="6.1 初始版：猜拳游戏"></a>6.1 初始版：猜拳游戏</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">提示：0-石头，1-剪刀，2-布</span></span><br><span class="line"><span class="string">3. 出拳</span></span><br><span class="line"><span class="string">玩家输入出拳</span></span><br><span class="line"><span class="string">电脑随机出拳</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">4. 判断输赢</span></span><br><span class="line"><span class="string">玩家获胜</span></span><br><span class="line"><span class="string">平局</span></span><br><span class="line"><span class="string">电脑获胜</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入random模块</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算电脑出拳的随机数字</span></span><br><span class="line">computer = random.randint(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(computer)</span><br><span class="line"></span><br><span class="line">player = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请出拳：0-石头，1-剪刀，2-布：&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 玩家胜利 p0:c1 或 p1:c2 或 p2:c0</span></span><br><span class="line"><span class="keyword">if</span> (player == <span class="number">0</span> <span class="keyword">and</span> computer == <span class="number">1</span>) <span class="keyword">or</span> (player == <span class="number">1</span> <span class="keyword">and</span> computer == <span class="number">2</span>) <span class="keyword">or</span> (player == <span class="number">2</span> <span class="keyword">and</span> computer == <span class="number">0</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;玩家获胜&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 平局：玩家 == 电脑</span></span><br><span class="line"><span class="keyword">elif</span> player == computer:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;平局&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;电脑获胜&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="6-2-进阶版：猜拳游戏"><a href="#6-2-进阶版：猜拳游戏" class="headerlink" title="6.2 进阶版：猜拳游戏"></a>6.2 进阶版：猜拳游戏</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">石头剪刀布游戏</span></span><br><span class="line"><span class="string">玩家VS电脑</span></span><br><span class="line"><span class="string">站在玩家的角度，分析胜利、失败、平局</span></span><br><span class="line"><span class="string">0-石头，1-剪刀，2-布</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># 导入随机数模块</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-----欢迎来到人机对战小游戏-----&quot;</span>)</span><br><span class="line">name = <span class="built_in">input</span>(<span class="string">&quot;请输入您的游戏名：&quot;</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    stats = <span class="built_in">input</span>(<span class="string">&quot;欢迎“%s”来到本游戏，开始游戏输入Y，退出游戏输入N，请您输入：&quot;</span> % name)</span><br><span class="line">    <span class="keyword">if</span> stats == <span class="string">&quot;Y&quot;</span> <span class="keyword">or</span> stats == <span class="string">&quot;y&quot;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;游戏开始……&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;石头输入0、剪刀输入1、布输入2&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">elif</span> stats == <span class="string">&quot;N&quot;</span> <span class="keyword">or</span> stats == <span class="string">&quot;n&quot;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;游戏结束……&quot;</span>)</span><br><span class="line">        sys.exit(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;请按照要求重新输入！&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-------------加载中-------------&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Game</span>(<span class="params">user, comp</span>):</span></span><br><span class="line">    <span class="keyword">if</span> (user== <span class="number">0</span> <span class="keyword">and</span> comp== <span class="number">1</span>) <span class="keyword">or</span> (user== <span class="number">1</span> <span class="keyword">and</span> comp== <span class="number">2</span>) <span class="keyword">or</span> (user== <span class="number">2</span> <span class="keyword">and</span> comp== <span class="number">0</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;机器输入%d，您赢了！&quot;</span> % comp)</span><br><span class="line">    <span class="keyword">elif</span> user == comp:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;机器输入%d，平局了！&quot;</span> % comp)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;机器输入%d，您输了！&quot;</span> % comp)</span><br><span class="line">    res = <span class="built_in">input</span>(<span class="string">&quot;重新游戏请输入X，退出游戏按任意键&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> res == <span class="string">&quot;X&quot;</span> <span class="keyword">or</span> res == <span class="string">&quot;x&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        sys.exit(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    user = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请您出拳，输入相应数字！&quot;</span>))</span><br><span class="line">    <span class="keyword">if</span> user == <span class="number">0</span> <span class="keyword">or</span> user == <span class="number">1</span> <span class="keyword">or</span> user == <span class="number">2</span>:</span><br><span class="line">        comp = random.randint(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">        Game(user, comp)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;输入数字有误，请确认后，重新输入！&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="7-三目运算符"><a href="#7-三目运算符" class="headerlink" title="7. 三目运算符"></a>7. 三目运算符</h3><p><strong>三目运算符也叫三元运算符。</strong></p><p>语法如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">值<span class="number">1</span> <span class="keyword">if</span> 条件 <span class="keyword">else</span> 值<span class="number">2</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><p>快速体验：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">c = a <span class="keyword">if</span> a &gt; b <span class="keyword">else</span> b</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><h2 id="十二、循环简介"><a href="#十二、循环简介" class="headerlink" title="十二、循环简介"></a>十二、循环简介</h2><h3 id="1-循环的作用"><a href="#1-循环的作用" class="headerlink" title="1. 循环的作用"></a>1. 循环的作用</h3><p><strong>让代码更高效的重复执行。</strong></p><h3 id="2-循环的分类"><a href="#2-循环的分类" class="headerlink" title="2. 循环的分类"></a>2. 循环的分类</h3><p>在Python中，循环分为<code>while</code>和<code>for</code>两种，最终实现效果相同。</p><h3 id="3-while的语法"><a href="#3-while的语法" class="headerlink" title="3. while的语法"></a>3. while的语法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 条件:    条件成立重复执行的代码<span class="number">1</span>    条件成立重复执行的代码<span class="number">2</span>    .....<span class="number">.1234</span></span><br></pre></td></tr></table></figure><h3 id="4-while循环快速体验"><a href="#4-while循环快速体验" class="headerlink" title="4. while循环快速体验"></a>4. while循环快速体验</h3><p>需求：复现重复执行10次<code>print(&#39;Hello World&#39;)</code>。</p><p>分析：初始值是0次，终点是10次，重复做的事情输出“Hello World”。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 循环的计数器</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="number">10</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Hello World&#x27;</span>)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;任务结束&#x27;</span>)</span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure><h3 id="5-while的应用"><a href="#5-while的应用" class="headerlink" title="5. while的应用"></a>5. while的应用</h3><h4 id="5-1-应用一：计算1-100累加和"><a href="#5-1-应用一：计算1-100累加和" class="headerlink" title="5.1 应用一：计算1-100累加和"></a>5.1 应用一：计算1-100累加和</h4><p>分析：1-100的累加和，即1 + 2 + 3 + 4 +….，即前两个数字的相加结果 + 下一个数字( 前一个数字 + 1)。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line">result = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">100</span>:</span><br><span class="line">    result += i</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出5050</span></span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：为了验证程序的准确性，可以先改小数值，验证结果正确后，再改成1-100做累加。</p></blockquote><h4 id="5-2-应用二：计算1-100偶数累加和"><a href="#5-2-应用二：计算1-100偶数累加和" class="headerlink" title="5.2 应用二：计算1-100偶数累加和"></a>5.2 应用二：计算1-100偶数累加和</h4><p>分析：1-100的偶数和，即 2 + 4 + 6 + 8…，得到偶数的方法如下：</p><ul><li>偶数即是和2取余结果为0的数字，可以加入条件语句判断是否为偶数，为偶数则累加</li><li>初始值为0 / 2 , 计数器每次累加2</li></ul><p><strong>方法一：条件判断和2取余数则累加</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法一：条件判断和2取余数为0则累加计算</span></span><br><span class="line">i = <span class="number">1</span></span><br><span class="line">result = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">100</span>:</span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        result += i</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出2550</span></span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure><p><strong>方法二：计数器控制</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法二：计数器控制增量为2</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line">result = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">100</span>:</span><br><span class="line">    result += i</span><br><span class="line">    i += <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出2550</span></span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure><h3 id="6-break和continue"><a href="#6-break和continue" class="headerlink" title="6. break和continue"></a>6. break和continue</h3><p><strong>break和continue是循环中满足一定条件退出循环的两种不同方式。</strong></p><h4 id="6-1-理解"><a href="#6-1-理解" class="headerlink" title="6.1 理解"></a>6.1 理解</h4><p>举例：一共吃5个苹果，吃完第一个，吃第二个…，这里”吃苹果”的动作是不是重复执行？</p><p>情况一：如果吃的过程中，吃完第三个吃饱了，则不需要再吃第4个和第五个苹果，即是吃苹果的动作停止，这里就是break控制循环流程，即终止此循环。</p><p>情况二：如果吃的过程中，吃到第三个吃出一个大虫子…,是不是这个苹果就不吃了，开始吃第四个苹果，这里就是continue控制循环流程，即退出当前一次循环继而执行下一次循环代码。</p><h4 id="6-2-break实例"><a href="#6-2-break实例" class="headerlink" title="6.2 break实例"></a>6.2 break实例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">5</span>:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">4</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;吃饱了不吃了&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;吃了第<span class="subst">&#123;i&#125;</span>个苹果&#x27;</span>)</span><br><span class="line">    i += <span class="number">1</span></span><br></pre></td></tr></table></figure><h4 id="6-3-continue实例"><a href="#6-3-continue实例" class="headerlink" title="6.3 continue实例"></a>6.3 continue实例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">5</span>:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;大虫子，第<span class="subst">&#123;i&#125;</span>个不吃了&#x27;</span>)</span><br><span class="line">        <span class="comment"># 在continue之前一定要修改计数器，否则会陷入死循环</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;吃了第<span class="subst">&#123;i&#125;</span>个苹果&#x27;</span>)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure><h3 id="7-while循环嵌套"><a href="#7-while循环嵌套" class="headerlink" title="7. while循环嵌套"></a>7. while循环嵌套</h3><h4 id="7-1-语法"><a href="#7-1-语法" class="headerlink" title="7.1 语法"></a>7.1 语法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 条件<span class="number">1</span>:</span><br><span class="line">    条件<span class="number">1</span>成立执行的代码</span><br><span class="line">    ......</span><br><span class="line">    <span class="keyword">while</span> 条件<span class="number">2</span>:</span><br><span class="line">        条件<span class="number">2</span>成立执行的代码</span><br><span class="line">        ......</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure><blockquote><p>总结：所谓while循环嵌套，就是一个while里面嵌套一个while的写法，每个while和之前的基础语法是相同的。</p></blockquote><h4 id="7-2-执行过程"><a href="#7-2-执行过程" class="headerlink" title="7.2 执行过程"></a>7.2 执行过程</h4><p>当内部循环执行完成之后，再执行下一次外部循环的条件判断。</p><p>![image-20210725092001911](C:\Users\Jerome Silvia\AppData\Roaming\Typora\typora-user-images\image-20210725092001911.png)</p><h4 id="7-3-while循环嵌套应用"><a href="#7-3-while循环嵌套应用" class="headerlink" title="7.3 while循环嵌套应用"></a>7.3 while循环嵌套应用</h4><p><strong>应用一：打印星号（正方形）</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 重复打印5行星星</span></span><br><span class="line">j = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> j &lt;= <span class="number">4</span>:</span><br><span class="line">    <span class="comment"># 一行星星的打印</span></span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= <span class="number">4</span>:</span><br><span class="line">        <span class="comment"># 一行内的星星不能换行，取消print默认结束符\n</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;*&#x27;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="comment"># 每行结束要换行，这里借助一个空的print，利用print默认结束符换行</span></span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line">    j += <span class="number">1</span></span><br></pre></td></tr></table></figure><p><strong>应用二：打印星号（三角形）</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 重复打印5行星星</span></span><br><span class="line"><span class="comment"># j表示行号</span></span><br><span class="line">j = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> j &lt;= <span class="number">4</span>:</span><br><span class="line">    <span class="comment"># 一行星星的打印</span></span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="comment"># i表示每行里面星星的个数，这个数字要和行号相等所以i要和j联动</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= j:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;*&#x27;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line">    j += <span class="number">1</span></span><br></pre></td></tr></table></figure><p><strong>应用二：九九乘法表</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 重复打印9行表达式</span></span><br><span class="line">j = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> j &lt;= <span class="number">9</span>:</span><br><span class="line">    <span class="comment"># 打印一行里面的表达式 a * b = a*b</span></span><br><span class="line">    i = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= j:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;i&#125;</span>*<span class="subst">&#123;j&#125;</span>=<span class="subst">&#123;j*i&#125;</span>&#x27;</span>, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line">    j += <span class="number">1</span></span><br></pre></td></tr></table></figure><h3 id="8-for循环"><a href="#8-for循环" class="headerlink" title="8. for循环"></a>8. for循环</h3><h4 id="8-1-语法"><a href="#8-1-语法" class="headerlink" title="8.1 语法"></a>8.1 语法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 临时变量 <span class="keyword">in</span> 序列:</span><br><span class="line">    重复执行的代码<span class="number">1</span></span><br><span class="line">    重复执行的代码<span class="number">2</span></span><br><span class="line">    ......</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure><h4 id="8-2-快速体验"><a href="#8-2-快速体验" class="headerlink" title="8.2 快速体验"></a>8.2 快速体验</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> str1:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure><h4 id="8-3-break"><a href="#8-3-break" class="headerlink" title="8.3 break"></a>8.3 break</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> str1:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="string">&#x27;e&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;遇到e不打印&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure><h4 id="8-4-continue"><a href="#8-4-continue" class="headerlink" title="8.4 continue"></a>8.4 continue</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> str1:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="string">&#x27;e&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;遇到e不打印&#x27;</span>)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure><h2 id="十三、else"><a href="#十三、else" class="headerlink" title="十三、else"></a>十三、else</h2><p>循环可以和else配合使用，else下方缩进的代码指的是当循环正常结束之后要执行的代码。</p><h3 id="1-while…else"><a href="#1-while…else" class="headerlink" title="1. while…else"></a>1. while…else</h3><h4 id="1-1-语法"><a href="#1-1-语法" class="headerlink" title="1.1 语法"></a>1.1 语法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 条件:</span><br><span class="line">    条件成立重复执行的代码</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    循环正常结束之后要执行的代码</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure><h4 id="1-2-示例"><a href="#1-2-示例" class="headerlink" title="1.2 示例"></a>1.2 示例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">5</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Hello World&#x27;</span>)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;执行完毕&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="1-3-退出循环的方式"><a href="#1-3-退出循环的方式" class="headerlink" title="1.3 退出循环的方式"></a>1.3 退出循环的方式</h4><ol><li>break终止循环</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">5</span>:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;提前结束&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Hello World&#x27;</span>)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;执行完毕&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>所谓else指的是循环正常结束之后要执行的代码，即如果是break终止循环的情况，else下方缩进的代码将不执行。</p></blockquote><ol><li>continue控制循环</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">5</span>:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;打断一下&quot;</span>)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Hello World&#x27;</span>)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;执行完毕&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>因为continue是退出当前一次循环，继续下一次循环，所以该循环在continue控制下是可以正常结束的，当循环结束后，则执行了else缩进的代码。</p></blockquote><h3 id="2-for…else"><a href="#2-for…else" class="headerlink" title="2. for…else"></a>2. for…else</h3><h4 id="2-1-语法"><a href="#2-1-语法" class="headerlink" title="2.1 语法"></a>2.1 语法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 临时变量 <span class="keyword">in</span> 序列:</span><br><span class="line">    重复执行的代码</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    循环正常结束之后要执行的代码</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><blockquote><p>所谓else指的是循环正常结束之后要执行的代码，即如果是break终止循环的情况，else下方缩进的代码将不执行。</p></blockquote><h4 id="2-2-示例"><a href="#2-2-示例" class="headerlink" title="2.2 示例"></a>2.2 示例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> str1:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;循环正常结束之后执行的代码&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="2-3-退出循环的方式"><a href="#2-3-退出循环的方式" class="headerlink" title="2.3 退出循环的方式"></a>2.3 退出循环的方式</h4><ol><li>break终止循环</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> str1:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="string">&#x27;e&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;遇到e不打印&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;循环正常结束之后执行的代码&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>没有执行else缩进的代码。</p></blockquote><p>​    2 .continue控制循环</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> str1:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="string">&#x27;e&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;遇到e不打印&#x27;</span>)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;循环正常结束之后执行的代码&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>因为continue是退出当前一次循环，继续下一次循环，所以该循环在continue控制下是可以正常结束的，当循环结束后，则执行了else缩进的代码。</p></blockquote><h2 id="十四、字符串"><a href="#十四、字符串" class="headerlink" title="十四、字符串"></a>十四、字符串</h2><h3 id="1-认识字符串"><a href="#1-认识字符串" class="headerlink" title="1. 认识字符串"></a>1. 认识字符串</h3><p>字符串是 Python 中最常用的数据类型。我们一般使用引号来创建字符串。创建字符串很简单，只要为变量分配一个值即可。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line">b = <span class="string">&quot;abcdefg&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(b))</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：控制台显示结果为<code>&lt;class &#39;str&#39;&gt;</code>， 即数据类型为str(字符串)。</p></blockquote><h3 id="2-字符串特征"><a href="#2-字符串特征" class="headerlink" title="2. 字符串特征"></a>2. 字符串特征</h3><ul><li>一对引号字符串</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name1 = <span class="string">&#x27;Tom&#x27;</span></span><br><span class="line">name2 = <span class="string">&quot;Rose&quot;</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><ul><li>三引号字符串</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">name3 = <span class="string">&#x27;&#x27;&#x27; Tom &#x27;&#x27;&#x27;</span></span><br><span class="line">name4 = <span class="string">&quot;&quot;&quot; Rose &quot;&quot;&quot;</span></span><br><span class="line">a = <span class="string">&#x27;&#x27;&#x27; i am Tom, </span></span><br><span class="line"><span class="string">        nice to meet you! &#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">b = <span class="string">&quot;&quot;&quot; i am Rose, </span></span><br><span class="line"><span class="string">        nice to meet you! &quot;&quot;&quot;</span></span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure><p><strong>注意：三引号形式的字符串支持换行。</strong></p><blockquote><p>思考：如果创建一个字符串<code>I&#39;m Tom</code>?</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c = <span class="string">&quot;I&#x27;m Tom&quot;</span></span><br><span class="line">d = <span class="string">&#x27;I\&#x27;m Tom&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="3-字符串输出"><a href="#3-字符串输出" class="headerlink" title="3. 字符串输出"></a>3. 字符串输出</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello world&#x27;</span>)</span><br><span class="line"></span><br><span class="line">name = <span class="string">&#x27;Tom&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的名字是%s&#x27;</span> % name)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;我的名字是<span class="subst">&#123;name&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><h3 id="4-字符串输入"><a href="#4-字符串输入" class="headerlink" title="4. 字符串输入"></a>4. 字符串输入</h3><p>在Python中，使用<code>input()</code>接收用户输入。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="built_in">input</span>(<span class="string">&#x27;请输入您的名字：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;您输入的名字是<span class="subst">&#123;name&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(name))</span><br><span class="line"></span><br><span class="line">password = <span class="built_in">input</span>(<span class="string">&#x27;请输入您的密码：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;您输入的密码是<span class="subst">&#123;password&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(password))</span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure><h3 id="5-下标"><a href="#5-下标" class="headerlink" title="5. 下标"></a>5. 下标</h3><h4 id="5-1-概念"><a href="#5-1-概念" class="headerlink" title="5.1 概念"></a>5.1 概念</h4><p><code>“下标”</code>又叫<code>“索引”</code>，就是编号。比如火车座位号，座位号的作用：按照编号快速找到对应的座位。同理，下标的作用即是通过下标快速找到对应的数据。</p><h4 id="5-2-快速体验"><a href="#5-2-快速体验" class="headerlink" title="5.2 快速体验"></a>5.2 快速体验</h4><p>需求：字符串<code>name = &quot;abcdef&quot;</code>，取到不同下标对应的数据。</p><ul><li>代码</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;abcdef&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(name[<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(name[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(name[<span class="number">2</span>])</span><br></pre></td></tr></table></figure><h3 id="6-切片"><a href="#6-切片" class="headerlink" title="6. 切片"></a>6. 切片</h3><p>切片是指对操作的对象截取其中一部分的操作。<strong>字符串、列表、元组</strong>都支持切片操作。</p><h4 id="6-1-语法"><a href="#6-1-语法" class="headerlink" title="6.1 语法"></a>6.1 语法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">序列[开始位置下标:结束位置下标:步长]<span class="number">1</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：</p><ul><li>不包含结束位置下标对应的数据， 正负整数均可；<br>步长是选取间隔，正负整数均可，默认步长为1。</li></ul></blockquote><h4 id="6-2-示例"><a href="#6-2-示例" class="headerlink" title="6.2 示例"></a>6.2 示例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;abcdefg&quot;</span><span class="built_in">print</span>(name[<span class="number">2</span>:<span class="number">5</span>:<span class="number">1</span>])  <span class="comment"># cdeprint(name[2:5])  # cdeprint(name[:5])  # abcdeprint(name[1:])  # bcdefgprint(name[:])  # abcdefgprint(name[::2])  # acegprint(name[:-1])  # abcdef, 负1表示倒数第一个数据print(name[-4:-1])  # defprint(name[::-1])  # gfedcba1234567891011</span></span><br></pre></td></tr></table></figure><h3 id="7-常用操作方法"><a href="#7-常用操作方法" class="headerlink" title="7. 常用操作方法"></a>7. 常用操作方法</h3><p>字符串的常用操作方法有查找、修改和判断三大类。</p><h4 id="7-1-查找"><a href="#7-1-查找" class="headerlink" title="7.1 查找"></a>7.1 查找</h4><p>所谓字符串查找方法即是查找子串在字符串中的位置或出现的次数。</p><ul><li>find()：检测某个子串是否包含在这个字符串中，如果在返回这个子串开始的位置下标，否则则返回-1。</li></ul><ol><li>语法</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">字符串序列.find(子串, 开始位置下标, 结束位置下标)</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：开始和结束位置下标可以省略，表示在整个字符串序列中查找。</p></blockquote><ol><li>快速体验</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and buran and list and Python&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(mystr.find(<span class="string">&#x27;and&#x27;</span>))  <span class="comment"># 12</span></span><br><span class="line"><span class="built_in">print</span>(mystr.find(<span class="string">&#x27;and&#x27;</span>, <span class="number">15</span>, <span class="number">30</span>))  <span class="comment"># 22</span></span><br><span class="line"><span class="built_in">print</span>(mystr.find(<span class="string">&#x27;ands&#x27;</span>))  <span class="comment"># -1</span></span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><ul><li>index()：检测某个子串是否包含在这个字符串中，如果在返回这个子串开始的位置下标，否则则报异常。</li></ul><ol><li>语法</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">字符串序列.index(子串, 开始位置下标, 结束位置下标)</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：开始和结束位置下标可以省略，表示在整个字符串序列中查找。</p></blockquote><ol><li>快速体验</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and buran and list and Python&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(mystr.index(<span class="string">&#x27;and&#x27;</span>))  <span class="comment"># 12</span></span><br><span class="line"><span class="built_in">print</span>(mystr.index(<span class="string">&#x27;and&#x27;</span>, <span class="number">15</span>, <span class="number">30</span>))  <span class="comment"># 22</span></span><br><span class="line"><span class="built_in">print</span>(mystr.index(<span class="string">&#x27;ands&#x27;</span>))  <span class="comment"># 报错</span></span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><ul><li>rfind()： 和find()功能相同，但查找方向为右侧开始。</li><li>rindex()：和index()功能相同，但查找方向为右侧开始。</li><li>count()：返回某个子串在字符串中出现的次数。</li></ul><ol><li>语法</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">字符串序列.count(子串, 开始位置下标, 结束位置下标)</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：开始和结束位置下标可以省略，表示在整个字符串序列中查找。</p></blockquote><ol><li>快速体验</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and buran and list and Python&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(mystr.count(<span class="string">&#x27;and&#x27;</span>))  <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(mystr.count(<span class="string">&#x27;ands&#x27;</span>))  <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(mystr.count(<span class="string">&#x27;and&#x27;</span>, <span class="number">0</span>, <span class="number">20</span>))  <span class="comment"># 1</span></span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><h4 id="7-2-修改"><a href="#7-2-修改" class="headerlink" title="7.2 修改"></a>7.2 修改</h4><p>所谓修改字符串，指的就是通过函数的形式修改字符串中的数据。</p><ul><li>replace()：替换字符串。</li></ul><ol><li>语法</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串序列.replace(旧子串, 新子串, 替换次数)<span class="number">1</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：替换次数如果查出子串出现次数，则替换次数为该子串出现次数。</p></blockquote><ol><li>快速体验</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and buran and list and Python&quot;</span><span class="built_in">print</span>(mystr.replace(<span class="string">&#x27;and&#x27;</span>, <span class="string">&#x27;he&#x27;</span>))<span class="comment"># 结果：hello world he buran he list he Pythonprint(mystr.replace(&#x27;and&#x27;, &#x27;he&#x27;, 10))# 结果：hello world he buran he list he Pythonprint(mystr)# 结果：hello world and buran and list and Python12345678</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：数据按照是否能直接修改分为可变类型和不可变类型两种。字符串类型的数据修改的时候不能改变原有字符串，属于不能直接修改数据的类型即是不可变类型。</p></blockquote><ul><li>split()：按照指定字符分割字符串。</li></ul><ol><li>语法</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串序列.split(分割字符, num)<span class="number">1</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：num表示的是分割字符出现的次数，即将来返回数据个数为num+1个。</p></blockquote><ol><li>快速体验</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and buran and list and Python&quot;</span><span class="built_in">print</span>(mystr.split(<span class="string">&#x27;and&#x27;</span>))<span class="comment"># 结果：[&#x27;hello world &#x27;, &#x27; buran &#x27;, &#x27; list &#x27;, &#x27; Python&#x27;]print(mystr.split(&#x27;and&#x27;, 2))# 结果：[&#x27;hello world &#x27;, &#x27; buran &#x27;, &#x27; list and Python&#x27;]print(mystr.split(&#x27; &#x27;))# 结果：[&#x27;hello&#x27;, &#x27;world&#x27;, &#x27;and&#x27;, &#x27;buran&#x27;, &#x27;and&#x27;, &#x27;list&#x27;, &#x27;and&#x27;, &#x27;Python&#x27;]print(mystr.split(&#x27; &#x27;, 2))# 结果：[&#x27;hello&#x27;, &#x27;world&#x27;, &#x27;and buran and list and Python&#x27;]12345678910</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：如果分割字符是原有字符串中的子串，分割后则丢失该子串。</p></blockquote><ul><li>join()：用一个字符或子串合并字符串，即是将多个字符串合并为一个新的字符串。</li></ul><ol><li>语法</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符或子串.join(多字符串组成的序列)<span class="number">1</span></span><br></pre></td></tr></table></figure><ol><li>快速体验</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;buran&#x27;</span>, <span class="string">&#x27;list&#x27;</span>]t1 = (<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>, <span class="string">&#x27;ddd&#x27;</span>)<span class="built_in">print</span>(<span class="string">&#x27;_&#x27;</span>.join(list1))<span class="comment"># hello_buran_listprint(&#x27;...&#x27;.join(t1))# 结果：aa...b...cc...ddd1234567</span></span><br></pre></td></tr></table></figure><ul><li>capitalize()：将字符串第一个字符转换成大写。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and buran and list and Python&quot;</span><span class="built_in">print</span>(mystr.capitalize())<span class="comment"># 结果：Hello world and buran and list and python1234</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：capitalize()函数转换后，只字符串第一个字符大写，其他的字符全都小写。</p></blockquote><ul><li>title()：将字符串每个单词首字母转换成大写。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and buran and list and Python&quot;</span><span class="built_in">print</span>(mystr.title())<span class="comment"># 结果：Hello World And Buran And List And Python1234</span></span><br></pre></td></tr></table></figure><ul><li>lower()：将字符串中大写转小写。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and buran and list and Python&quot;</span><span class="built_in">print</span>(mystr.lower())<span class="comment"># 结果：hello world and buran and list and python1234</span></span><br></pre></td></tr></table></figure><ul><li>upper()：将字符串中小写转大写。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and buran and list and Python&quot;</span><span class="built_in">print</span>(mystr.upper())<span class="comment"># 结果：HELLO WORLD AND BURAN AND LIST AND PYTHON1234</span></span><br></pre></td></tr></table></figure><ul><li>lstrip()：删除字符串左侧空白字符。</li><li>rstrip()：删除字符串右侧空白字符。</li><li>strip()：删除字符串两侧空白字符。</li><li>ljust()：返回一个原字符串左对齐,并使用指定字符(默认空格)填充至对应长度 的新字符串。</li><li>rjust()：返回一个原字符串右对齐,并使用指定字符(默认空格)填充至对应长度 的新字符串，语法和ljust()相同。</li><li>center()：返回一个原字符串居中对齐,并使用指定字符(默认空格)填充至对应长度 的新字符串，语法和ljust()相同。</li></ul><h4 id="7-3-判断"><a href="#7-3-判断" class="headerlink" title="7.3 判断"></a>7.3 判断</h4><p>所谓判断即是判断真假，返回的结果是布尔型数据类型：True 或 False。</p><ul><li>startswith()：检查字符串是否是以指定子串开头，是则返回 True，否则返回 False。如果设置开始和结束位置下标，则在指定范围内检查。</li></ul><ol><li>语法</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串序列.startswith(子串, 开始位置下标, 结束位置下标)<span class="number">1</span></span><br></pre></td></tr></table></figure><ol><li>快速体验</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and buran and list and Python&quot;</span><span class="built_in">print</span>(mystr.startswith(<span class="string">&#x27;hello&#x27;</span>))<span class="comment"># 结果：Trueprint(mystr.startswith(&#x27;hello&#x27;, 5, 20))# 结果：False123456</span></span><br></pre></td></tr></table></figure><ul><li>endswith()：：检查字符串是否是以指定子串结尾，是则返回 True，否则返回 False。如果设置开始和结束位置下标，则在指定范围内检查。</li></ul><ol><li>语法</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串序列.endswith(子串, 开始位置下标, 结束位置下标)<span class="number">1</span></span><br></pre></td></tr></table></figure><ol><li>快速体验</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and buran and list and Python&quot;</span><span class="built_in">print</span>(mystr.endswith(<span class="string">&#x27;Python&#x27;</span>))<span class="comment"># 结果：Trueprint(mystr.endswith(&#x27;python&#x27;))# 结果：Falseprint(mystr.endswith(&#x27;Python&#x27;, 2, 20))# 结果：False12345678</span></span><br></pre></td></tr></table></figure><ul><li>isalpha()：如果字符串至少有一个字符并且所有字符都是字母则返回 True, 否则返回 False。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr1 = <span class="string">&#x27;hello&#x27;</span>mystr2 = <span class="string">&#x27;hello12345&#x27;</span><span class="built_in">print</span>(mystr1.isalpha())<span class="comment"># 结果：Trueprint(mystr2.isalpha())# 结果：False1234567</span></span><br></pre></td></tr></table></figure><ul><li>isdigit()：如果字符串只包含数字则返回 True 否则返回 False。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr1 = <span class="string">&#x27;aaa12345&#x27;</span>mystr2 = <span class="string">&#x27;12345&#x27;</span><span class="built_in">print</span>(mystr1.isdigit())<span class="comment"># 结果： Falseprint(mystr2.isdigit())# 结果：False1234567</span></span><br></pre></td></tr></table></figure><ul><li>isalnum()：如果字符串至少有一个字符并且所有字符都是字母或数字则返 回 True,否则返回 False。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr1 = <span class="string">&#x27;aaa12345&#x27;</span>mystr2 = <span class="string">&#x27;12345-&#x27;</span><span class="built_in">print</span>(mystr1.isalnum())<span class="comment"># 结果：Trueprint(mystr2.isalnum())# 结果：False1234567</span></span><br></pre></td></tr></table></figure><ul><li>isspace()：如果字符串中只包含空白，则返回 True，否则返回 False。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr1 = <span class="string">&#x27;1 2 3 4 5&#x27;</span>mystr2 = <span class="string">&#x27;     &#x27;</span><span class="built_in">print</span>(mystr1.isspace())<span class="comment"># 结果：Falseprint(mystr2.isspace())# 结果：True1234567</span></span><br></pre></td></tr></table></figure><h2 id="十五、列表"><a href="#十五、列表" class="headerlink" title="十五、列表"></a>十五、列表</h2><h3 id="1-列表的格式"><a href="#1-列表的格式" class="headerlink" title="1. 列表的格式"></a>1. 列表的格式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[数据<span class="number">1</span>, 数据<span class="number">2</span>, 数据<span class="number">3</span>, 数据<span class="number">4.</span>.....]<span class="number">1</span></span><br></pre></td></tr></table></figure><p><strong>列表可以一次性有序存储多个不同类型的数据。</strong></p><h3 id="2-列表的常用操作"><a href="#2-列表的常用操作" class="headerlink" title="2. 列表的常用操作"></a>2. 列表的常用操作</h3><p>列表的作用是一次性存储多个数据，程序员可以对这些数据进行的操作有：增、删、改、查。</p><h4 id="2-1-查找"><a href="#2-1-查找" class="headerlink" title="2.1 查找"></a>2.1 查找</h4><ol><li>下标</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]<span class="built_in">print</span>(name_list[<span class="number">0</span>])  <span class="comment"># Tomprint(name_list[1])  # Lilyprint(name_list[2])  # Rose12345</span></span><br></pre></td></tr></table></figure><ol><li>函数</li></ol><ul><li>index()：返回指定数据所在位置的下标 。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">列表序列.index(数据, 开始位置下标, 结束位置下标)1name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]<span class="built_in">print</span>(name_list.index(<span class="string">&#x27;Lily&#x27;</span>, <span class="number">0</span>, <span class="number">2</span>))  <span class="comment"># 1123</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：如果查找的数据不存在则报错。</p></blockquote><ul><li>count()：统计指定数据在当前列表中出现的次数。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]<span class="built_in">print</span>(name_list.count(<span class="string">&#x27;Lily&#x27;</span>))  <span class="comment"># 1123</span></span><br></pre></td></tr></table></figure><ul><li>len()：访问列表长度，即列表中数据的个数。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]<span class="built_in">print</span>(<span class="built_in">len</span>(name_list))  <span class="comment"># 3123</span></span><br></pre></td></tr></table></figure><h4 id="2-2-判断是否存在"><a href="#2-2-判断是否存在" class="headerlink" title="2.2 判断是否存在"></a>2.2 判断是否存在</h4><ul><li>in：判断指定数据在某个列表序列，如果在返回True，否则返回False。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]<span class="comment"># 结果：Trueprint(&#x27;Lily&#x27; in name_list)# 结果：Falseprint(&#x27;Lilys&#x27; in name_list)1234567</span></span><br></pre></td></tr></table></figure><ul><li>not in：判断指定数据不在某个列表序列，如果不在返回True，否则返回False。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]<span class="comment"># 结果：Falseprint(&#x27;Lily&#x27; not in name_list)# 结果：Trueprint(&#x27;Lilys&#x27; not in name_list)1234567</span></span><br></pre></td></tr></table></figure><h4 id="2-2-增加"><a href="#2-2-增加" class="headerlink" title="2.2 增加"></a>2.2 增加</h4><p><strong>作用：增加指定数据到列表中。</strong></p><ul><li>append()：列表结尾追加数据。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">列表序列.append(数据)1name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]name_list.append(<span class="string">&#x27;xiaoming&#x27;</span>)<span class="comment"># 结果：[&#x27;Tom&#x27;, &#x27;Lily&#x27;, &#x27;Rose&#x27;, &#x27;xiaoming&#x27;]print(name_list)123456</span></span><br></pre></td></tr></table></figure><blockquote><p>列表追加数据的时候，直接在原列表里面追加了指定数据，即修改了原列表，故列表为可变类型数据。</p></blockquote><p><strong>注意点：如果append()追加的数据是一个序列，则追加整个序列到列表。</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]name_list.append([<span class="string">&#x27;xiaoming&#x27;</span>, <span class="string">&#x27;xiaohong&#x27;</span>])<span class="comment"># 结果：[&#x27;Tom&#x27;, &#x27;Lily&#x27;, &#x27;Rose&#x27;, [&#x27;xiaoming&#x27;, &#x27;xiaohong&#x27;]]print(name_list)123456</span></span><br></pre></td></tr></table></figure><ul><li>extend()：列表结尾追加数据，如果数据是一个序列，则将这个序列的数据逐一添加到列表。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">列表序列.extend(数据)<span class="number">1</span></span><br></pre></td></tr></table></figure><p>单个数据：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]name_list.extend(<span class="string">&#x27;xiaoming&#x27;</span>)<span class="comment"># 结果：[&#x27;Tom&#x27;, &#x27;Lily&#x27;, &#x27;Rose&#x27;, &#x27;x&#x27;, &#x27;i&#x27;, &#x27;a&#x27;, &#x27;o&#x27;, &#x27;m&#x27;, &#x27;i&#x27;, &#x27;n&#x27;, &#x27;g&#x27;]print(name_list)123456</span></span><br></pre></td></tr></table></figure><p>序列数据：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]name_list.extend([<span class="string">&#x27;xiaoming&#x27;</span>, <span class="string">&#x27;xiaohong&#x27;</span>])<span class="comment"># 结果：[&#x27;Tom&#x27;, &#x27;Lily&#x27;, &#x27;Rose&#x27;, &#x27;xiaoming&#x27;, &#x27;xiaohong&#x27;]print(name_list)123456</span></span><br></pre></td></tr></table></figure><ul><li>insert()：指定位置新增数据。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">列表序列.insert(位置下标, 数据)1name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]name_list.insert(<span class="number">1</span>, <span class="string">&#x27;xiaoming&#x27;</span>)<span class="comment"># 结果：[&#x27;Tom&#x27;, &#x27;xiaoming&#x27;, &#x27;Lily&#x27;, &#x27;Rose&#x27;]print(name_list)123456</span></span><br></pre></td></tr></table></figure><h4 id="2-3-删除"><a href="#2-3-删除" class="headerlink" title="2.3 删除"></a>2.3 删除</h4><ul><li>del</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">del</span> 目标<span class="comment"># del(目标)12</span></span><br></pre></td></tr></table></figure><p>删除列表：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]<span class="comment"># 结果：报错提示：name &#x27;name_list&#x27; is not defineddel name_listprint(name_list)12345</span></span><br></pre></td></tr></table></figure><p>删除指定数据：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]<span class="keyword">del</span> name_list[<span class="number">0</span>]<span class="comment"># 结果：[&#x27;Lily&#x27;, &#x27;Rose&#x27;]print(name_list)123456</span></span><br></pre></td></tr></table></figure><ul><li>pop()：删除指定下标的数据(默认为最后一个)，并返回该数据。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">列表序列.pop(下标)1name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]del_name = name_list.pop(<span class="number">1</span>)<span class="comment"># 结果：Lilyprint(del_name)# 结果：[&#x27;Tom&#x27;, &#x27;Rose&#x27;]print(name_list)123456789</span></span><br></pre></td></tr></table></figure><ul><li>remove()：移除列表中某个数据的第一个匹配项。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">列表序列.remove(数据)1name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]name_list.remove(<span class="string">&#x27;Rose&#x27;</span>)<span class="comment"># 结果：[&#x27;Tom&#x27;, &#x27;Lily&#x27;]print(name_list)123456</span></span><br></pre></td></tr></table></figure><ul><li>clear()：清空列表</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]name_list.clear()<span class="built_in">print</span>(name_list) <span class="comment"># 结果： []1234</span></span><br></pre></td></tr></table></figure><h4 id="2-4-修改"><a href="#2-4-修改" class="headerlink" title="2.4 修改"></a>2.4 修改</h4><ul><li>修改指定下标数据</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]name_list[<span class="number">0</span>] = <span class="string">&#x27;aaa&#x27;</span><span class="comment"># 结果：[&#x27;aaa&#x27;, &#x27;Lily&#x27;, &#x27;Rose&#x27;]print(name_list)123456</span></span><br></pre></td></tr></table></figure><ul><li>逆置：reverse()</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">num_list = [<span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">8</span>]num_list.reverse()<span class="comment"># 结果：[8, 6, 3, 2, 5, 1]print(num_list)123456</span></span><br></pre></td></tr></table></figure><ul><li>排序：sort()</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">列表序列.sort( key=<span class="literal">None</span>, reverse=<span class="literal">False</span>)1num_list = [<span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">8</span>]num_list.sort()<span class="comment"># 结果：[1, 2, 3, 5, 6, 8]print(num_list)123456</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：reverse表示排序规则，<strong>reverse = True</strong> 降序， <strong>reverse = False</strong> 升序（默认）</p></blockquote><h4 id="2-5-复制"><a href="#2-5-复制" class="headerlink" title="2.5 复制"></a>2.5 复制</h4><ul><li>函数：copy()</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]name_li2 = name_list.copy()<span class="comment"># 结果：[&#x27;Tom&#x27;, &#x27;Lily&#x27;, &#x27;Rose&#x27;]print(name_li2)123456</span></span><br></pre></td></tr></table></figure><h3 id="3-列表的循环遍历"><a href="#3-列表的循环遍历" class="headerlink" title="3. 列表的循环遍历"></a>3. 列表的循环遍历</h3><p>需求：依次打印列表中的各个数据。</p><h4 id="3-1-while"><a href="#3-1-while" class="headerlink" title="3.1 while"></a>3.1 while</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="built_in">len</span>(name_list):</span><br><span class="line">    <span class="built_in">print</span>(name_list[i])</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure><h4 id="3-2-for"><a href="#3-2-for" class="headerlink" title="3.2 for"></a>3.2 for</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> name_list:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure><h3 id="4-列表嵌套"><a href="#4-列表嵌套" class="headerlink" title="4. 列表嵌套"></a>4. 列表嵌套</h3><p>所谓列表嵌套指的就是一个列表里面包含了其他的子列表。</p><p>应用场景：要存储班级一、二、三三个班级学生姓名，且每个班级的学生姓名在一个列表。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name_list = [[<span class="string">&#x27;小明&#x27;</span>, <span class="string">&#x27;小红&#x27;</span>, <span class="string">&#x27;小绿&#x27;</span>], [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>], [<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>, <span class="string">&#x27;王五&#x27;</span>]]</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><blockquote><p>思考： 如何查找到数据”李四”？</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一步：按下标查找到李四所在的列表</span></span><br><span class="line"><span class="built_in">print</span>(name_list[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二步：从李四所在的列表里面，再按下标找到数据李四</span></span><br><span class="line"><span class="built_in">print</span>(name_list[<span class="number">2</span>][<span class="number">1</span>])</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><h2 id="十六、元组"><a href="#十六、元组" class="headerlink" title="十六、元组"></a>十六、元组</h2><p><strong>一个元组可以存储多个数据，元组内的数据是不能修改的。</strong></p><h3 id="1-定义元组"><a href="#1-定义元组" class="headerlink" title="1. 定义元组"></a>1. 定义元组</h3><p>元组特点：定义元组使用小括号，且逗号隔开各个数据，数据可以是不同的数据类型。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多个数据元组</span></span><br><span class="line">t1 = (<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 单个数据元组</span></span><br><span class="line">t2 = (<span class="number">10</span>,)</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：如果定义的元组只有一个数据，那么这个数据后面也好添加逗号，否则数据类型为唯一的这个数据的数据类型。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">t2 = (<span class="number">10</span>,)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(t2))  <span class="comment"># tuple</span></span><br><span class="line"></span><br><span class="line">t3 = (<span class="number">20</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(t3))  <span class="comment"># int</span></span><br><span class="line"></span><br><span class="line">t4 = (<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(t4))  <span class="comment"># str</span></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure><h3 id="2-元组的常见操作"><a href="#2-元组的常见操作" class="headerlink" title="2. 元组的常见操作"></a>2. 元组的常见操作</h3><p>元组数据不支持修改，只支持查找，具体如下：</p><ul><li>按下标查找数据</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tuple1 = (<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(tuple1[<span class="number">0</span>])  <span class="comment"># aa</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><ul><li>index()：查找某个数据，如果数据存在返回对应的下标，否则报错，语法和列表、字符串的index方法相同。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tuple1 = (<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(tuple1.index(<span class="string">&#x27;aa&#x27;</span>))  <span class="comment"># 0</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><ul><li>count()：统计某个数据在当前元组出现的次数。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tuple1 = (<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(tuple1.count(<span class="string">&#x27;bb&#x27;</span>))  <span class="comment"># 2</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><ul><li>len()：统计元组中数据的个数。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tuple1 = (<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(tuple1))  <span class="comment"># 4</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><h3 id="3-元组的注意事项"><a href="#3-元组的注意事项" class="headerlink" title="3. 元组的注意事项"></a>3. 元组的注意事项</h3><p><strong>元组内的直接数据如果修改则立即报错。</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tuple1 = (<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>)</span><br><span class="line">tuple1[<span class="number">0</span>] = <span class="string">&#x27;aaa&#x27;</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><p><strong>但是如果元组里面有列表，修改列表里面的数据则是支持的，故自觉很重要。</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tuple2 = (<span class="number">10</span>, <span class="number">20</span>, [<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>], <span class="number">50</span>, <span class="number">30</span>)<span class="built_in">print</span>(tuple2[<span class="number">2</span>])  <span class="comment"># 访问到列表# 结果：(10, 20, [&#x27;aaaaa&#x27;, &#x27;bb&#x27;, &#x27;cc&#x27;], 50, 30)tuple2[2][0] = &#x27;aaaaa&#x27;print(tuple2)123456</span></span><br></pre></td></tr></table></figure><h2 id="十七、字典"><a href="#十七、字典" class="headerlink" title="十七、字典"></a>十七、字典</h2><p><strong>字典里面的数据是以“键值对”形式出现，字典数据和数据顺序没有关系，即字典不支持下标，后期无论数据如何变化，只需要按照对应的键的名字查找数据即可。</strong></p><h3 id="1-创建字典的语法"><a href="#1-创建字典的语法" class="headerlink" title="1. 创建字典的语法"></a>1. 创建字典的语法</h3><p>字典特点：</p><ul><li>符号为大括号</li><li>数据为键值对形式出现</li><li>各个键值对之间用逗号隔开</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 有数据字典dict1 = &#123;&#x27;name&#x27;: &#x27;Tom&#x27;, &#x27;age&#x27;: 20, &#x27;gender&#x27;: &#x27;男&#x27;&#125;# 空字典dict2 = &#123;&#125;dict3 = dict()1234567</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：一般称冒号前面的为键(key)，简称k；冒号后面的为值(value)，简称v。</p></blockquote><h3 id="2-字典常见操作"><a href="#2-字典常见操作" class="headerlink" title="2. 字典常见操作"></a>2. 字典常见操作</h3><h4 id="2-1-增"><a href="#2-1-增" class="headerlink" title="2.1 增"></a>2.1 增</h4><p>写法：字典序列[key] = 值</p><blockquote><p>注意：如果key存在则修改这个key对应的值；如果key不存在则新增此键值对。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;dict1[<span class="string">&#x27;name&#x27;</span>] = <span class="string">&#x27;Rose&#x27;</span><span class="comment"># 结果：&#123;&#x27;name&#x27;: &#x27;Rose&#x27;, &#x27;age&#x27;: 20, &#x27;gender&#x27;: &#x27;男&#x27;&#125;print(dict1)dict1[&#x27;id&#x27;] = 110# &#123;&#x27;name&#x27;: &#x27;Rose&#x27;, &#x27;age&#x27;: 20, &#x27;gender&#x27;: &#x27;男&#x27;, &#x27;id&#x27;: 110&#125;print(dict1)12345678910</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：字典为可变类型。</p></blockquote><h4 id="2-2-删"><a href="#2-2-删" class="headerlink" title="2.2 删"></a>2.2 删</h4><ul><li>del() / del：删除字典或删除字典中指定键值对。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;<span class="keyword">del</span> dict1[<span class="string">&#x27;gender&#x27;</span>]<span class="comment"># 结果：&#123;&#x27;name&#x27;: &#x27;Tom&#x27;, &#x27;age&#x27;: 20&#125;print(dict1)12345</span></span><br></pre></td></tr></table></figure><ul><li>clear()：清空字典</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;dict1.clear()<span class="built_in">print</span>(dict1)  <span class="comment"># &#123;&#125;1234</span></span><br></pre></td></tr></table></figure><h4 id="2-3-改"><a href="#2-3-改" class="headerlink" title="2.3 改"></a>2.3 改</h4><p>写法：字典序列[key] = 值</p><blockquote><p>注意：如果key存在则修改这个key对应的值 ；如果key不存在则新增此键值对。</p></blockquote><h4 id="2-4-查"><a href="#2-4-查" class="headerlink" title="2.4 查"></a>2.4 查</h4><ol><li>key值查找</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;<span class="built_in">print</span>(dict1[<span class="string">&#x27;name&#x27;</span>])  <span class="comment"># Tomprint(dict1[&#x27;id&#x27;])  # 报错123</span></span><br></pre></td></tr></table></figure><blockquote><p>如果当前查找的key存在，则返回对应的值；否则则报错。</p></blockquote><ol><li>get()</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字典序列.get(key, 默认值)<span class="number">1</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：如果当前查找的key不存在则返回第二个参数(默认值)，如果省略第二个参数，则返回None。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;<span class="built_in">print</span>(dict1.get(<span class="string">&#x27;name&#x27;</span>))  <span class="comment"># Tomprint(dict1.get(&#x27;id&#x27;, 110))  # 110print(dict1.get(&#x27;id&#x27;))  # None1234</span></span><br></pre></td></tr></table></figure><ol><li>keys()</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;<span class="built_in">print</span>(dict1.keys())  <span class="comment"># dict_keys([&#x27;name&#x27;, &#x27;age&#x27;, &#x27;gender&#x27;])12</span></span><br></pre></td></tr></table></figure><ol><li>values()</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;<span class="built_in">print</span>(dict1.values())  <span class="comment"># dict_values([&#x27;Tom&#x27;, 20, &#x27;男&#x27;])12</span></span><br></pre></td></tr></table></figure><ol><li>items()</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;<span class="built_in">print</span>(dict1.items())  <span class="comment"># dict_items([(&#x27;name&#x27;, &#x27;Tom&#x27;), (&#x27;age&#x27;, 20), (&#x27;gender&#x27;, &#x27;男&#x27;)])12</span></span><br></pre></td></tr></table></figure><h3 id="3-字典的循环遍历"><a href="#3-字典的循环遍历" class="headerlink" title="3. 字典的循环遍历"></a>3. 字典的循环遍历</h3><h4 id="3-1-遍历字典的key"><a href="#3-1-遍历字典的key" class="headerlink" title="3.1 遍历字典的key"></a>3.1 遍历字典的key</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;<span class="keyword">for</span> key <span class="keyword">in</span> dict1.keys():    <span class="built_in">print</span>(key)<span class="number">123</span></span><br></pre></td></tr></table></figure><h4 id="3-2-遍历字典的value"><a href="#3-2-遍历字典的value" class="headerlink" title="3.2 遍历字典的value"></a>3.2 遍历字典的value</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;<span class="keyword">for</span> value <span class="keyword">in</span> dict1.values():    <span class="built_in">print</span>(value)<span class="number">123</span></span><br></pre></td></tr></table></figure><h4 id="3-3-遍历字典的元素"><a href="#3-3-遍历字典的元素" class="headerlink" title="3.3 遍历字典的元素"></a>3.3 遍历字典的元素</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;<span class="keyword">for</span> item <span class="keyword">in</span> dict1.items():    <span class="built_in">print</span>(item)<span class="number">123</span></span><br></pre></td></tr></table></figure><h4 id="3-4-遍历字典的键值对"><a href="#3-4-遍历字典的键值对" class="headerlink" title="3.4 遍历字典的键值对"></a>3.4 遍历字典的键值对</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> dict1.items():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;key&#125;</span> = <span class="subst">&#123;value&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure><h2 id="十八、集合"><a href="#十八、集合" class="headerlink" title="十八、集合"></a>十八、集合</h2><p><strong>集合具有确定性，无序性和去重性。</strong></p><h3 id="1-创建集合"><a href="#1-创建集合" class="headerlink" title="1. 创建集合"></a>1. 创建集合</h3><p>创建集合使用<code>&#123;&#125;</code>或<code>set()</code>， 但是如果要创建空集合只能使用<code>set()</code>，因为<code>&#123;&#125;</code>用来创建空字典。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">s1 = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(s1)</span><br><span class="line"></span><br><span class="line">s2 = &#123;<span class="number">10</span>, <span class="number">30</span>, <span class="number">20</span>, <span class="number">10</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">30</span>, <span class="number">50</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(s2)</span><br><span class="line"></span><br><span class="line">s3 = <span class="built_in">set</span>(<span class="string">&#x27;abcdefg&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(s3)</span><br><span class="line"></span><br><span class="line">s4 = <span class="built_in">set</span>()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(s4))  <span class="comment"># set</span></span><br><span class="line"></span><br><span class="line">s5 = &#123;&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(s5))  <span class="comment"># dict</span></span><br><span class="line"><span class="number">1234567891011121314</span></span><br></pre></td></tr></table></figure><blockquote><p>特点：</p><ol><li>集合可以去掉重复数据；</li><li>集合数据是无序的，故不支持下标。</li></ol></blockquote><h3 id="2-集合常见操作方法"><a href="#2-集合常见操作方法" class="headerlink" title="2. 集合常见操作方法"></a>2. 集合常见操作方法</h3><h4 id="2-1-增加数据"><a href="#2-1-增加数据" class="headerlink" title="2.1 增加数据"></a>2.1 增加数据</h4><ul><li>add()</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s1 = &#123;<span class="number">10</span>, <span class="number">20</span>&#125;s1.add(<span class="number">100</span>)s1.add(<span class="number">10</span>)<span class="built_in">print</span>(s1)  <span class="comment"># &#123;100, 10, 20&#125;1234</span></span><br></pre></td></tr></table></figure><blockquote><p>因为集合有去重功能，所以，当向集合内追加的数据是当前集合已有数据的话，则不进行任何操作。</p></blockquote><ul><li>update(), 追加的数据是序列。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s1 = &#123;<span class="number">10</span>, <span class="number">20</span>&#125;<span class="comment"># s1.update(100)  # 报错s1.update([100, 200])s1.update(&#x27;abc&#x27;)print(s1)   # &#123;&#x27;a&#x27;, 100, 200, 10, &#x27;b&#x27;, &#x27;c&#x27;, 20&#125;12345</span></span><br></pre></td></tr></table></figure><h4 id="2-2-删除数据"><a href="#2-2-删除数据" class="headerlink" title="2.2 删除数据"></a>2.2 删除数据</h4><ul><li>remove()，删除集合中的指定数据，如果数据不存在则报错。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s1 = &#123;<span class="number">10</span>, <span class="number">20</span>&#125;s1.remove(<span class="number">10</span>)<span class="built_in">print</span>(s1)s1.remove(<span class="number">10</span>)  <span class="comment"># 报错print(s1)1234567</span></span><br></pre></td></tr></table></figure><ul><li>discard()，删除集合中的指定数据，如果数据不存在也不会报错。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">s1 = &#123;<span class="number">10</span>, <span class="number">20</span>&#125;</span><br><span class="line"></span><br><span class="line">s1.discard(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(s1)</span><br><span class="line"></span><br><span class="line">s1.discard(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(s1)</span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure><ul><li>pop()，随机删除集合中的某个数据，并返回这个数据。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s1 = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;</span><br><span class="line"></span><br><span class="line">del_num = s1.pop()</span><br><span class="line"><span class="built_in">print</span>(del_num)</span><br><span class="line"><span class="built_in">print</span>(s1)</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><h4 id="2-3-查找数据"><a href="#2-3-查找数据" class="headerlink" title="2.3 查找数据"></a>2.3 查找数据</h4><ul><li>in：判断数据在集合序列</li><li>not in：判断数据不在集合序列</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s1 = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="number">10</span> <span class="keyword">in</span> s1)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">10</span> <span class="keyword">not</span> <span class="keyword">in</span> s1)</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure><h2 id="十九、公共操作"><a href="#十九、公共操作" class="headerlink" title="十九、公共操作"></a>十九、公共操作</h2><h3 id="1-运算符"><a href="#1-运算符" class="headerlink" title="1. 运算符"></a>1. 运算符</h3><table><thead><tr><th>运算符</th><th>描述</th><th>支持的容器类型</th></tr></thead><tbody><tr><td>+</td><td>合并</td><td>字符串、列表、元组</td></tr><tr><td>*</td><td>复制</td><td>字符串、列表、元组</td></tr><tr><td>in</td><td>元素是否存在</td><td>字符串、列表、元组、字典</td></tr><tr><td>not in</td><td>元素是否不存在</td><td>字符串、列表、元组、字典</td></tr></tbody></table><h4 id="1-1"><a href="#1-1" class="headerlink" title="1.1 +"></a>1.1 +</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 字符串 </span></span><br><span class="line">str1 = <span class="string">&#x27;aa&#x27;</span></span><br><span class="line">str2 = <span class="string">&#x27;bb&#x27;</span></span><br><span class="line">str3 = str1 + str2</span><br><span class="line"><span class="built_in">print</span>(str3)  <span class="comment"># aabb</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 列表 </span></span><br><span class="line">list1 = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">list2 = [<span class="number">10</span>, <span class="number">20</span>]</span><br><span class="line">list3 = list1 + list2</span><br><span class="line"><span class="built_in">print</span>(list3)  <span class="comment"># [1, 2, 10, 20]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 元组 </span></span><br><span class="line">t1 = (<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">t2 = (<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">t3 = t1 + t2</span><br><span class="line"><span class="built_in">print</span>(t3)  <span class="comment"># (10, 20, 100, 200)</span></span><br><span class="line"><span class="number">123456789101112131415161718</span></span><br></pre></td></tr></table></figure><h4 id="1-2"><a href="#1-2" class="headerlink" title="1.2 *"></a>1.2 *</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 字符串print(&#x27;-&#x27; * 10)  # ----------# 2. 列表list1 = [&#x27;hello&#x27;]print(list1 * 4)  # [&#x27;hello&#x27;, &#x27;hello&#x27;, &#x27;hello&#x27;, &#x27;hello&#x27;]# 3. 元组t1 = (&#x27;world&#x27;,)print(t1 * 4)  # (&#x27;world&#x27;, &#x27;world&#x27;, &#x27;world&#x27;, &#x27;world&#x27;)12345678910</span></span><br></pre></td></tr></table></figure><h4 id="1-3-in或not-in"><a href="#1-3-in或not-in" class="headerlink" title="1.3 in或not in"></a>1.3 in或not in</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 字符串print(&#x27;a&#x27; in &#x27;abcd&#x27;)  # Trueprint(&#x27;a&#x27; not in &#x27;abcd&#x27;)  # False# 2. 列表list1 = [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]print(&#x27;a&#x27; in list1)  # Trueprint(&#x27;a&#x27; not in list1)  # False# 3. 元组t1 = (&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;)print(&#x27;aa&#x27; in t1)  # Falseprint(&#x27;aa&#x27; not in t1)  # True12345678910111213</span></span><br></pre></td></tr></table></figure><h3 id="2-公共方法"><a href="#2-公共方法" class="headerlink" title="2. 公共方法"></a>2. 公共方法</h3><table><thead><tr><th>函数</th><th>描述</th></tr></thead><tbody><tr><td>len()</td><td>计算容器中元素个数</td></tr><tr><td>del 或 del()</td><td>删除</td></tr><tr><td>max()</td><td>返回容器中元素最大值</td></tr><tr><td>min()</td><td>返回容器中元素最小值</td></tr><tr><td>range(start, end, step)</td><td>生成从start到end的数字，步长为 step，供for循环使用</td></tr><tr><td>enumerate()</td><td>函数用于将一个可遍历的数据对象(如列表、元组或字符串)组合为一个索引序列，同时列出数据和数据下标，一般用在 for 循环当中。</td></tr></tbody></table><h4 id="2-1-len"><a href="#2-1-len" class="headerlink" title="2.1 len()"></a>2.1 len()</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 字符串str1 = &#x27;abcdefg&#x27;print(len(str1))  # 7# 2. 列表list1 = [10, 20, 30, 40]print(len(list1))  # 4# 3. 元组t1 = (10, 20, 30, 40, 50)print(len(t1))  # 5# 4. 集合s1 = &#123;10, 20, 30&#125;print(len(s1))  # 3# 5. 字典dict1 = &#123;&#x27;name&#x27;: &#x27;Rose&#x27;, &#x27;age&#x27;: 18&#125;print(len(dict1))  # 212345678910111213141516171819</span></span><br></pre></td></tr></table></figure><h4 id="2-2-del"><a href="#2-2-del" class="headerlink" title="2.2 del()"></a>2.2 del()</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 字符串str1 = &#x27;abcdefg&#x27;del str1print(str1)# 2. 列表list1 = [10, 20, 30, 40]del(list1[0])print(list1)  # [20, 30, 40]123456789</span></span><br></pre></td></tr></table></figure><h4 id="2-3-max"><a href="#2-3-max" class="headerlink" title="2.3 max()"></a>2.3 max()</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 字符串str1 = &#x27;abcdefg&#x27;print(max(str1))  # g# 2. 列表list1 = [10, 20, 30, 40]print(max(list1))  # 401234567</span></span><br></pre></td></tr></table></figure><h4 id="2-4-min"><a href="#2-4-min" class="headerlink" title="2.4 min()"></a>2.4 min()</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 字符串</span></span><br><span class="line">str1 = <span class="string">&#x27;abcdefg&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">min</span>(str1))  <span class="comment"># a</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 列表</span></span><br><span class="line">list1 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">min</span>(list1))  <span class="comment"># 10</span></span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure><h4 id="2-5-range"><a href="#2-5-range" class="headerlink" title="2.5 range()"></a>2.5 range()</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 2 3 4 5 6 7 8 9</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>, <span class="number">1</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1 3 5 7 9</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>, <span class="number">2</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：range()生成的序列不包含end数字。</p></blockquote><h4 id="2-6-enumerate"><a href="#2-6-enumerate" class="headerlink" title="2.6 enumerate()"></a>2.6 enumerate()</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">enumerate</span>(可遍历对象, start=<span class="number">0</span>)</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：start参数用来设置遍历数据的下标的起始值，默认为0。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">enumerate</span>(list1):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> index, char <span class="keyword">in</span> <span class="built_in">enumerate</span>(list1, start=<span class="number">1</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;下标是<span class="subst">&#123;index&#125;</span>, 对应的字符是<span class="subst">&#123;char&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="3-容器类型转换"><a href="#3-容器类型转换" class="headerlink" title="3. 容器类型转换"></a>3. 容器类型转换</h3><h4 id="3-1-tuple"><a href="#3-1-tuple" class="headerlink" title="3.1 tuple()"></a>3.1 tuple()</h4><p><strong>作用：将某个序列转换成元组。</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">20</span>]</span><br><span class="line">s1 = &#123;<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>, <span class="number">400</span>, <span class="number">500</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">tuple</span>(list1))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">tuple</span>(s1))</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><h4 id="3-2-list"><a href="#3-2-list" class="headerlink" title="3.2 list()"></a>3.2 list()</h4><p><strong>作用：将某个序列转换成列表。</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">t1 = (<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>)</span><br><span class="line">s1 = &#123;<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>, <span class="number">400</span>, <span class="number">500</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(t1))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(s1))</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><h4 id="3-3-set"><a href="#3-3-set" class="headerlink" title="3.3 set()"></a>3.3 set()</h4><p><strong>作用：将某个序列转换成集合。</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">20</span>]</span><br><span class="line">t1 = (<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">set</span>(list1))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">set</span>(t1))</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：</p><ol><li>集合可以快速完成列表去重。</li><li>集合不支持下标。</li></ol></blockquote><h2 id="二十、推导式"><a href="#二十、推导式" class="headerlink" title="二十、推导式"></a>二十、推导式</h2><h3 id="1-列表推导式"><a href="#1-列表推导式" class="headerlink" title="1. 列表推导式"></a>1. 列表推导式</h3><p><strong>作用：用一个表达式创建一个有规律的列表或控制一个有规律列表。</strong></p><p>列表推导式又叫列表生成式。</p><h4 id="1-1-快速体验"><a href="#1-1-快速体验" class="headerlink" title="1.1 快速体验"></a>1.1 快速体验</h4><p>需求：创建一个0-10的列表。</p><ul><li>while循环实现</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 准备一个空列表</span></span><br><span class="line">list1 = []</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 书写循环，依次追加数字到空列表list1中</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="number">10</span>:</span><br><span class="line">    list1.append(i)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure><ul><li>for循环实现</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list1 = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    list1.append(i)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><ul><li>列表推导式实现</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><h4 id="1-2-带if的列表推导式"><a href="#1-2-带if的列表推导式" class="headerlink" title="1.2 带if的列表推导式"></a>1.2 带if的列表推导式</h4><p>需求：创建0-10的偶数列表</p><ul><li>方法一：range()步长实现</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>, <span class="number">2</span>)]</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><ul><li>方法二：if实现</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>) <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><h4 id="1-3-多个for循环实现列表推导式"><a href="#1-3-多个for循环实现列表推导式" class="headerlink" title="1.3 多个for循环实现列表推导式"></a>1.3 多个for循环实现列表推导式</h4><p>需求：创建列表如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[(<span class="number">1</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">2</span>), (<span class="number">2</span>, <span class="number">0</span>), (<span class="number">2</span>, <span class="number">1</span>), (<span class="number">2</span>, <span class="number">2</span>)]</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><ul><li>代码如下：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list1 = [(i, j) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">3</span>) <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)]</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><h3 id="2-字典推导式"><a href="#2-字典推导式" class="headerlink" title="2. 字典推导式"></a>2. 字典推导式</h3><p><strong>字典推导式作用：快速合并列表为字典或提取字典中目标数据。</strong></p><h4 id="2-1-快速体验"><a href="#2-1-快速体验" class="headerlink" title="2.1 快速体验"></a>2.1 快速体验</h4><ol><li>创建一个字典：字典key是1-5数字，value是这个数字的2次方。</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;i: i**<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>)&#125;</span><br><span class="line"><span class="built_in">print</span>(dict1)  <span class="comment"># &#123;1: 1, 2: 4, 3: 9, 4: 16&#125;</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><ol><li>将两个列表合并为一个字典</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;gender&#x27;</span>]</span><br><span class="line">list2 = [<span class="string">&#x27;Tom&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;man&#x27;</span>]</span><br><span class="line"></span><br><span class="line">dict1 = &#123;list1[i]: list2[i] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(list1))&#125;</span><br><span class="line"><span class="built_in">print</span>(dict1)</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><ol><li>提取字典中目标数据</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">counts = &#123;<span class="string">&#x27;MBP&#x27;</span>: <span class="number">268</span>, <span class="string">&#x27;HP&#x27;</span>: <span class="number">125</span>, <span class="string">&#x27;DELL&#x27;</span>: <span class="number">201</span>, <span class="string">&#x27;Lenovo&#x27;</span>: <span class="number">199</span>, <span class="string">&#x27;acer&#x27;</span>: <span class="number">99</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 需求：提取上述电脑数量大于等于200的字典数据</span></span><br><span class="line">count1 = &#123;key: value <span class="keyword">for</span> key, value <span class="keyword">in</span> counts.items() <span class="keyword">if</span> value &gt;= <span class="number">200</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(count1)  <span class="comment"># &#123;&#x27;MBP&#x27;: 268, &#x27;DELL&#x27;: 201&#125;</span></span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><h3 id="3-集合推导式"><a href="#3-集合推导式" class="headerlink" title="3. 集合推导式"></a>3. 集合推导式</h3><p>需求：创建一个集合，数据为下方列表的2次方。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">set1 = &#123;i ** <span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> list1&#125;</span><br><span class="line"><span class="built_in">print</span>(set1)  <span class="comment"># &#123;1, 4&#125;</span></span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：集合有数据去重功能。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> py基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DFS &amp; BFS</title>
      <link href="/xfrl/2020/03/07/%E6%B7%B1%E6%90%9C%E5%B9%BF%E6%90%9C/"/>
      <url>/xfrl/2020/03/07/%E6%B7%B1%E6%90%9C%E5%B9%BF%E6%90%9C/</url>
      
        <content type="html"><![CDATA[<h1 id="DFS-amp-BFS-详解及-Java实现"><a href="#DFS-amp-BFS-详解及-Java实现" class="headerlink" title="DFS &amp; BFS 详解及 Java实现"></a>DFS &amp; BFS 详解及 Java实现</h1><p>BFS和DFS是图的两种遍历方式，是最简单的图搜索算法。</p><p>本文将给出给出BFS和DFS的以下几种实现方式：</p><ul><li>1、使用队列Queue实现图的BFS遍历</li><li>2、递归实现图的DFS遍历</li><li>3、使用栈Stack迭代实现图的DFS遍历</li></ul><h2 id="一、BFS（广度优先搜索算法）"><a href="#一、BFS（广度优先搜索算法）" class="headerlink" title="一、BFS（广度优先搜索算法）"></a>一、BFS（广度优先搜索算法）</h2><blockquote><p>原理：宽度优先搜索算法（又称广度优先搜索）是最简便的图的搜索算法之一，这一算法也是很多重要的图的算法的原型。Dijkstra单源最短路径算法和Prim最小生成树算法都采用了和宽度优先搜索类似的思想。其别名又叫BFS，属于一种盲目搜寻法，目的是系统地展开并检查图中的所有节点，以找寻结果。换句话说，它并不考虑结果的可能位置，彻底地搜索整张图，直到找到结果为止。</p></blockquote><p>&nbsp;&nbsp;BFS算法之所以叫做广度优先搜索，是因为它始终将已发现的顶点和未发现的之间的边界，沿其广度方向向外扩展。亦即，算法首先会发现和s距离为k的所有顶点，然后才会发现和s距离为k+1的其他顶点。</p><p>&nbsp;&nbsp;同深度优先搜索相反，BFS宽度优先搜索每次选择深度最浅的节点优先扩展。并且当问题有解时，宽度优先算法一定能够找到解，并且在单位耗散时间的情况下，可以保证找到最优解。</p><blockquote><p>基于邻接矩阵的BFS：</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS_Graph</span><span class="params">(GraphAMatrix G)</span></span>&#123;</span><br><span class="line">    <span class="comment">//图的广度优先遍历</span></span><br><span class="line">    <span class="keyword">int</span> i,j,e;<span class="comment">//i j 为循环控制变量 e为取队列元素变量</span></span><br><span class="line">    CQueue  Q;</span><br><span class="line">    <span class="keyword">int</span> *visited = (<span class="keyword">int</span> *)<span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(<span class="keyword">int</span>)*G.numVertexes);<span class="comment">//标记数组</span></span><br><span class="line">    <span class="built_in">InitCQueue</span>(&amp;Q);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;G.numVertexes;i++)&#123;</span><br><span class="line">        <span class="comment">//遍历所有顶点 非连通图的情况化 要遍历全部加上循环</span></span><br><span class="line">        <span class="keyword">if</span>(!visited[i])&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,i);</span><br><span class="line">            visited[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">EnCQueue</span>(&amp;Q,i);<span class="comment">//起点入队列</span></span><br><span class="line">            <span class="keyword">while</span>(!<span class="built_in">CQueue</span>(Q))&#123;<span class="comment">//循环操作</span></span><br><span class="line">                <span class="built_in">DeQueue</span>(&amp;Q,&amp;e);<span class="comment">//出队列</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;G.numVertexes;j++)&#123;</span><br><span class="line">                    <span class="comment">//遍历顶点集合</span></span><br><span class="line">                    <span class="keyword">if</span>(!visited[j]&amp;&amp;G.edges[e][j])&#123;</span><br><span class="line">                        <span class="comment">//判断当前结点是否被访问过 且与出队结点是否相连</span></span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,j);</span><br><span class="line">                        visited[j] = <span class="number">1</span>;</span><br><span class="line">                        <span class="built_in">EnCQueue</span>(&amp;Q,j); </span><br><span class="line">                    &#125; </span><br><span class="line">                &#125; </span><br><span class="line">            &#125; </span><br><span class="line">        &#125; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="built_in">free</span>(visited);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><blockquote><p>基于邻接表的BFS</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS_GraphADJList</span><span class="params">(GraphADJList G)</span></span>&#123;</span><br><span class="line">    <span class="comment">//图的广度优先遍历</span></span><br><span class="line">    <span class="keyword">int</span> i,j,e;<span class="comment">//i j 为循环控制变量 e为取队列元素变量</span></span><br><span class="line">    CQueue  Q;</span><br><span class="line">    EdgeNode *p; </span><br><span class="line">    <span class="keyword">int</span> *visited = (<span class="keyword">int</span> *)<span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(<span class="keyword">int</span>)*G.numVertexes);<span class="comment">//标记数组</span></span><br><span class="line">    <span class="built_in">InitCQueue</span>(&amp;Q);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;G.numVertexes;i++)&#123;</span><br><span class="line">        <span class="comment">//遍历所有顶点 非连通图的情况化 要遍历全部加上循环</span></span><br><span class="line">        <span class="keyword">if</span>(!visited[i])&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,i);</span><br><span class="line">            visited[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">EnCQueue</span>(&amp;Q,i);<span class="comment">//起点入队列</span></span><br><span class="line">            <span class="keyword">while</span>(!<span class="built_in">CQueue</span>(Q))&#123;<span class="comment">//循环操作</span></span><br><span class="line">                <span class="built_in">DeQueue</span>(&amp;Q,&amp;e);<span class="comment">//出队列</span></span><br><span class="line">                p = G.adjList[e].firstedge;<span class="comment">//从顶点的链表的第一个边结点开始 </span></span><br><span class="line">                <span class="keyword">while</span>(p)&#123;</span><br><span class="line">                    j = p-&gt;adjvex;<span class="comment">//记录当前边的终点序号 </span></span><br><span class="line">                    <span class="keyword">if</span>(!visited[j])&#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,j);</span><br><span class="line">                        visited[j] = <span class="number">1</span>;</span><br><span class="line">                        <span class="built_in">EnCQueue</span>(&amp;Q,j); </span><br><span class="line">                    &#125; </span><br><span class="line">                    p = p-&gt;next;<span class="comment">//移动到下一条边 </span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; </span><br><span class="line">        &#125; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="built_in">free</span>(visited);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><hr><h2 id="二、DFS（深度优先搜索算法）"><a href="#二、DFS（深度优先搜索算法）" class="headerlink" title="二、DFS（深度优先搜索算法）"></a>二、DFS（深度优先搜索算法）</h2><blockquote><p>原理：深度优先搜索，顾名思义即为一条道走到黑的搜索策略，行不通退回来换另外一条道再走到黑，依次直到搜索完成。其过程简要来说是对每一个可能的分支路径深入到不能再深入为止，而且每个节点只能访问一次。</p></blockquote><p>&nbsp;&nbsp;DFS算法利用递归方式实现，和BFS不同的是BFS搜索产生的始终是一棵树，而DFS产生的可能会使一个森林。</p><p>&nbsp;&nbsp;对于深度优先搜索算法的思想。在一般情况下，当问题有解时，深度优先搜索不但不能够保证找到最优解，也不能保证找到解。如果问题状态空间有限，则可以保证找到解；但是当问题的状态空间无限时，则可能陷入“深渊”而找不到解。为此我们可以利用回溯算法中的思想，可以加上对搜索的深度限制。从而实现对于搜索深度的限制。当然深度限制设置必须合理，深度过深则影响搜索的效率，深度过浅时，则可能影响找到问题的解。</p><p><strong>使用栈实现DFS思路关键点：</strong></p><p>1、首先明确整个DFS主要便是对于栈进行操作，就是在顶点压栈和弹栈过程中我们需要进行的操作；</p><p>2、利用DFS的思想，深度遍历节点。直到栈内元素为空位置；</p><p>3、何时进行压栈：对于栈顶顶点，看其邻接顶点中是够存在未被遍历过得白色顶点，若有则对将其压栈，然后再对栈顶元素进行操作；</p><p>4、如果栈顶顶点的所有邻接顶点都是被遍历过的灰色顶点，则将栈顶元素弹栈，然后再对现在的栈顶元素进行操作；</p><p>5、算法结束时，所有元素均被遍历过即为灰色，并且栈已经为空。</p><blockquote><p>基于邻接矩阵的DFS算法代码实现</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(GraphAMatrix G,<span class="keyword">int</span> i,<span class="keyword">int</span> *visited)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> j;</span><br><span class="line">    <span class="keyword">if</span>(visited[i])</span><br><span class="line">        <span class="keyword">return</span> ;<span class="comment">//若结点被遍历过 返回 </span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;i&lt;&lt;endl;</span><br><span class="line">        visited[i]=<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//遍历与该结点相邻的结点 (从第一个开始) </span></span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;G.numVertexs;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!visited[i]&amp;&amp;G.Edge[i][j])</span><br><span class="line">                <span class="built_in">DFS</span>(G,j,visited);<span class="comment">//从相邻结点的第一个进行递归式深搜遍历 </span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS_GreahDG</span><span class="params">(GreapAMstrix G)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j,e;</span><br><span class="line">    <span class="keyword">int</span> *visited;<span class="comment">//为每一个结点设置一个初始标志为未遍历 </span></span><br><span class="line">    visited=(<span class="keyword">int</span> *)<span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(<span class="keyword">int</span>)*G.numVertexs);</span><br><span class="line">    <span class="built_in">memset</span>(visited,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(<span class="keyword">int</span>)*G.numVertexs);</span><br><span class="line">    <span class="comment">//对每一个未被遍历结点进行DFS深度搜索 </span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;G.numVertexs;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!visited[i])</span><br><span class="line">            <span class="built_in">DFS</span>(G,i,visited);<span class="comment">//调用深搜算法 </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(visited);<span class="comment">//释放指针 </span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><blockquote><p>基于邻接表的DFS算法实现</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxvn 10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> VertexType;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义图的存储数据类型 </span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ArcNode</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> adjvesx;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ArcNode</span> *<span class="title">nextarc</span>;</span></span><br><span class="line">    <span class="keyword">int</span> info;</span><br><span class="line">&#125;ArcNode;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">VNode</span>&#123;</span></span><br><span class="line">    VertexType data;</span><br><span class="line">    ArcNode *firstarc; </span><br><span class="line">&#125;VNode,AdjList[maxvn];</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    AdjList vertices;</span><br><span class="line">    <span class="keyword">int</span> Vnum,Anum;</span><br><span class="line">&#125;AdjGraph;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个全局标识数组 </span></span><br><span class="line"><span class="keyword">int</span> visited[maxvn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LocateVex</span><span class="params">(<span class="keyword">char</span> u,AdjGraph G)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;G.Vnum;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(u==G.vertices[i].data)</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(i==G.Vnum)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;ERROR!&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">1</span>); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建图 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreatAdjGraph_adjList</span><span class="params">(AdjGraph &amp;G)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ArcNode *p;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Please input Vnum and Anum:&quot;</span>&lt;&lt;endl;</span><br><span class="line">    cin&gt;&gt;G.Vnum&gt;&gt;G.Anum;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Please input Vertices:&quot;</span>&lt;&lt;endl;<span class="comment">//创建表头 </span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;G.Vnum;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;G.vertices[i].data;</span><br><span class="line">        G.vertices[i].firstarc=<span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Please input Arc[i][j]:&quot;</span>&lt;&lt;endl;<span class="comment">//创建链表</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;G.Anum;k++)</span><br><span class="line">    &#123;</span><br><span class="line">        p=(ArcNode*)<span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(ArcNode));</span><br><span class="line">        <span class="keyword">char</span> v1,v2;</span><br><span class="line">        cin&gt;&gt;v1&gt;&gt;v2;</span><br><span class="line">        <span class="keyword">int</span> i=<span class="built_in">LocateVex</span>(v1,G);</span><br><span class="line">        <span class="keyword">int</span> j=<span class="built_in">LocateVex</span>(v2,G);</span><br><span class="line">        <span class="keyword">int</span> w;</span><br><span class="line">        cin&gt;&gt;w;</span><br><span class="line">        p-&gt;adjvesx=j;</span><br><span class="line">        p-&gt;info=w;</span><br><span class="line">        p-&gt;nextarc=G.vertices[i].firstarc;</span><br><span class="line">        G.vertices[i].firstarc=p; </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//深搜算法 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(AdjGraph G,<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ArcNode*p;</span><br><span class="line">    visited[i]=<span class="number">1</span>;</span><br><span class="line">    p=G.vertices[i].firstarc;</span><br><span class="line">    <span class="keyword">while</span>(p)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!visited[p-&gt;adjvesx])</span><br><span class="line">        &#123;</span><br><span class="line">            visited[p-&gt;adjvesx]=<span class="number">1</span>;</span><br><span class="line">            cout&lt;&lt;p-&gt;adjvesx&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        p=p-&gt;nextarc;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用深搜算法 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFSTraverse</span><span class="params">(AdjGraph G)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;G.Vnum;i++)</span><br><span class="line">        visited[i]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;G.Vnum;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!visited[i])</span><br><span class="line">            <span class="built_in">DFS</span>(G,i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//主函数 </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    AdjGraph G;</span><br><span class="line">    <span class="built_in">CreatAdjGraph_adjList</span>(G);</span><br><span class="line">    <span class="built_in">DFSTraverse</span>(G);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h2 id="三、BFS和DFS实现（java）"><a href="#三、BFS和DFS实现（java）" class="headerlink" title="三、BFS和DFS实现（java）"></a>三、BFS和DFS实现（java）</h2><p>1、Vertex对象类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vertex1</span> </span>&#123;</span><br><span class="line">    String verName;</span><br><span class="line">    String color;  </span><br><span class="line">    <span class="keyword">int</span> discoverTime;</span><br><span class="line">    <span class="keyword">int</span> finishTime;</span><br><span class="line">    Vertex1 nextNode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、Graph对象类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Graph1</span> </span>&#123;</span><br><span class="line">    Vertex1[] vertexArray=<span class="keyword">new</span> Vertex1[<span class="number">100</span>];</span><br><span class="line">    <span class="keyword">int</span> verNum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> edgeNum=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3、核心实现类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;pre&gt;无权有向图和无向图的构建以及实现了图的BFS遍历和DFS遍历:</span></span><br><span class="line"><span class="comment"> * 1&gt;.使用队列Queue实现图的BFS遍历;</span></span><br><span class="line"><span class="comment"> * 2&gt;.递归实现图的DFS遍历;</span></span><br><span class="line"><span class="comment"> * 3&gt;.使用栈Stack迭代实现图的DFS遍历。&lt;/pre&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> King</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CreateGraph1</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> time=<span class="number">0</span>;</span><br><span class="line">    Stack&lt;Vertex1&gt; stackVertex=<span class="keyword">new</span> Stack&lt;Vertex1&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Graph1 graph=<span class="keyword">new</span> Graph1();</span><br><span class="line">        CreateGraph1 createGraph=<span class="keyword">new</span> CreateGraph1();</span><br><span class="line">        createGraph.initialGraph(graph);</span><br><span class="line">        createGraph.outputGraph(graph);</span><br><span class="line"><span class="comment">//      System.out.println(&quot;DFS搜索路径为(递归实现)：&quot;);</span></span><br><span class="line"><span class="comment">//      createGraph.DFS(graph);</span></span><br><span class="line">        System.out.println(<span class="string">&quot;DFS搜索路径为(栈实现):&quot;</span>);</span><br><span class="line">        createGraph.stackMain(graph);</span><br><span class="line"><span class="comment">//      System.out.println(&quot;BFS搜索路径为：&quot;);</span></span><br><span class="line"><span class="comment">//      createGraph.BFS(graph);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据用户输入的string类型的顶点返回该顶点</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graph 图</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> str 输入数据</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>返回一个顶点</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Vertex1 <span class="title">getVertex</span><span class="params">(Graph1 graph,String str)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;graph.verNum;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(graph.vertexArray[i].verName.equals(str))&#123;</span><br><span class="line">                <span class="keyword">return</span> graph.vertexArray[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据用户输入的数据初始化一个图，以邻接表的形式构建!</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graph 生成的图</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initialGraph</span><span class="params">(Graph1 graph)</span></span>&#123;</span><br><span class="line">        <span class="meta">@SuppressWarnings(&quot;resource&quot;)</span></span><br><span class="line">        Scanner scan=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;请输入顶点数和边数：&quot;</span>);</span><br><span class="line">        graph.verNum=scan.nextInt();</span><br><span class="line">        graph.edgeNum=scan.nextInt();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;请依次输入定点名称：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;graph.verNum;i++)&#123;</span><br><span class="line">            Vertex1 vertex=<span class="keyword">new</span> Vertex1();</span><br><span class="line">            String name=scan.next();</span><br><span class="line">            vertex.verName=name;</span><br><span class="line">            vertex.color=<span class="string">&quot;white&quot;</span>;</span><br><span class="line">            vertex.discoverTime=<span class="number">0</span>;</span><br><span class="line">            vertex.finishTime=<span class="number">0</span>;</span><br><span class="line">            vertex.nextNode=<span class="keyword">null</span>;</span><br><span class="line">            graph.vertexArray[i]=vertex;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;请依次输入图的便边：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;graph.edgeNum;i++)&#123;</span><br><span class="line">            String preV=scan.next();</span><br><span class="line">            String folV=scan.next();</span><br><span class="line"></span><br><span class="line">            Vertex1 v1=getVertex(graph,preV);</span><br><span class="line">            <span class="keyword">if</span>(v1==<span class="keyword">null</span>)</span><br><span class="line">                System.out.println(<span class="string">&quot;输入边存在图中没有的顶点！&quot;</span>);</span><br><span class="line">            Vertex1 v2=<span class="keyword">new</span> Vertex1();</span><br><span class="line">            v2.verName=folV;</span><br><span class="line">            v2.nextNode=v1.nextNode;</span><br><span class="line">            v1.nextNode=v2;</span><br><span class="line"></span><br><span class="line"><span class="comment">//          紧接着下面注释的代码加上便是构建无向图的，不加则是构建有向图的！</span></span><br><span class="line"><span class="comment">//          Vertex1 reV2=getVertex(graph,folV);</span></span><br><span class="line"><span class="comment">//          if(reV2==null)</span></span><br><span class="line"><span class="comment">//              System.out.println(&quot;输入边存在图中没有的顶点！&quot;);</span></span><br><span class="line"><span class="comment">//          Vertex1 reV1=new Vertex1();</span></span><br><span class="line"><span class="comment">//          reV1.verName=preV;</span></span><br><span class="line"><span class="comment">//          reV1.nextNode=reV2.nextNode;</span></span><br><span class="line"><span class="comment">//          reV2.nextNode=reV1;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 输入图的邻接表</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graph 待输出的图</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">outputGraph</span><span class="params">(Graph1 graph)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;输出图的邻接链表为：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;graph.verNum;i++)&#123;</span><br><span class="line">            Vertex1 vertex=graph.vertexArray[i];</span><br><span class="line">            System.out.print(vertex.verName);</span><br><span class="line"></span><br><span class="line">            Vertex1 current=vertex.nextNode;</span><br><span class="line">            <span class="keyword">while</span>(current!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;--&gt;&quot;</span>+current.verName);</span><br><span class="line">                current=current.nextNode;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * DFS遍历辅助函数，标记颜色是辅助，即根据顶点返回其下标</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> vertex 顶点</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graph 图</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>返回下标</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">index</span><span class="params">(Vertex1 vertex,Graph1 graph)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;graph.verNum;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(vertex.verName.equals(graph.vertexArray[i].verName))</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * DFS深度优先遍历初始化</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graph 图</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DFS</span><span class="params">(Graph1 graph)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;graph.verNum;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(graph.vertexArray[i].color.equals(<span class="string">&quot;white&quot;</span>))&#123;</span><br><span class="line">                DfsVisit(graph.vertexArray[i],graph);</span><br><span class="line">                System.out.println();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * DFS递归函数</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> vertex 顶点</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graph 图</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DfsVisit</span><span class="params">(Vertex1 vertex,Graph1 graph)</span></span>&#123;</span><br><span class="line">        vertex.color=<span class="string">&quot;gray&quot;</span>;</span><br><span class="line">        time=time+<span class="number">1</span>;</span><br><span class="line">        vertex.discoverTime=time;</span><br><span class="line">        System.out.print(vertex.verName+<span class="string">&quot;--&gt;&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Vertex1 current=vertex.nextNode;</span><br><span class="line">        <span class="keyword">while</span>(current!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            Vertex1 currentNow=getVertex(graph, current.verName);</span><br><span class="line">            <span class="keyword">if</span>(currentNow.color.equals(<span class="string">&quot;white&quot;</span>))</span><br><span class="line">                DfsVisit(currentNow,graph);</span><br><span class="line">            current=current.nextNode;</span><br><span class="line">        &#125;</span><br><span class="line">        vertex.color=<span class="string">&quot;black&quot;</span>;</span><br><span class="line">        time=time+<span class="number">1</span>;</span><br><span class="line">        vertex.finishTime=time;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 寻找一个节点的邻接点中是否还有白色节点</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> vertex 顶点</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graph 图</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 返回白色节点或是null</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Vertex1 <span class="title">getAdj</span><span class="params">(Graph1 graph,Vertex1 vertex)</span></span>&#123;</span><br><span class="line">        Vertex1 ver=getVertex(graph, vertex.verName);</span><br><span class="line">        Vertex1 current=ver.nextNode;</span><br><span class="line">        <span class="keyword">if</span>(current==<span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            Vertex1 cur=getVertex(graph, current.verName);</span><br><span class="line">            <span class="keyword">while</span>(current!=<span class="keyword">null</span> &amp;&amp; cur.color.equals(<span class="string">&quot;gray&quot;</span>))&#123;</span><br><span class="line">                current=current.nextNode;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(cur.color.equals(<span class="string">&quot;white&quot;</span>))&#123;</span><br><span class="line">                Vertex1 currentNow=getVertex(graph, current.verName);</span><br><span class="line">                <span class="keyword">return</span> currentNow;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 通过栈实现dfs遍历</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graph 图</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> vertex 顶点</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stackOperator</span><span class="params">(Graph1 graph,Vertex1 vertex)</span></span>&#123;</span><br><span class="line">        vertex.color=<span class="string">&quot;gray&quot;</span>;</span><br><span class="line">        stackVertex.push(vertex);</span><br><span class="line">        System.out.print(vertex.verName+<span class="string">&quot;--&gt;&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(!stackVertex.isEmpty())&#123;</span><br><span class="line">            Vertex1 ver=stackVertex.peek();</span><br><span class="line">            Vertex1 current=getAdj(graph,ver);</span><br><span class="line">            <span class="keyword">if</span>(current!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                stackVertex.push(current);</span><br><span class="line">                current.color=<span class="string">&quot;gray&quot;</span>;</span><br><span class="line">                System.out.print(current.verName+<span class="string">&quot;--&gt;&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                stackVertex.pop();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * DFS遍历主函数</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graph</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stackMain</span><span class="params">(Graph1 graph)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;graph.verNum;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(graph.vertexArray[i].color.equals(<span class="string">&quot;white&quot;</span>))&#123;</span><br><span class="line">                stackOperator(graph,graph.vertexArray[i]);</span><br><span class="line">                System.out.println();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * BFS广度优先搜索实现</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graph 图</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">BFS</span><span class="params">(Graph1 graph)</span></span>&#123;</span><br><span class="line">        Vertex1 current=graph.vertexArray[<span class="number">0</span>];</span><br><span class="line">        current.color=<span class="string">&quot;gray&quot;</span>;</span><br><span class="line">        time=time+<span class="number">1</span>;</span><br><span class="line">        current.discoverTime=time;</span><br><span class="line"></span><br><span class="line">        Queue&lt;Vertex1&gt; queue=<span class="keyword">new</span> LinkedList&lt;Vertex1&gt;();</span><br><span class="line">        queue.offer(current);</span><br><span class="line">        <span class="keyword">while</span>(queue.peek()!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            Vertex1 ver=queue.poll();</span><br><span class="line">            time=time+<span class="number">1</span>;</span><br><span class="line">            ver.finishTime=time;</span><br><span class="line">            System.out.print(ver.verName+<span class="string">&quot;--&gt;&quot;</span>);</span><br><span class="line"></span><br><span class="line">            Vertex1 cur=ver.nextNode;</span><br><span class="line">            <span class="keyword">while</span>(cur!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                Vertex1 curNow=getVertex(graph, cur.verName);</span><br><span class="line">                <span class="keyword">if</span>(curNow.color.equals(<span class="string">&quot;white&quot;</span>))&#123;</span><br><span class="line">                    curNow.color=<span class="string">&quot;gray&quot;</span>;</span><br><span class="line">                    time=time+<span class="number">1</span>;</span><br><span class="line">                    curNow.discoverTime=time;</span><br><span class="line">                    queue.offer(curNow);</span><br><span class="line">                &#125;</span><br><span class="line">                cur=cur.nextNode;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;null&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">DFS测试图的边：</span></span><br><span class="line"><span class="comment">v1 v2</span></span><br><span class="line"><span class="comment">v1 v3</span></span><br><span class="line"><span class="comment">v2 v3</span></span><br><span class="line"><span class="comment">v3 v4</span></span><br><span class="line"><span class="comment">v4 v2</span></span><br><span class="line"><span class="comment">v5 v4</span></span><br><span class="line"><span class="comment">v5 v6</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">BFS测试图的边(10)：</span></span><br><span class="line"><span class="comment">v1 v2</span></span><br><span class="line"><span class="comment">v1 v4</span></span><br><span class="line"><span class="comment">v2 v3</span></span><br><span class="line"><span class="comment">v4 v5</span></span><br><span class="line"><span class="comment">v4 v8</span></span><br><span class="line"><span class="comment">v5 v6</span></span><br><span class="line"><span class="comment">v5 v7</span></span><br><span class="line"><span class="comment">v5 v8</span></span><br><span class="line"><span class="comment">v6 v7</span></span><br><span class="line"><span class="comment">v7 v8</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="四、DFS与BFS比较"><a href="#四、DFS与BFS比较" class="headerlink" title="四、DFS与BFS比较"></a>四、DFS与BFS比较</h2><blockquote><p>DFS深度优先搜索，空间需求较低，不需要BFS需要一个队列保存搜索过程中搜索记录；其次，深搜在搜索过程中要考虑回溯，在搜索HTML链接，爬取数据方面适用颇多；多用于解决连通性问题。</p></blockquote><blockquote><p>BFS广度优先搜索，空间需求较高，根据其搜索模式，便于求解最短路径问题，上文提到的Dijkstral和prim算法均基于其思想，因为是按层进行搜索，所以很容易求得最短路径。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 搜索 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>回溯算法</title>
      <link href="/xfrl/2020/01/14/%E5%9B%9E%E6%BA%AF%E6%B3%95/"/>
      <url>/xfrl/2020/01/14/%E5%9B%9E%E6%BA%AF%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="回溯算法"><a href="#回溯算法" class="headerlink" title="回溯算法"></a>回溯算法</h1><h2 id="1、基本概念"><a href="#1、基本概念" class="headerlink" title="1、基本概念"></a>1、基本概念</h2><p>&nbsp;&nbsp;回溯算法实际上一个类似枚举的搜索尝试过程，主要是在搜索尝试过程中寻找问题的解，当发现已不满足求解条件时，就“回溯”返回，尝试别的路径。</p><p>&nbsp;&nbsp;回溯法是一种选优搜索法，按选优条件向前搜索，以达到目标。但当探索到某一步时，发现原先选择并不优或达不到目标，就退回一步重新选择，这种走不通就退回再走的技术为回溯法，而满足回溯条件的某个状态的点称为“回溯点”。</p><p>&nbsp;&nbsp;许多复杂的，规模较大的问题都可以使用回溯法，有“通用解题方法”的美称。</p><h2 id="2、基本思想"><a href="#2、基本思想" class="headerlink" title="2、基本思想"></a>2、基本思想</h2><p>&nbsp;&nbsp;在包含问题的所有解的解空间树中，按照深度优先搜索的策略，从根结点出发深度探索解空间树。当探索到某一结点时，要先判断该结点是否包含问题的解，如果包含，就从该结点出发继续探索下去，如果该结点不包含问题的解，则逐层向其祖先结点回溯。（其实回溯法就是对隐式图的深度优先搜索算法）。</p><p>&nbsp;&nbsp;若用回溯法求问题的所有解时，要回溯到根，且根结点的所有可行的子树都要已被搜索遍才结束。</p><p>&nbsp;&nbsp;而若使用回溯法求任一个解时，只要搜索到问题的一个解就可以结束。</p><h2 id="3、用回溯法解题的一般步骤："><a href="#3、用回溯法解题的一般步骤：" class="headerlink" title="3、用回溯法解题的一般步骤："></a>3、用回溯法解题的一般步骤：</h2><p>（1）针对所给问题，确定问题的解空间：<br>首先应明确定义问题的解空间，问题的解空间应至少包含问题的一个（最优）解。</p><p>（2）确定结点的扩展搜索规则</p><p>（3）以深度优先方式搜索解空间，并在搜索过程中用剪枝函数避免无效搜索。</p><h2 id="4、算法框架"><a href="#4、算法框架" class="headerlink" title="4、算法框架"></a>4、算法框架</h2><p>（1）问题框架</p><p>设问题的解是一个n维向量(a1,a2,………,an),约束条件是ai(i=1,2,3,……,n)之间满足某种条件，记为f(ai)。</p><p>（2）非递归回溯框架</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"> <span class="number">1</span>: <span class="keyword">int</span> a[n],i;</span><br><span class="line"> <span class="number">2</span>: 初始化数组a[];</span><br><span class="line"> <span class="number">3</span>: i = <span class="number">1</span>;</span><br><span class="line"> <span class="number">4</span>: <span class="keyword">while</span> (i&gt;<span class="number">0</span>(有路可走)   <span class="built_in"><span class="keyword">and</span></span>  (未达到目标))  <span class="comment">// 还未回溯到头</span></span><br><span class="line"> <span class="number">5</span>: &#123;</span><br><span class="line"> <span class="number">6</span>:     <span class="keyword">if</span>(i &gt; n)                                              <span class="comment">// 搜索到叶结点</span></span><br><span class="line"> <span class="number">7</span>:     &#123;   </span><br><span class="line"> <span class="number">8</span>:           搜索到一个解，输出；</span><br><span class="line"> <span class="number">9</span>:     &#125;</span><br><span class="line"><span class="number">10</span>:     <span class="keyword">else</span>                                                   <span class="comment">// 处理第i个元素</span></span><br><span class="line"><span class="number">11</span>:     &#123; </span><br><span class="line"><span class="number">12</span>:           a[i]第一个可能的值；</span><br><span class="line"><span class="number">13</span>:           <span class="keyword">while</span>(a[i]在不满足约束条件且在搜索空间内)</span><br><span class="line"><span class="number">14</span>:           &#123;</span><br><span class="line"><span class="number">15</span>:               a[i]下一个可能的值；</span><br><span class="line"><span class="number">16</span>:           &#125;</span><br><span class="line"><span class="number">17</span>:           <span class="keyword">if</span>(a[i]在搜索空间内)</span><br><span class="line"><span class="number">18</span>:          &#123;</span><br><span class="line"><span class="number">19</span>:               标识占用的资源；</span><br><span class="line"><span class="number">20</span>:               i = i+<span class="number">1</span>;                              <span class="comment">// 扩展下一个结点</span></span><br><span class="line"><span class="number">21</span>:          &#125;</span><br><span class="line"><span class="number">22</span>:          <span class="keyword">else</span> </span><br><span class="line"><span class="number">23</span>:         &#123;</span><br><span class="line"><span class="number">24</span>:               清理所占的状态空间；            <span class="comment">// 回溯</span></span><br><span class="line"><span class="number">25</span>:               i = i –<span class="number">1</span>; </span><br><span class="line"><span class="number">26</span>:          &#125;</span><br><span class="line"><span class="number">27</span>: &#125;</span><br></pre></td></tr></table></figure><p>（3）递归的算法框架</p><p>回溯法是对解空间的深度优先搜索，在一般情况下使用递归函数来实现回溯法比较简单，其中i为搜索的深度，框架如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> <span class="number">1</span>: <span class="keyword">int</span> a[n];</span><br><span class="line"> <span class="number">2</span>: <span class="built_in"><span class="keyword">try</span></span>(<span class="keyword">int</span> i)</span><br><span class="line"> <span class="number">3</span>: &#123;</span><br><span class="line"> <span class="number">4</span>:     <span class="keyword">if</span>(i&gt;n)</span><br><span class="line"> <span class="number">5</span>:        输出结果;</span><br><span class="line"> <span class="number">6</span>:      <span class="keyword">else</span></span><br><span class="line"> <span class="number">7</span>:     &#123;</span><br><span class="line"> <span class="number">8</span>:        <span class="keyword">for</span>(j = 下界; j &lt;= 上界; j=j+<span class="number">1</span>)  <span class="comment">// 枚举i所有可能的路径</span></span><br><span class="line"> <span class="number">9</span>:        &#123;</span><br><span class="line"><span class="number">10</span>:            <span class="keyword">if</span>(<span class="built_in">fun</span>(j))                 <span class="comment">// 满足限界函数和约束条件</span></span><br><span class="line"><span class="number">11</span>:              &#123;</span><br><span class="line"><span class="number">12</span>:                 a[i] = j;</span><br><span class="line"><span class="number">13</span>:               ...                         <span class="comment">// 其他操作</span></span><br><span class="line"><span class="number">14</span>:                 <span class="built_in"><span class="keyword">try</span></span>(i+<span class="number">1</span>);</span><br><span class="line"><span class="number">15</span>:               回溯前的清理工作（如a[i]置空值等）;</span><br><span class="line"><span class="number">16</span>:               &#125;</span><br><span class="line"><span class="number">17</span>:          &#125;</span><br><span class="line"><span class="number">18</span>:      &#125;</span><br><span class="line"><span class="number">19</span>: &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 回溯 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>贪心算法</title>
      <link href="/xfrl/2020/01/13/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/"/>
      <url>/xfrl/2020/01/13/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="贪心算法"><a href="#贪心算法" class="headerlink" title="贪心算法"></a>贪心算法</h1><h2 id="一、基本概念："><a href="#一、基本概念：" class="headerlink" title="一、基本概念："></a>一、基本概念：</h2><p>&nbsp;&nbsp;所谓贪心算法是指，在对问题求解时，总是做出在当前看来是最好的选择。也就是说，不从整体最优上加以考虑，他所做出的仅是在某种意义上的局部最优解。</p><p>&nbsp;&nbsp;贪心算法没有固定的算法框架，算法设计的关键是贪心策略的选择。必须注意的是，贪心算法不是对所有问题都能得到整体最优解，选择的贪心策略必须具备无后效性，即某个状态以后的过程不会影响以前的状态，只与当前状态有关。</p><p>所以对所采用的贪心策略一定要仔细分析其是否满足无后效性。</p><h2 id="二、贪心算法的基本思路："><a href="#二、贪心算法的基本思路：" class="headerlink" title="二、贪心算法的基本思路："></a>二、贪心算法的基本思路：</h2><ul><li><p>1.建立数学模型来描述问题。</p></li><li><p>2.把求解的问题分成若干个子问题。</p></li><li><p>3.对每一子问题求解，得到子问题的局部最优解。</p></li><li><p>4.把子问题的解局部最优解合成原来解问题的一个解。</p></li></ul><h2 id="三、贪心算法适用的问题"><a href="#三、贪心算法适用的问题" class="headerlink" title="三、贪心算法适用的问题"></a>三、贪心算法适用的问题</h2><p>&nbsp;&nbsp;贪心策略适用的前提是：局部最优策略能导致产生全局最优解。<br>实际上，贪心算法适用的情况很少。一般，对一个问题分析是否适用于贪心算法，可以先选择该问题下的几个实际数据进行分析，就可做出判断。</p><h2 id="四、贪心算法的实现框架"><a href="#四、贪心算法的实现框架" class="headerlink" title="四、贪心算法的实现框架"></a>四、贪心算法的实现框架</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">从问题的某一初始解出发；</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> （能朝给定总目标前进一步）</span><br><span class="line">&#123;</span><br><span class="line">    利用可行的决策，求出可行解的一个解元素；</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">由所有解元素组合成问题的一个可行解；</span><br></pre></td></tr></table></figure><h2 id="五、贪心策略的选择"><a href="#五、贪心策略的选择" class="headerlink" title="五、贪心策略的选择"></a>五、贪心策略的选择</h2><p>&nbsp;&nbsp;因为用贪心算法只能通过解局部最优解的策略来达到全局最优解，因此，一定要注意判断问题是否适合采用贪心算法策略，找到的解是否一定是问题的最优解。</p><h2 id="六、例题分析"><a href="#六、例题分析" class="headerlink" title="六、例题分析"></a>六、例题分析</h2><p>下面是一个可以试用贪心算法解的题目，贪心解的确不错，可惜不是最优解。</p><p>[背包问题]有一个背包，背包容量是M=150。有7个物品，物品可以分割成任意大小。</p><p>要求尽可能让装入背包中的物品总价值最大，但不能超过总容量。</p><p>物品 A B C D E F G</p><p>重量 35 30 60 50 40 10 25</p><p>价值 10 40 30 50 35 40 30</p><p>分析：</p><p>目标函数： ∑pi最大</p><p>约束条件是装入的物品总重量不超过背包容量：∑wi&lt;=M( M=150)</p><ul><li>（1）根据贪心的策略，每次挑选价值最大的物品装入背包，得到的结果是否最优？</li><li>（2）每次挑选所占重量最小的物品装入是否能得到最优解？</li><li>（3）每次选取单位重量价值最大的物品，成为解本题的策略。<br>值得注意的是，贪心算法并不是完全不可以使用，贪心策略一旦经过证明成立后，它就是一种高效的算法。</li></ul><p>贪心算法还是很常见的算法之一，这是由于它简单易行，构造贪心策略不是很困难。</p><p>可惜的是，它需要证明后才能真正运用到题目的算法中。</p><p>一般来说，贪心算法的证明围绕着：整个问题的最优解一定由在贪心策略中存在的子问题的最优解得来的。</p><p>对于例题中的3种贪心策略，都是无法成立（无法被证明）的，解释如下：</p><p>（1）贪心策略：选取价值最大者。反例：</p><p>W=30<br>物品：A B C<br>重量：28 12 12<br>价值：30 20 20<br>根据策略，首先选取物品A，接下来就无法再选取了，可是，选取B、C则更好。</p><p>（2）贪心策略：选取重量最小。它的反例与第一种策略的反例差不多。</p><p>（3）贪心策略：选取单位重量价值最大的物品。反例：</p><p>W=30<br>物品：A B C<br>重量：28 20 10<br>价值：28 20 10<br>根据策略，三种物品单位重量价值一样，程序无法依据现有策略作出判断，如果选择A，则答案错误。</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 贪心 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>分治算法</title>
      <link href="/xfrl/2020/01/10/%E5%88%86%E6%B2%BB%E7%AE%97%E6%B3%95/"/>
      <url>/xfrl/2020/01/10/%E5%88%86%E6%B2%BB%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="分治算法"><a href="#分治算法" class="headerlink" title="分治算法"></a>分治算法</h1><h2 id="一、基本概念"><a href="#一、基本概念" class="headerlink" title="一、基本概念"></a>一、基本概念</h2><p>&nbsp;&nbsp;在计算机科学中，分治法是一种很重要的算法。字面上的解释是“分而治之”，就是把一个复杂的问题分成两个或更多的相同或相似的子问题，再把子问题分成更小的子问题……直到最后子问题可以简单的直接求解，原问题的解即子问题的解的合并。这个技巧是很多高效算法的基础，如排序算法(快速排序，归并排序)，傅立叶变换(快速傅立叶变换)……</p><h2 id="二、基本思想及策略"><a href="#二、基本思想及策略" class="headerlink" title="二、基本思想及策略"></a>二、基本思想及策略</h2><p>&nbsp;&nbsp;分治法的设计思想是：将一个难以直接解决的大问题，分割成一些规模较小的相同问题，以便各个击破，分而治之。<br>分治策略是：对于一个规模为n的问题，若该问题可以容易地解决（比如说规模n较小）则直接解决，否则将其分解为k个规模较小的子问题，这些子问题互相独立且与原问题形式相同，递归地解这些子问题，然后将各子问题的解合并得到原问题的解。这种算法设计策略叫做分治法。</p><p>&nbsp;&nbsp;如果原问题可分割成k个子问题，1&lt;k≤n，且这些子问题都可解并可利用这些子问题的解求出原问题的解，那么这种分治法就是可行的。由分治法产生的子问题往往是原问题的较小模式，这就为使用递归技术提供了方便。在这种情况下，反复应用分治手段，可以使子问题与原问题类型一致而其规模却不断缩小，最终使子问题缩小到很容易直接求出其解。这自然导致递归过程的产生。分治与递归像一对孪生兄弟，经常同时应用在算法设计之中，并由此产生许多高效算法。</p><h2 id="三、分治法适用的情况"><a href="#三、分治法适用的情况" class="headerlink" title="三、分治法适用的情况"></a>三、分治法适用的情况</h2><p>分治法所能解决的问题一般具有以下几个特征：</p><ul><li><p>该问题的规模缩小到一定的程度就可以容易地解决</p></li><li><p>该问题可以分解为若干个规模较小的相同问题，即该问题具有最优子结构性质。</p></li><li><p>利用该问题分解出的子问题的解可以合并为该问题的解；</p></li><li><p>该问题所分解出的各个子问题是相互独立的，即子问题之间不包含公共的子子问题。</p></li></ul><p>第一条特征是绝大多数问题都可以满足的，因为问题的计算复杂性一般是随着问题规模的增加而增加；</p><p>第二条特征是应用分治法的前提它也是大多数问题可以满足的，此特征反映了递归思想的应用；</p><p>第三条特征是关键，能否利用分治法完全取决于问题是否具有第三条特征，如果具备了第一条和第二条特征，而不具备第三条特征，则可以考虑用贪心法或动态规划法。</p><p>第四条特征涉及到分治法的效率，如果各子问题是不独立的则分治法要做许多不必要的工作，重复地解公共的子问题，此时虽然可用分治法，但一般用动态规划法较好。</p><h2 id="四、分治法的基本步骤"><a href="#四、分治法的基本步骤" class="headerlink" title="四、分治法的基本步骤"></a>四、分治法的基本步骤</h2><p>分治法在每一层递归上都有三个步骤：</p><ul><li><p>step1 分解：将原问题分解为若干个规模较小，相互独立，与原问题形式相同的子问题；</p></li><li><p>step2 解决：若子问题规模较小而容易被解决则直接解，否则递归地解各个子问题;</p></li><li><p>step3 合并：将各个子问题的解合并为原问题的解。<br>它的一般的算法设计模式如下：</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> Divide-<span class="keyword">and</span>-<span class="built_in">Conquer</span>(P)</span><br><span class="line"><span class="number">1.</span> <span class="keyword">if</span> |P|≤n0</span><br><span class="line"><span class="number">2.</span> <span class="function">then <span class="title">return</span><span class="params">(ADHOC(P))</span></span></span><br><span class="line"><span class="function">3. 将P分解为较小的子问题 P1 ,P2 ,...,Pk</span></span><br><span class="line"><span class="function">4. <span class="keyword">for</span> i←1 to k</span></span><br><span class="line"><span class="function">5. <span class="keyword">do</span> yi ← Divide-<span class="keyword">and</span>-<span class="title">Conquer</span><span class="params">(Pi)</span> △ 递归解决Pi</span></span><br><span class="line"><span class="function">6. T ← <span class="title">MERGE</span><span class="params">(y1,y2,...,yk)</span> △ 合并子问题</span></span><br><span class="line"><span class="function">7. <span class="title">return</span><span class="params">(T)</span></span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;其中|P|表示问题P的规模；n0为一阈值，表示当问题P的规模不超过n0时，问题已容易直接解出，不必再继续分解。ADHOC§是该分治法中的基本子算法，用于直接解小规模的问题P。因此，当P的规模不超过n0时直接用算法ADHOC§求解。算法MERGE(y1,y2,…,yk)是该分治法中的合并子算法，用于将P的子问题P1,P2<br>,…,Pk的相应的解y1,y2,…,yk合并为P的解。</p><h2 id="五、分治法的复杂性分析"><a href="#五、分治法的复杂性分析" class="headerlink" title="五、分治法的复杂性分析"></a>五、分治法的复杂性分析</h2><p>&nbsp;&nbsp;一个分治法将规模为n的问题分成k个规模为n／m的子问题去解。设分解阀值n0=1，且adhoc解规模为1的问题耗费1个单位时间。再设将原问题分解为k个子问题以及用merge将k个子问题的解合并为原问题的解需用f(n)个单位时间。用T(n)表示该分治法解规模为|P|=n的问题所需的计算时间，则有：<br>T（n）= k T(n/m)+f(n) 通过迭代法求得方程的解：<br>递归方程及其解只给出n等于m的方幂时T(n)的值，但是如果认为T(n)足够平滑，那么由n等于m的方幂时T(n)的值可以估计T(n)的增长速度。通常假定T(n)是单调上升的，从而当<br>mi≤n&lt;mi+1时，T(mi)≤T(n)&lt;T(mi+1)。</p><p>六、可使用分治法求解的一些经典问题</p><ul><li>二分搜索</li><li>大整数乘法</li><li>Strassen矩阵乘法</li><li>棋盘覆盖</li><li>合并排序</li><li>快速排序</li><li>线性时间选择</li><li>最接近点对问题</li><li>循环赛日程表</li><li>汉诺塔</li></ul><p>七、依据分治法设计程序时的思维过程</p><p>实际上就是类似于数学归纳法，找到解决本问题的求解方程公式，然后根据方程公式设计递归程序。</p><ul><li>1、一定是先找到最小问题规模时的求解方法</li><li>2、然后考虑随着问题规模增大时的求解方法</li><li>3、找到求解的递归函数式后（各种规模或因子），设计递归程序即可。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 分治 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>动态规划</title>
      <link href="/xfrl/2020/01/09/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
      <url>/xfrl/2020/01/09/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/</url>
      
        <content type="html"><![CDATA[<h1 id="动态规划算法"><a href="#动态规划算法" class="headerlink" title="动态规划算法"></a>动态规划算法</h1><h2 id="一、基本概念"><a href="#一、基本概念" class="headerlink" title="一、基本概念"></a>一、基本概念</h2><p>&nbsp;&nbsp;动态规划过程是：每次决策依赖于当前状态，又随即引起状态的转移。一个决策序列就是在变化的状态中产生出来的，所以，这种多阶段最优化决策解决问题的过程就称为动态规划。</p><h2 id="二、基本思想与策略"><a href="#二、基本思想与策略" class="headerlink" title="二、基本思想与策略"></a>二、基本思想与策略</h2><p>&nbsp;&nbsp;基本思想与分治法类似，也是将待求解的问题分解为若干个子问题（阶段），按顺序求解子阶段，前一子问题的解，为后一子问题的求解提供了有用的信息。在求解任一子问题时，列出各种可能的局部解，通过决策保留那些有可能达到最优的局部解，丢弃其他局部解。依次解决各子问题，最后一个子问题就是初始问题的解。</p><p>&nbsp;&nbsp;由于动态规划解决的问题多数有重叠子问题这个特点，为减少重复计算，对每一个子问题只解一次，将其不同阶段的不同状态保存在一个二维数组中。</p><p>&nbsp;&nbsp;与分治法最大的差别是：适合于用动态规划法求解的问题，经分解后得到的子问题往往不是互相独立的（即下一个子阶段的求解是建立在上一个子阶段的解的基础上，进行进一步的求解）。</p><h2 id="三、适用的情况"><a href="#三、适用的情况" class="headerlink" title="三、适用的情况"></a>三、适用的情况</h2><p>能采用动态规划求解的问题的一般要具有3个性质：</p><ul><li><p>(1) 最优化原理：如果问题的最优解所包含的子问题的解也是最优的，就称该问题具有最优子结构，即满足最优化原理。</p></li><li><p>(2) 无后效性：即某阶段状态一旦确定，就不受这个状态以后决策的影响。也就是说，某状态以后的过程不会影响以前的状态，只与当前状态有关。</p></li><li><p>(3)有重叠子问题：即子问题之间是不独立的，一个子问题在下一阶段决策中可能被多次使用到。（该性质并不是动态规划适用的必要条件，但是如果没有这条性质，动态规划算法同其他算法相比就不具备优势）</p></li></ul><h2 id="四、求解的基本步骤"><a href="#四、求解的基本步骤" class="headerlink" title="四、求解的基本步骤"></a>四、求解的基本步骤</h2><p>&nbsp;&nbsp;动态规划所处理的问题是一个多阶段决策问题，一般由初始状态开始，通过对中间阶段决策的选择，达到结束状态。这些决策形成了一个决策序列，同时确定了完成整个过程的一条活动路线(通常是求最优的活动路线)。如图所示。动态规划的设计都有着一定的模式，一般要经历以下几个步骤。</p><p>&nbsp;&nbsp;初始状态→│决策１│→│决策２│→…→│决策ｎ│→结束状态</p><p>(1)划分阶段：按照问题的时间或空间特征，把问题分为若干个阶段。在划分阶段时，注意划分后的阶段一定要是有序的或者是可排序的，否则问题就无法求解。</p><p>(2)确定状态和状态变量：将问题发展到各个阶段时所处于的各种客观情况用不同的状态表示出来。当然，状态的选择要满足无后效性。</p><p>(3)确定决策并写出状态转移方程：因为决策和状态转移有着天然的联系，状态转移就是根据上一阶段的状态和决策来导出本阶段的状态。所以如果确定了决策，状态转移方程也就可写出。但事实上常常是反过来做，根据相邻两个阶段的状态之间的关系来确定决策方法和状态转移方程。</p><p>(4)寻找边界条件：给出的状态转移方程是一个递推式，需要一个递推的终止条件或边界条件。</p><p>一般，只要解决问题的阶段、状态和状态转移决策确定了，就可以写出状态转移方程（包括边界条件）。</p><p>实际应用中可以按以下几个简化的步骤进行设计：</p><ul><li><p>（1）分析最优解的性质，并刻画其结构特征。</p></li><li><p>（2）递归的定义最优解。</p></li><li><p>（3）以自底向上或自顶向下的记忆化方式（备忘录法）计算出最优值</p></li><li><p>（4）根据计算最优值时得到的信息，构造问题的最优解</p></li></ul><h2 id="五、算法实现的说明"><a href="#五、算法实现的说明" class="headerlink" title="五、算法实现的说明"></a>五、算法实现的说明</h2><p>&nbsp;&nbsp;动态规划的主要难点在于理论上的设计，也就是上面4个步骤的确定，一旦设计完成，实现部分就会非常简单。</p><p>使用动态规划求解问题，最重要的就是确定动态规划三要素：</p><ul><li><p>（1）问题的阶段</p></li><li><p>（2）每个阶段的状态</p></li><li><p>（3）从前一个阶段转化到后一个阶段之间的递推关系。</p></li></ul><p>&nbsp;&nbsp;递推关系必须是从次小的问题开始到较大的问题之间的转化，从这个角度来说，动态规划往往可以用递归程序来实现，不过因为递推可以充分利用前面保存的子问题的解来减少重复计算，所以对于大规模问题来说，有递归不可比拟的优势，这也是动态规划算法的核心之处。</p><p>&nbsp;&nbsp;确定了动态规划的这三要素，整个求解过程就可以用一个最优决策表来描述，最优决策表是一个二维表，其中行表示决策的阶段，列表示问题状态，表格需要填写的数据一般对应此问题的在某个阶段某个状态下的最优值（如最短路径，最长公共子序列，最大价值等），填表的过程就是根据递推关系，从1行1列开始，以行或者列优先的顺序，依次填写表格，最后根据整个表格的数据通过简单的取舍或者运算求得问题的最优解。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f(n,m)=max&#123;f(n-1,m), f(n-1,m-w[n])+P(n,m)&#125;</span><br></pre></td></tr></table></figure><p>六、动态规划算法基本框架</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(j=<span class="number">1</span>; j&lt;=m; j=j+<span class="number">1</span>) <span class="comment">// 第一个阶段</span></span><br><span class="line">   xn[j] = 初始值;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">for</span>(i=n<span class="number">-1</span>; i&gt;=<span class="number">1</span>; i=i<span class="number">-1</span>)<span class="comment">// 其他n-1个阶段</span></span><br><span class="line">   <span class="keyword">for</span>(j=<span class="number">1</span>; j&gt;=<span class="built_in">f</span>(i); j=j+<span class="number">1</span>)<span class="comment">//f(i)与i有关的表达式</span></span><br><span class="line">     xi[j]=j=max（或min）&#123;<span class="built_in">g</span>(xi<span class="number">-1</span>[j1:j2]), ......, <span class="built_in">g</span>(xi<span class="number">-1</span>[jk:jk+<span class="number">1</span>])&#125;;</span><br><span class="line"></span><br><span class="line">t = <span class="built_in">g</span>(x1[j1:j2]); <span class="comment">// 由子问题的最优解求解整个问题的最优解的方案</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(x1[j1]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">2</span>; i&lt;=n<span class="number">-1</span>; i=i+<span class="number">1</span>）</span><br><span class="line">&#123;  </span><br><span class="line">     t = t-xi<span class="number">-1</span>[ji];</span><br><span class="line"></span><br><span class="line">     <span class="keyword">for</span>(j=<span class="number">1</span>; j&gt;=<span class="built_in">f</span>(i); j=j+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span>(t=xi[ji])</span><br><span class="line">             <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Dp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>About me</title>
      <link href="/xfrl/2019/06/19/About%20me/"/>
      <url>/xfrl/2019/06/19/About%20me/</url>
      
        <content type="html"><![CDATA[<blockquote><ul><li>飞鸟与鱼不同路，从此山海不相逢</li></ul></blockquote><p><img "" class="lazyload placeholder" data-original="https://img14.360buyimg.com/ddimg/jfs/t1/182607/2/9588/2047442/60cb0458E07091758/487715521bd3170d.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="Birds and fish do not go the same way, since then the mountains and seas do not meet"></p>]]></content>
      
      
      <categories>
          
          <category> Person </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Me </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>从前</title>
      <link href="/xfrl/2019/06/07/Before/"/>
      <url>/xfrl/2019/06/07/Before/</url>
      
        <content type="html"><![CDATA[<h2 id="愿君前程似锦-再见依旧如故"><a href="#愿君前程似锦-再见依旧如故" class="headerlink" title="愿君前程似锦 再见依旧如故"></a>愿君前程似锦 再见依旧如故</h2><hr><blockquote><ul><li>记得早先少年时<br>Remember the old days</li><li>大家诚诚恳恳<br>when everyone was sincere</li><li>说一句 是一句<br>one’s word is one’s bond</li><li>清早上火车站<br>The dawn of the train station</li><li>长街黑暗无行人<br>the dark street with no sign of pedestrian</li><li>卖豆浆的小店冒着热气<br>and the steam from the soy-milk stall</li><li>从前的日色变得慢<br>The nightfalls used to come late in the past</li><li>车，马，邮件都慢<br>Everything was slow, the bike, the horse, and the post</li><li>一生只够爱一个人<br>a lifetime was all but enough to be in love with one</li><li>从前的锁也好看<br>The old-school lock was beautiful</li><li>钥匙精美有样子<br>and the key exquisite looking</li><li>你锁了 人家就懂了<br>once locked, the others understood</li></ul></blockquote><hr>]]></content>
      
      
      <categories>
          
          <category> Person </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Before </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
